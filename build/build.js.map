{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/addition_function.js","webpack:///./js/class_app.js","webpack:///./js/class_canvas.js","webpack:///./js/class_casing.js","webpack:///./js/class_create_element.js","webpack:///./js/class_options_components.js","webpack:///./js/class_wrapper.js","webpack:///./js/components/class_tool_draw.js","webpack:///./js/components/class_tools_components.js","webpack:///./js/paint.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/buffer/node_modules/isarray/index.js","webpack:///./build/css/animate.css","webpack:///./build/css/main.css","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/fabric/dist/fabric.js","webpack:///./node_modules/ieee754/index.js","webpack:///./build/css/animate.css?72f2","webpack:///./build/css/main.css?1d2e","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///(webpack)/buildin/global.js","webpack:///./sass/main.sass","webpack:///jsdom (ignored)","webpack:///jsdom/lib/jsdom/living/generated/utils (ignored)","webpack:///jsdom/lib/jsdom/utils (ignored)","webpack:///xmldom (ignored)"],"names":["visible","hidden","block","none","get_left","get_top","get_width","get_height","switcher","once","elem_center","get_value_of_form","set_value_of_form","drag","get_x","get_y","get_zoom","active","disactive","html","document","documentElement","Object","defineProperty","Array","prototype","value","index","indexOf","splice","enumerable","size","style","left","top","width","height","elem","visibility","display","parseFloat","offsetLeft","e","offsetTop","clientWidth","clientHeight","f","value1","value2","flag","args","counter","left_add","top_add","elem_wrapper","only_top","only_left","set_top","set_left","form","temp","FormData","item","assign","props","hasOwnProperty","target","wrapper","f_down","f_move","f_up","ondragstart","onmousedown","x","pageX","y","pageY","begin_x","begin_y","onmousemove","onmouseup","wrapper_zoom","getBoundingClientRect","canvas","zoom","getWidth","wrapperEl","classList","add","remove","APP","querySelector","canvas_counter","CANVAS","title","background_color","add_classes","add_parent","wrapper_work","c","fabric","Canvas","backgroundColor","interactive","fireRightClick","stopContextMenu","path","all_path","renderAll","console","log","CASING","cases","querySelectorAll","onmouseover","related","relatedTarget","closest","contains","wrapper_main","prepend","append","CREATE_ELEMENT","tag_name","createElement","add_child","add_id","classes","id","parent","where","insertBefore","child","insertAdjacentHTML","OPTIONS_COMPONENTS","class_option","class_setting","elem_option","elem_setting","apply","func","addEventListener","call","bind","alert","WRAPPER","where_add","first","last","arr_coords","decision","get_size","breakdown","title_file_wrapper","set_height","HEIGHT_TITLE","header","wrapper_coords_y","coords_y","init_value","create_coords_block","SIZE_COORDS","wrapper_coords_x","coords_x","size_decision","size_tools","size_begin","size_end","size_end_counter","size_value","first_iter","scrollHeight","scrollWidth","text","create_coords_div","zero_coords_x","zero_coords_y","coefficient_x","prev_width","coefficient_y","prev_height","children","check_coords","difference_width_begin","difference_width_end","text_begin","nextElementSibling","textContent","replace","text_end","previousElementSibling","check_positive","Math","abs","check_negative","right","bottom","difference","innerHTML","middle_width","round","length","add_begin","temp_div","reduce","String","res","firstElementChild","appendChild","scrollTop","scrollLeft","set_width","ADD_SIZE","options","lastElementChild","TOOLS_DRAW","create_drag_panel","drag_panel_func","create_drag_place","move","class_name","func_event","move_func_event","func_start","move_func_start","func_end","move_func_end","pencil","pencil_func_event","pencil_func_start","pencil_func_end","text_func_event","text_func_start","text_func_end","pouring","pouring_func_event","pouring_func_start","pouring_func_end","rubber","rubber_func_event","rubber_func_start","rubber_func_end","square","square_func_event","square_func_start","square_func_end","line","line_func_event","line_func_start","line_func_end","selection","isDrawingMode","IText","enterEditing","x1","y1","rect","Rect","stroke","hasControls","setActiveObject","on","x2","y2","set","off","Line","ownCaching","TOOLS_COMPONENTS","drag_panel","drag_place","panel","arrow","close","onclick","toggle","place","after","menu_bar","all_apply_button","script","App","Wrapper","init","event_scroll","event","arr_canvas","tool_draw","prev_event","save_file","undefined","set_appear","src","toDataURL","ref_download","href","download","slice","click","new_file","name","set_apply","wrapper_main_canvas","push","centering_canvas","init_coords","replaceChild","prev","next","keyCode","ctrlKey","metaKey","path_remove","altKey","lowerCanvasEl","upperCanvasEl","change_coords","preventDefault","main_wrapper","actual_canvas","template_canvas","zoom_wrapper","canvas_wrapper","new_canvas","new_c","prev_target","temp_target","prev_title","wrapper_add_size","height_title_file","height_menu_bar","wrapper_coords_w_h","height_header","wrapper_top_tools","wrapper_left_tools","divide_width","bias_left","bias_top","clear_coords","arr_textarea","path_delete","arr_context","arr_settings","class_badge","class_settings","class_value","value_name","appear_func","Init_Value","Init_Canvas","Centering_Element","all","service_func","Create_Element","new_title","setAttribute","new_main_canvas","cloneNode","add_wrapper","init_size","all_elem","Init_Wrapper","check","get_bias","arr_class","class","draw_pencil","moveToRubber","string","text_click","fill","beginRect","draw_line","move_canvas","border","selector_value","name_value","forEach","i","parentElement","setTimeout","all_path_last","path_last","clear","pop","fill_pop","fillStyle","isPath","context","shape","text_value","draw_text","line_height","font_size","font","coords","fillRect","new_x","new_y","elementFromPoint","all_coords","getContext","parseInt","fillText","create_textarea","textarea","focus","tagName","onblur","event_textarea","current_path","create_canvas","Path2D","split","measureText","bool","arr_new_path","filter","isPointInPath","random","toString","draw","strokeRect","end_x","end_y","beginPath","moveTo","lineTo","value_class","all_close_wrapper","all_close","exports","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","code","len","charCodeAt","getLens","b64","Error","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","join","extraBytes","parts","maxChunkLength","len2","base64","require","ieee754","isArray","Buffer","SlowBuffer","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","global","typedArraySupport","kMaxLength","__proto__","foo","subarray","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","from","poolSize","_augment","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","Symbol","species","configurable","assertSize","alloc","encoding","checked","allocUnsafeSlow","isEncoding","actual","write","fromArrayLike","array","byteOffset","obj","isBuffer","copy","buffer","isnan","type","data","b","_isBuffer","compare","a","min","toLowerCase","concat","list","pos","buf","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","swap16","swap32","swap64","arguments","equals","inspect","str","max","match","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","includes","hexWrite","offset","Number","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","toHex","bytes","newBuf","sliceLen","checkOffset","ext","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","floor","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","Infinity","leadSurrogate","byteArray","hi","lo","dst","module","useSourceMap","map","content","cssWithMappingToString","modules","mediaQuery","alreadyImportedModules","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","source","sourceRoot","sourceMap","unescape","encodeURIComponent","JSON","stringify","version","window","jsdom","decodeURIComponent","features","FetchExternalResources","jsdomImplForWrapper","implForWrapper","nodeCanvas","defaultView","DOMParser","isTouchSupported","isLikelyNode","SHARED_ATTRIBUTES","DPI","reNum","fontPaths","iMatrix","canvasModule","perfLimitSizeTotal","maxCacheSideLimit","minCacheSideLimit","charWidthsCache","textureSize","enableGLFiltering","devicePixelRatio","webkitDevicePixelRatio","mozDevicePixelRatio","browserShadowBlurConstant","initFilterBackend","isWebglSupported","maxTextureSize","WebglFilterBackend","tileSize","Canvas2dFilterBackend","_removeEventListener","eventName","handler","__eventListeners","eventListener","util","observe","prop","stopObserving","fire","listenersForEvent","Observable","trigger","Collection","_objects","_onObjectAdded","renderOnAddRemove","requestRenderAll","insertAt","object","nonSplicing","objects","getObjects","somethingRemoved","_onObjectRemoved","forEachObject","callback","o","isEmpty","complexity","memo","current","CommonMethods","_setOptions","_initGradient","filler","property","colorStops","Gradient","_initPattern","Pattern","_initClipping","clipTo","functionBody","getFunctionBody","Function","_setObject","_set","key","get","sqrt","atan2","PiBy180","PI","PiBy2","cos","angle","angleSlice","sin","sign","removeFromArray","idx","getRandomInt","degreesToRadians","degrees","radiansToDegrees","radians","rotatePoint","point","origin","subtractEquals","v","rotateVector","Point","addEquals","vector","rx","ry","transformPoint","p","t","ignoreOffset","makeBoundingBoxFromPoints","points","xPoints","minX","maxX","yPoints","minY","maxY","invertTransform","r","toFixed","number","fractionDigits","parseUnit","fontSize","unit","exec","Text","DEFAULT_SVG_FONT_SIZE","falseFunction","getKlass","namespace","camelize","charAt","toUpperCase","resolveNamespace","getSvgAttributes","attributes","loadImage","url","crossOrigin","img","createImage","onLoadCallback","onload","onerror","substring","loadImageInDom","div","position","parentNode","removeChild","enlivenObjects","reviver","onLoaded","numLoadedObjects","numTotalObjects","enlivenedObjects","klass","error","enlivenPatterns","patterns","numLoadedPatterns","numPatterns","enlivenedPatterns","pattern","groupSVGElements","elements","centerPoint","Group","sourcePath","populateWithProperties","destination","properties","drawDashedLine","ctx","da","dx","dy","rot","dc","di","save","translate","rotate","restore","createCanvasElement","clipContext","receiver","clip","multiplyTransformMatrices","is2x2","qrDecompose","denom","scaleX","scaleY","skewX","skewY","translateX","translateY","customTransformMatrix","skewMatrixX","tan","scaleMatrix","resetObjectTransform","flipX","flipY","fn","isTransparent","tolerance","_isTransparent","imageData","getImageData","l","parsePreserveAspectRatioAttribute","attribute","meetOrSlice","alignX","alignY","aspectRatioAttrs","align","clearFabricFontCache","fontFamily","limitDimsByArea","ar","maximumArea","roughWidth","perfLimitSizeY","capValue","findScaleToFit","findScaleToCover","arcToSegmentsCache","segmentToBezierCache","boundsOfCurveCache","_join","arcToSegments","toX","toY","large","sweep","rotateX","argsString","th","sinTh","cosTh","fromX","fromY","px","py","rx2","ry2","py2","px2","pl","root","s","cx","cy","cx1","cy1","mTheta","calcVectorAngle","dtheta","segments","ceil","result","mDelta","mT","th3","segmentToBezier","th2","argsString2","costh2","sinth2","costh3","sinth3","cp1X","cp1Y","cp2X","cp2Y","ux","uy","vx","vy","ta","tb","drawArc","fx","fy","tx","ty","segs","segsNorm","bezierCurveTo","getBoundsOfArc","bound","bounds","getBoundsOfCurve","x0","y0","x3","y3","tvalues","t1","t2","b2ac","sqrtb2ac","jlen","mt","invoke","method","byProperty","find","k","condition","extend","deep","Element","clone","character","capitalize","firstLetterOnly","escapeXml","graphemeSplit","textstring","chr","graphemes","getWholeChar","emptyFunction","IS_DONTENUM_BUGGY","addMethods","superclass","constructor","returnValue","valueOf","Subclass","callSuper","methodName","parentMethod","_this","superClassMethod","createClass","shift","initialize","subclasses","unknown","areHostMethods","methodNames","test","getElement","setElement","getUniqueId","uid","element","__uniqueID","createListener","wrappedHandler","createWrappedHandler","createDispatcher","handlers","handlersForEvent","shouldUseAddListenerRemoveListener","shouldUseAttachEventDetachEvent","listeners","addListener","removeListener","removeEventListener","listener","attachEvent","detachEvent","existingHandler","getPointer","srcElement","scroll","getScrollLeftTop","pointerX","pointerY","clientX","clientY","_getPointer","pageProp","clientProp","touchProp","setStyle","styles","elementStyle","cssText","setOpacity","normalizedProperty","styleFloat","parseEl","supportsOpacity","opacity","supportsFilters","reOpacity","es","currentStyle","hasLayout","_slice","getById","getElementById","sliceCanConvertNodelists","toArray","arrayLike","childNodes","err","makeElement","el","className","htmlFor","addClass","wrapElement","docElement","body","host","nodeType","getElementOffset","docElem","doc","ownerDocument","box","scrollLeftTop","offsetAttributes","borderLeftWidth","borderTopWidth","paddingLeft","paddingTop","attr","getElementStyle","clientLeft","clientTop","getComputedStyle","selectProp","makeElementUnselectable","onselectstart","unselectable","makeElementSelectable","getScript","headEl","getElementsByTagName","scriptEl","loading","onreadystatechange","readyState","getNodeCanvas","impl","_canvas","_image","addParamToUrl","param","makeXHR","factories","ActiveXObject","XMLHttpRequest","req","emptyFn","request","onComplete","xhr","parameters","open","setRequestHeader","send","warn","noop","animate","requestAnimFrame","timestamp","Date","duration","finish","time","onChange","abort","easing","d","startValue","endValue","byValue","onStart","tick","ticktime","currentTime","timePerc","valuePerc","_requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_cancelAnimFrame","cancelAnimationFrame","clearTimeout","cancelAnimFrame","calculateColor","begin","color","animateColor","fromColor","toColor","startColor","Color","getSource","endColor","posValue","colorEasing","normalize","asin","elastic","opts","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","ease","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","svgValidTagNames","svgViewBoxElements","svgInvalidAncestors","svgValidParents","attributesMap","transform","colorAttributes","svgValidTagNamesRegEx","getSvgRegex","svgViewBoxElementsRegEx","svgInvalidAncestorsRegEx","svgValidParentsRegEx","cssRules","gradientDefs","normalizeAttr","normalizeValue","parentAttributes","transformMatrix","parseTransformAttribute","fillIndex","strokeIndex","RegExp","_setStrokeFillOpacity","setAlpha","getAlpha","toRgba","_getMultipleNodes","nodeNames","nodeName","nodeArray","nodeList","rotateMatrix","matrix","multiplierX","multiplierY","skewMatrix","translateMatrix","commaWsp","scale","transforms","transformList","reTransformList","reTransform","attributeValue","matrices","operation","combinedMatrix","parseStyleString","oStyle","chunk","pair","parseStyleObject","getGlobalStylesForElement","svgUid","rule","elementMatchesRule","selectors","firstMatching","parentMatching","selectorMatches","doesSomeParentMatch","selector","classNames","getAttribute","matcher","elementById","node","nodelist","parseUseDirectives","xlink","el2","currentTrans","oldLength","attrs","applyViewboxTransform","el3","nodeValue","firstChild","removeAttribute","reViewBoxAttrValue","viewBoxAttr","viewBoxWidth","viewBoxHeight","widthAttr","heightAttr","preserveAspectRatio","missingViewBox","missingDimAttr","toBeParsed","parsedDim","hasAncestorWithNodeName","parseSVGDocument","parsingOptions","__uid","descendants","selectNodes","getGradientDefs","getCSSRules","parseElements","instances","reFontDeclaration","parseFontDeclaration","fontStyle","fontWeight","lineHeight","tagArray","elList","idsToXlinkMap","parseAttributes","ownAttributes","parseStyleAttribute","normalizedAttr","normalizedValue","normalizedStyle","mergedAttrs","ElementsParser","parse","parsePointsAttribute","parsedPoints","allRules","rules","styleContents","ruleObj","declaration","propertyValuePairs","_rule","loadSVGFromURL","xml","responseXML","responseText","async","loadXML","results","_options","allElements","loadSVGFromString","parser","parseFromString","regexUrl","numElements","createObjects","_obj","createObject","fromElement","_createObject","checkIfDone","createCallback","resolveGradient","Image","_removeTransformMatrix","instanceFillValue","gradientId","lastIndex","scalarAdd","scalar","scalarAddEquals","subtract","scalarSubtract","scalarSubtractEquals","multiply","multiplyEquals","divide","divideEquals","eq","lt","lte","gt","gte","lerp","distanceFrom","midPointFrom","setXY","setX","setY","setFromPoint","Intersection","status","appendPoint","appendPoints","intersectLineLine","a1","a2","b1","b2","uaT","ubT","uB","ua","ub","intersectLinePolygon","inter","intersectPolygonPolygon","points1","points2","intersectPolygonRectangle","r1","r2","topRight","bottomLeft","inter1","inter2","inter3","inter4","setSource","_tryParsingColor","colorNameMap","sourceFromHex","sourceFromRgb","sourceFromHsl","_rgbToHsl","g","h","_source","toRgb","toHsl","hsl","toHsla","toHexa","alpha","toGrayscale","average","currentAlpha","toBlackWhite","threshold","overlayWith","otherColor","otherAlpha","otherSource","reRGBa","reHSLa","reHex","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","hue2rgb","q","fromRgb","fromSource","fromRgba","fromHsl","fromHsla","fromHex","isShortNotation","isRGBa","oColor","getColorStop","colorAlpha","keyValuePairs","getLinearCoords","getRadialCoords","offsetX","offsetY","gradientTransform","addColorStop","toObject","propertiesToInclude","toSVG","markup","commonAttributes","needsSwap","sort","pathOffset","reverse","minRadius","maxRadius","percentageShift","colorStop","toLive","gradient","createLinearGradient","createRadialGradient","instance","colorStopEls","gradientUnits","ellipseMatrix","_convertPercentUnitsToValues","forObject","propValue","addFactor","multFactor","scaleFactor","repeat","patternTransform","setOptions","NUM_FRACTION_DIGITS","patternSource","patternWidth","patternHeight","patternOffsetX","patternOffsetY","patternImgSrc","complete","naturalWidth","naturalHeight","createPattern","Shadow","blur","affectStroke","includeDefaultValues","_parseShadow","shadow","shadowStr","offsetsAndBlur","reOffsetsAndBlur","fBoxX","fBoxY","BLUR_BOX","proto","StaticCanvas","CANVAS_INIT_ERROR","renderAndResetBound","renderAndReset","requestRenderAllBound","_initStatic","backgroundImage","overlayColor","overlayImage","stateful","controlsAboveOverlay","allowTouchScrolling","imageSmoothingEnabled","viewportTransform","backgroundVpt","overlayVpt","onBeforeScaleRotate","enableRetinaScaling","vptCoords","skipOffscreen","cb","_createLowerCanvas","_initOptions","_setImageSmoothing","_initRetinaScaling","setOverlayImage","setBackgroundImage","setBackgroundColor","setOverlayColor","calcOffset","_isRetinaScaling","getRetinaScaling","contextContainer","_offset","image","__setBgOverlayImage","__setBgOverlayColor","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","oImageSmoothingEnabled","_createCanvasElement","canvasEl","_applyCanvasStyle","getHeight","setWidth","setDimensions","setHeight","dimensions","cssValue","cssOnly","_setBackstoreDimension","backstoreOnly","_setCssDimension","_isCurrentlyDrawing","freeDrawingBrush","_setBrushStyles","cacheCanvasEl","getZoom","setViewportTransform","vpt","activeObject","_activeObject","ignoreVpt","skipAbsolute","group","setCoords","calcViewportBoundaries","zoomToPoint","before","setZoom","absolutePan","relativePan","setupState","clearContext","clearRect","_hasITextHandlers","_mouseUpITextHandler","_iTextInstances","canvasToDrawOn","renderCanvas","isRendering","iVpt","tl","br","tr","bl","_renderBackground","_renderObjects","drawControls","_renderOverlay","render","_renderBackgroundOrOverlay","getCenter","centerObjectH","_centerObject","getCenterPoint","centerObjectV","centerObject","center","viewportCenterObject","vpCenter","getVpCenter","viewportCenterObjectH","viewportCenterObjectV","setPositionByOrigin","toDatalessJSON","toDatalessObject","_toObjectMethod","_toObjects","__serializeBgOverlay","excludeFromExport","_toObject","originalValue","bgImage","overlay","background","svgViewportTransformation","_setSVGPreamble","_setSVGHeader","_setSVGBgOverlayColor","_setSVGBgOverlayImage","_setSVGObjects","suppressPreamble","viewBox","createSVGFontFacesMarkup","createSVGRefElementsMarkup","fontList","row","rowIndex","_char","charIndex","_setSVGObject","finalWidth","finalHeight","sendToBack","activeSelection","objs","unshift","bringToFront","sendBackwards","intersecting","newIdx","objsMoved","_findNewLowerIndex","isIntersecting","intersectsWithObject","isContainedWithinObject","bringForward","_findNewUpperIndex","dispose","DataURLExporter","EMPTY_JSON","supports","setLineDash","createPNGStream","createJPEGStream","BaseBrush","strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeDashArray","setShadow","contextTop","strokeStyle","lineWidth","lineCap","miterLimit","lineJoin","_saveAndTransform","_setShadow","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","_resetShadow","PencilBrush","_points","_drawSegment","p1","p2","midPoint","quadraticCurveTo","onMouseDown","pointer","_prepareForDrawing","_captureDrawingPath","_render","onMouseMove","oldEnd","onMouseUp","_finalizeAndAddPath","_reset","_addPoint","pointerPoint","convertPointsToSVGPath","multSignX","multSignY","manyPoints","createPath","pathData","Path","strokeWidth","translateToGivenOrigin","originX","originY","closePath","CircleBrush","drawDot","addPoint","arc","radius","originalRenderOnAddRemove","circles","circle","Circle","circleRadius","circleColor","SprayBrush","density","dotWidth","dotWidthVariance","randomOpacity","optimizeOverlapping","sprayChunks","addSprayChunk","sprayChunkPoints","rects","ilen","sprayChunk","_getOptimizedRects","uniqueRects","uniqueRectsArray","globalAlpha","PatternBrush","getPatternSrc","dotDistance","patternCanvas","patternCtx","getPatternSrcFunction","getPattern","topLeft","_getLeftTopCoords","supportLineDash","STROKE_OFFSET","_initInteractive","_createCacheCanvas","uniScaleTransform","uniScaleKey","centeredScaling","centeredRotation","centeredKey","altActionKey","selectionKey","altSelectionKey","selectionColor","selectionDashArray","selectionBorderColor","selectionLineWidth","selectionFullyContained","hoverCursor","moveCursor","defaultCursor","freeDrawingCursor","rotationCursor","notAllowedCursor","containerClass","perPixelTargetFind","targetFindTolerance","skipTargetFind","preserveObjectStacking","snapAngle","snapThreshold","fireMiddleClick","_currentTransform","_groupSelector","_initWrapperElement","_createUpperCanvas","_initEventListeners","_chooseObjectsToRender","activeObjects","getActiveObjects","objsToRender","activeGroupObjects","contextTopDirty","renderTopLayer","_drawSelection","renderTop","_resetCurrentTransform","original","_shouldCenterTransform","mouseXSign","mouseYSign","containsPoint","ignoreZoom","xy","_normalizePointer","_findTargetCorner","calcTransformMatrix","invertedM","vptPointer","restorePointerVpt","isTargetTransparent","contextCache","originalColor","selectionBackgroundColor","_renderControls","hasBorders","transparentCorners","_isSelectionKeyPressed","selectionKeyPressed","_shouldClearSelection","evented","selectable","centerTransform","action","_getOriginFromCorner","corner","_getActionFromCorner","_setupCurrentTransform","ex","ey","lastX","lastY","theta","shiftKey","_translateObject","newLeft","newTop","moveX","moveY","_changeSkewTransformOrigin","mouseMove","by","origins","skew","originA","originB","flipSign","skewSign","_skewObject","skewed","lockSkewingX","lockSkewingY","actualMouseByCenter","toLocalPoint","lastMouseByCenter","actualMouseByOrigin","constraintPosition","dim","_getTransformedDimensions","translateToOriginPoint","_setObjectSkew","localMouse","_dim","newValue","newDim","dimNoSkew","otherBy","_otherBy","_by","newDimMouse","atan","_scaleObject","lockScalingX","lockScalingY","lockScalingFlip","scaled","_setLocalMouse","_setObjectScale","forbidScalingX","forbidScalingY","changeX","changeY","_scaleObjectEqually","newScaleX","newScaleY","_flipObject","dist","lastDist","signX","signY","padding","_rotateObject","lockRotation","lastAngle","curAngle","hasRotated","rightAngleLocked","leftAngleLocked","setCursor","cursor","_resetObjectTransform","groupSelector","aleft","atop","_setLineDash","findTarget","skipGroup","aObjects","activeTarget","activeTargetSubs","targets","_searchPossibleTargets","_checkTarget","isEditing","normalizedPointer","subTarget","subTargetCheck","boundsWidth","boundsHeight","cssScale","lowerCanvasClass","_copyCanvasStyle","fromEl","toEl","getSelectionContext","getSelectionElement","getActiveObject","_discardActiveObject","_hoveredTarget","_fireSelectionEvents","oldObjects","somethingChanged","added","removed","opt","oldObject","selected","deselected","updated","currentActives","_setActiveObject","onSelect","onDeselect","discardActiveObject","removeListeners","originalProperties","_realizeGroupTransformOnObject","_unwindGroupTransformOnObject","layoutProps","originalValues","realizeTransform","_setCursorFromEvent","cursorOffset","mr","mb","ml","RIGHT_CLICK","MIDDLE_CLICK","LEFT_CLICK","addEventOptions","passive","checkClick","which","button","cursorMap","_bindEvents","_onResize","_onMouseDown","_onDoubleClick","_onMouseMove","_onMouseOut","_onMouseEnter","_onMouseWheel","_onContextMenu","_onDragOver","_onDragEnter","_onDragLeave","_onDrop","eventjs","_onGesture","_onDrag","_onOrientationChange","_onShake","_onLongPress","eventsBound","_onMouseUp","_simpleEventHandler","self","__onTransformGesture","__onDrag","__onMouseWheel","hiddenTextarea","__onOrientationChange","__onShake","__onLongPress","_fireEnterLeaveEvents","stopPropagation","_handleEvent","__onMouseDown","__onMouseUp","__onMouseMove","_shouldRender","isMoving","_previousPointer","searchTarget","isClick","_onMouseUpInDrawingMode","_finalizeCurrentTransform","actionPerformed","shouldRender","_maybeGroupObjects","__corner","eventType","subTargets","targetObj","_scaling","hasStateChanged","_onMouseDownInDrawingMode","_onMouseMoveInDrawingMode","shouldGroup","_shouldGroup","_handleGrouping","_beforeTransform","saveState","touches","_fireOverOutEvents","_transformObject","fireSynteticInOutEvents","targetName","canvasEvtOut","evtOut","canvasEvtIn","evtIn","config","inOpt","outOpt","oldTarget","outFires","inFires","targetChanged","previousTarget","nextTarget","reset","_beforeScaleTransform","_performTransformAction","_fire","_onScale","_isUniscalePossible","currentAction","getCornerCursor","actionIsDisabled","_getRotatedCornerCursor","hasRotatingPoint","_updateActiveSelection","_createActiveSelection","currentActiveObjects","removeWithUpdate","addWithUpdate","_createGroup","isActiveLower","groupObjects","exitEditing","ActiveSelection","_groupSelectedObjects","_collectObjects","aGroup","currentObject","selectionX1Y1","selectionX2Y2","allowIntersect","intersectsWithRect","isContainedWithinRect","supportQuality","format","quality","multiplier","cropping","__toDataURLWithMultiplier","origWidth","origHeight","scaledWidth","scaledHeight","newZoom","vp","newVp","originalInteractive","originalSkipOffScreen","needsResize","__toDataURL","loadFromDatalessJSON","json","loadFromJSON","serialized","_enlivenObjects","_setBgOverlay","loaded","cbIfLoaded","__setBgOverlay","enlivedObject","_toDataURL","_toDataURLWithMultiplier","toDataURLWithMultiplier","cloneWithoutData","backgroundImageOpacity","backgroundImageStretch","supportsLineDash","objectCaching","ALIASING_LIMIT","cornerSize","borderColor","borderDashArray","cornerColor","cornerStrokeColor","cornerStyle","cornerDashArray","fillRule","globalCompositeOperation","borderOpacityWhenMoving","borderScaleFactor","minScaleLimit","rotatingPointOffset","lockMovementX","lockMovementY","lockUniScaling","statefullCache","noScaleCache","dirty","paintFirst","stateProperties","cacheProperties","_cacheProperties","_cacheCanvas","_cacheContext","_updateCacheCanvas","_limitCacheSize","dims","limitedDims","zoomX","capped","zoomY","_getCacheCanvasDimensions","objectScale","getObjectScaling","retina","_getNonTransformedDimensions","minCacheSize","drawingWidth","drawingHeight","dimensionsChanged","cacheWidth","cacheHeight","zoomChanged","shouldRedraw","additionalWidth","additionalHeight","shouldResizeCanvas","canvasWidth","canvasHeight","sizeGrowing","sizeShrinking","setTransform","cacheTranslationX","cacheTranslationY","_transformDone","calcOwnMatrix","_removeDefaultValues","scaling","getObjectOpacity","shouldConstrainValue","isChanged","groupNeedsUpdate","_constrainScale","isOnACache","setOnGroup","getViewportTransform","isNotVisible","isOnScreen","_setupCompositeOperation","drawSelectionBackground","_setOpacity","shouldCache","isCacheDirty","propertySet","drawObject","drawCacheOnCanvas","_removeCacheCanvas","needsItsOwnCache","willDrawShadow","_setStrokeStyles","_setFillStyles","drawImage","skipCanvas","_removeShadow","decl","dashArray","alternative","styleOverride","drawBorders","forActiveSelection","drawBordersInGroup","multX","multY","_applyPatternGradientTransform","_renderPaintInOrder","_renderStroke","_renderFill","_renderDashedStroke","_findCenterFromElement","_assignTransformMatrixProps","preserveAspectRatioOptions","cropX","cropY","objectForm","_fromObject","cloneAsImage","dataUrl","boundingRect","getBoundingRect","origParams","originalCanvas","isType","setGradient","setPatternFill","setColor","shouldCenterOrigin","_setOriginToCenter","_resetOrigin","centerH","viewportCenterH","centerV","viewportCenterV","viewportCenter","getLocalPointer","pClicked","objectLeftTop","createAccessors","extraParam","originXOffset","originYOffset","fromOriginX","fromOriginY","toOriginX","toOriginY","translateToCenterPoint","leftTop","getPointByOrigin","adjustPosition","to","hypotFull","getScaledWidth","xFull","yFull","offsetFrom","offsetTo","_originalOriginX","_originalOriginY","originPoint","getCoords","multiplyMatrices","oCoords","aCoords","ownMatrixCache","matrixCache","absolute","calculate","calcCoords","pointTL","pointBR","intersection","other","lines","_getImageLines","_findCrossPoints","topline","rightline","bottomline","leftline","xi","xcount","iLine","lineKey","getScaledHeight","scaleToWidth","boundingRectFactor","scaleToHeight","_calcRotateMatrix","_calcTranslateMatrix","startMatrix","finalMatrix","w","cosP","sinP","cosPSinP","cosPMinusSinP","mtr","_setCornerCoords","transformMatrixKey","sep","prefix","cache","dimensionMatrix","_calcDimensionsTransformMatrix","flipping","dimX","dimY","bbox","_calculateCurrentDimensions","getSvgColorString","getSvgStyles","skipShadow","getSvgFilter","getSvgSpanStyles","useWhiteSpace","term","textDecoration","getSvgTextDecoration","deltaY","overline","underline","linethrough","getSvgId","getSvgTransform","translatePart","anglePart","scalePart","skewXPart","skewYPart","flipXPart","flipYPart","getSvgTransformMatrix","_setSVGBg","textBgRects","_getFillAttributes","_createBaseSVGMarkup","addPaintOrder","originalSet","saveProps","tmpObj","_isEqual","origValue","currentValue","firstPass","keys","dashedPropertySet","_controlsVisibility","isControlVisible","newTheta","cornerHypotenuse","cosHalfOffset","sinHalfOffset","wh","drawRotatingPoint","rotateHeight","scaleOffset","_drawControl","control","controlName","_getControlsVisibility","setControlVisible","setControlsVisibility","FX_DURATION","fxCenterObjectH","callbacks","empty","fxCenterObjectV","fxRemove","propsToAnimate","skipCallbacks","_animate","propPair","valueProgress","timeProgress","coordProps","_setWidthHeight","_getLeftToOriginX","_getTopToOriginY","makeEdgeToOriginGetter","axis1","axis2","dimension","nearest","farthest","calcLinePoints","origStrokeStyle","xMult","yMult","ATTRIBUTE_NAMES","parsedAttributes","_callback","propertyNames","originValues","pi","startAngle","endAngle","setRadius","startX","startY","endX","endY","largeFlag","getRadiusX","getRadiusY","isValidRadius","Triangle","widthBy2","heightBy2","piBy2","Ellipse","getRx","getRy","_initRxRy","isRounded","Polyline","calcDim","_calcDimensions","diffX","diffY","commonRender","Polygon","_toString","commandLengths","repeatedCommands","M","fromArray","_parsePath","_setPositionDimensions","_parseDimensions","_renderPathCommands","previous","subpathStartX","subpathStartY","controlX","controlY","tempX","tempY","chunks","addTransform","currentPath","re","coordsStr","coordsParsed","command","commandLength","repeatedCommand","klen","aX","aY","deltaX","pathUrl","useSetOnGroup","isAlreadyGrouped","_calcBounds","_updateObjectsCoords","_updateObjectsACoords","_updateObjectCoords","objectLeft","objectTop","_restoreObjectsState","objsToObject","originalDefaults","ownCache","_restoreObjectState","destroy","toActiveSelection","ungroupOnCanvas","setObjectsCoords","onlyWidthHeight","iLen","jLen","_getBounds","minXY","maxXY","toGroup","newGroup","childrenOverride","_lastScaleX","_lastScaleY","_filterScalingX","_filterScalingY","minimumScaleTrigger","cacheKey","filters","_initElement","_element","backend","filterBackend","evictCachesForKey","_originalElement","_initConfig","resizeFilter","applyResizeFilters","applyFilters","_filteredEl","setCrossOrigin","getOriginalSize","_stroke","filterObj","getSrc","hasCrop","clipPath","clipPathId","imageMarkup","getSvgSrc","origFill","filtered","setSrc","retinaScaling","minimumScale","elementToFilter","sourceWidth","sourceHeight","imgElement","_needsResize","sW","sH","elementToDraw","_resetWidthHeight","CSS_CANVAS","_initFilters","pAR","rWidth","rHeight","pWidth","pHeight","_object","resizeFilters","fromURL","imgOptions","_getAngleValueForStraighten","straighten","fxStraighten","straightenObject","fxStraightenObject","testPrecision","gl","precision","fragmentSource","fragmentShader","createShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","isSupported","getParameter","MAX_TEXTURE_SIZE","precisions","webGlPrecision","setupGLContext","captureGPUInfo","resources","createWebGLCanvas","aPosition","Float32Array","chooseFastestCopyGLTo2DMethod","canMeasurePerf","performance","canUseImageData","ImageData","canUseArrayBuffer","canUseUint8Clamped","Uint8ClampedArray","targetCanvas","imageBuffer","testContext","destinationWidth","destinationHeight","startTime","drawImageTime","putImageDataTime","now","copyGLTo2DDrawImage","copyGLTo2DPutImageData","copyGLTo2D","glOptions","premultipliedAlpha","clearColor","cachedTexture","getCachedTexture","pipelineState","originalWidth","originalHeight","sourceTexture","createTexture","targetTexture","originalTexture","passes","webgl","programCache","pass","tempFbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","applyTo","resizeCanvasIfNeeded","bindTexture","TEXTURE_2D","deleteTexture","deleteFramebuffer","applyFiltersDebug","glError","getError","NO_ERROR","errorString","glErrorToString","glErrorCode","errorCode","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","INVALID_FRAMEBUFFER_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","clearWebGLCaches","textureCache","textureImageSource","texture","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","RGBA","UNSIGNED_BYTE","uniqueId","gpuInfo","getExtension","renderer","vendor","UNMASKED_RENDERER_WEBGL","UNMASKED_VENDOR_WEBGL","dWidth","dHeight","glCanvas","sourceY","numBytes","u8","u8Clamped","readPixels","imgData","putImageData","sourceElement","originalImageData","originalEl","BaseFilter","vertexSource","createProgram","vertexShader","VERTEX_SHADER","getShaderInfoLog","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","attributeLocations","getAttributeLocations","uniformLocations","getUniformLocations","uStepW","getUniformLocation","uStepH","getAttribLocation","sendAttributeData","aPositionData","attributeLocation","aPostion","bindBuffer","ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","bufferData","STATIC_DRAW","_setupFrameBuffer","framebufferTexture2D","COLOR_ATTACHMENT0","_swapTextures","isNeutralState","applyToWebGL","applyTo2d","retrieveShader","shader","useProgram","uniform1f","sendUniformData","viewport","drawArrays","TRIANGLE_STRIP","bindAdditionalTexture","textureUnit","activeTexture","TEXTURE0","unbindAdditionalTexture","getMainParameter","mainParameter","setMainParameter","createHelpLayer","helpLayer","mainP","ColorMatrix","colorsOnly","_class","uColorMatrix","uConstants","constants","uniformMatrix4fv","uniform4fv","Brightness","brightness","uBrightness","Convolute","opaque","Convolute_3_1","Convolute_3_0","Convolute_5_1","Convolute_5_0","Convolute_7_1","Convolute_7_0","Convolute_9_1","Convolute_9_0","weights","side","halfSide","sw","sh","createImageData","alphaFac","dstOff","scx","scy","srcOff","wt","uMatrix","uOpaque","uHalfSize","uSize","uniform1fv","Grayscale","lightness","luminosity","mode","uMode","uniform1i","Invert","invert","uInvert","Noise","noise","rand","uNoise","uSeed","Pixelate","blocksize","_i","_j","_iLen","_jLen","uBlocksize","RemoveColor","distance","useAlpha","lowC","highC","uLow","uHigh","Brownie","Vintage","Kodachrome","Technicolor","Polaroid","Sepia","BlackWhite","BlendColor","screen","diff","lighten","darken","exclusion","tint","tg","alpha1","uColor","BlendImage","mask","TEXTURE1","calculateMatrix","canvas1","blendData","blendImage","uTransformMatrix","uImage","uniformMatrix3fv","Resize","resizeType","lanczosLobes","uDelta","uTaps","uniform2fv","horizontal","taps","filterWindow","getFilterWindow","generateShader","tempScale","getTaps","lobeFunction","lanczosCreate","offsets","fragmentSourceTOP","dW","dH","lobes","xx","rcpScaleX","rcpScaleY","oW","oH","newData","sliceByTwo","hermiteFastResize","bilinearFiltering","lanczosResize","mult","doneW","doneH","stepW","stepH","tmpCanvas","sX","sY","dX","dY","process","u","weight","fX","fY","ratioX","icenter","ratioY","range2X","cacheLanc","range2Y","lanczos","rcpRatioX","rcpRatioY","srcData","destData","destImg","xDiff","yDiff","chnl","origPix","w4","pixels","destImage","destPixels","ratioW","ratioH","ratioWHalf","ratioHHalf","img2","data2","weightsAlpha","gxR","gxG","gxB","gxA","centerY","yy","centerX","w0","Contrast","contrast","contrastF","uContrast","Saturation","saturation","adjust","uSaturation","Blur","aspectRatio","simpleBlur","canvas2","blurLayer1","blurLayer2","ctx1","ctx2","nSamples","percent","newImageData","delta","chooseRightDelta","blurScale","Gamma","gamma","rInv","gInv","bInv","rVals","gVals","bVals","uGamma","uniform3fv","Composed","subFilters","HueRotation","rotation","rad","aThird","aThirdSqtSin","OneMinusCos","_dimensionAffectingProps","_reNewline","_reSpacesAndTabs","_reSpaceAndTab","_reWords","textAlign","superscript","baseline","subscript","textBackgroundColor","_fontSizeFraction","_fontSizeMult","charSpacing","_measuringContext","_styleProperties","__charBounds","CACHE_FONT_SIZE","MIN_TEXT_WIDTH","__skipDimension","initDimensions","getMeasuringContext","_splitText","newLines","_splitTextIntoLines","textLines","_textLines","graphemeLines","_unwrappedTextLines","_unwrappedLines","_text","graphemeText","_clearCache","calcTextWidth","cursorWidth","enlargeSpaces","calcTextHeight","diffSpace","currentLineWidth","numberOfSpaces","accumulatedSpace","charBound","spaces","isEndOfWrapping","getLineWidth","kernedWidth","lineIndex","_setTextStyles","_renderTextLinesBackground","_renderTextDecoration","_renderText","_renderTextStroke","_renderTextFill","charStyle","forMeasuring","textBaseline","_getFontDeclaration","maxWidth","_renderTextLine","_renderChars","styleHas","lineTopOffset","heightOfLine","lineLeftOffset","originalFill","lastColor","leftOffset","_getLeftOffset","topOffset","_getTopOffset","boxStart","boxWidth","charBox","currentColor","getHeightOfLine","_getLineLeftOffset","getValueOfPropertyAt","getFontCache","cacheProp","_applyCharStyles","styleDeclaration","_measureChar","previousChar","prevCharStyle","fontCache","fontDeclaration","previousFontDeclaration","couple","stylesAreEqual","coupleWidth","previousWidth","fontMultiplier","getHeightOfChar","char","measureLine","lineInfo","_measureLine","_getWidthOfCharSpacing","grapheme","prevGrapheme","graphemeInfo","numOfSpaces","lineBounds","_getGraphemeBox","skipLeft","getCompleteStyleDeclaration","prevStyle","info","previousBox","__lineHeights","maxHeight","_renderTextCommon","lineHeights","isEmptyStyles","isJustify","actualStyle","nextStyle","charsToRender","timeToRender","shortCut","_renderChar","_hasStyleChanged","_getStyleDeclaration","fullDecl","shouldFill","shouldStroke","strokeText","setSuperscript","_setScript","setSubscript","schema","loc","get2DCursorLocation","setSelectionStyles","thisStyle","_hasStyleChangedForSvg","__lineWidths","_shouldClearDimensionCache","shouldClear","_forceClearCache","_size","_dy","lastDecoration","currentDecoration","currentFill","lastFill","styleObject","newLine","newText","additionalProperties","needsDims","_key","parsedAnchor","textAnchor","textHeightScaleFactor","lineHeightDiff","scaledDiff","textHeight","offX","p3","cleanStyle","stylesCount","letterCount","stylePropertyValue","allStyleObjectPropertiesMatch","graphemeCount","stylePropertyHasBeenSet","removeStyle","lineNum","charNum","_extendStyles","_getLineStyle","_setLineStyle","_setStyleDeclaration","selectionStart","skipWrapping","getSelectionStyles","startIndex","endIndex","selectionEnd","getStyleAtPosition","lineStyle","_deleteStyleDeclaration","_deleteLineStyle","parseDecoration","editable","editingBorderColor","cursorColor","cursorDelay","cursorDuration","caching","_reSpace","_currentCursorOpacity","_selectionDirection","_abortCursorAnimation","__widthOfSpace","inCompositionMode","initBehavior","setSelectionStart","_updateAndFire","setSelectionEnd","_fireSelectionChanged","_updateTextarea","initDelayedCursor","clearContextTop","cursorOffsetCache","renderCursorOrSelection","skipRestore","_clearTextArea","boundaries","_getCursorBoundaries","renderCursor","renderSelection","_getCursorBoundariesOffsets","cursorPosition","cursorLocation","charHeight","__isMousedown","startLine","endLine","startChar","endChar","lineOffset","realLineHeight","boxEnd","compositionColor","getCurrentCharFontSize","cp","_getCurrentCharIndex","getCurrentCharColor","initAddedHandler","initRemovedHandler","initCursorSelectionHandlers","initDoubleClickSimulation","mouseMoveHandler","_initCanvasHandlers","_removeCanvasHandlers","_tick","_currentTickState","_animateCursor","targetOpacity","completeMethod","tickState","isAborted","_onTickComplete","_cursorTimeout1","_currentTickCompleteState","restart","delay","abortCursorAnimation","_cursorTimeout2","selectAll","getSelectedText","findWordBoundaryLeft","startFrom","findWordBoundaryRight","findLineBoundaryLeft","findLineBoundaryRight","searchWordBoundary","direction","reNonWord","selectWord","newSelectionStart","newSelectionEnd","selectLine","exitEditingOnOthers","initHiddenTextarea","_saveEditingProps","_setEditingProps","_textBeforeEdit","initMouseMoveHandler","getSelectionStartFromPointer","currentStart","currentEnd","__selectionStartOnMouseDown","restartCursorIfNeeded","fromStringToGraphemeSelection","smallerTextStart","graphemeStart","smallerTextEnd","graphemeEnd","fromGraphemeToStringSelection","newSelection","updateTextareaPosition","updateFromTextArea","_calcTextareaPosition","desiredPostion","compositionStart","upperCanvas","upperCanvasWidth","upperCanvasHeight","_savedProps","_restoreEditingProps","isTextChanged","_removeExtraneousStyles","removeStyleFromTo","cursorStart","cursorEnd","lineStart","charStart","lineEnd","charEnd","styleObj","shiftLineStyles","numericChar","clonedStyles","numericLine","insertNewlineStyleObject","qty","copiedStyle","currentCharStyle","newLineStyles","somethingAdded","numIndex","insertCharStyleObject","quantity","currentLineStyles","currentLineStylesCloned","numericIndex","newStyle","insertNewStyleBlock","insertedText","cursorLoc","addedLines","linesLenght","setSelectionStartEndWithShift","setSelectionInBoundaries","__lastClickTime","__lastLastClickTime","__lastPointer","__newClickTime","newPointer","isTripleClick","_stopEvent","__lastIsEditing","__lastSelected","initMousedownHandler","initMouseupHandler","initClicks","_mouseDownHandler","__mousedownX","__mousedownY","setCursorByClick","_isObjectMoved","mouseUpHandler","mouseOffset","prevWidth","_getNewSelectionStartFromOffset","distanceBtwLastCharAndCursor","distanceBtwNextCharAndCursor","onKeyDown","onKeyUp","onInput","paste","onCompositionStart","onCompositionUpdate","onCompositionEnd","_clickHandlerInitialized","onClick","keysMap","ctrlKeysMapUp","ctrlKeysMapDown","stopImmediatePropagation","_copyDone","fromPaste","nextText","charCount","nextCharCount","removedText","charDiff","textareaSelection","backDelete","copiedText","copiedTextStyle","compositionEnd","_getClipboardData","clipboardData","_getWidthBeforeCursor","widthBeforeCursor","getDownCursorOffset","isRight","selectionProp","_getSelectionForOffset","indexOnOtherLine","_getIndexOnLine","textAfterCursor","getUpCursorOffset","textBeforeCursor","widthOfCharsOnLine","indexOnLine","charWidth","foundMatch","leftEdge","rightEdge","offsetFromLeftEdge","offsetFromRightEdge","moveCursorDown","_moveCursorUpOrDown","moveCursorUp","moveCursorWithShift","moveCursorWithoutShift","moveCursorLeft","_moveCursorLeftOrRight","_move","_moveLeft","_moveRight","moveCursorLeftWithoutShift","change","moveCursorLeftWithShift","moveCursorRight","actionName","moveCursorRightWithShift","moveCursorRightWithoutShift","changed","removeChars","insertChars","multipleSpacesRegex","_getSVGLeftTopOffsets","textAndBg","_getSVGTextAndBg","textTop","textLeft","_wrapSVGTextAndBg","lineTop","noShadow","textSpans","textTopOffset","textLeftOffset","_setSVGTextLineBg","_setSVGTextLineText","_createTextCharSpan","styleDecl","shouldUseWhitespace","styleProps","fillStyles","dySpan","_pushTextBgRect","fillColor","_getSVGLineTopOffset","lastHeight","svgStyle","Textbox","minWidth","dynamicMinWidth","__cachedLines","_styleMap","_generateStyleMap","textInfo","realLineCount","realLineCharCount","isWrapping","nextLineIndex","nextOffset","shouldLimit","mapNextLine","_wrapText","desiredWidth","wrapped","_wrapLine","_measureWord","word","charOffset","_line","reservedSpace","words","infix","wordWidth","infixWidth","largestWordWidth","lineJustStarted","additionalSpace","getMinWidth","setObjectScaleOverridden","tw","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","css","location","baseUrl","protocol","currentDir","pathname","fixedCss","fullMatch","origUrl","unquotedOrigUrl","$1","newUrl","eval"],"mappings":"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C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;A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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import APP from \"./class_app\";\r\n\r\nexport let html = document.documentElement;\r\n\r\nObject.defineProperty(Array.prototype, \"remove\", {\r\n  value(value) {\r\n    let index = this.indexOf(value);\r\n\r\n    if (index !== -1) {\r\n      return this.splice(index, 1);\r\n    }\r\n    return false;\r\n  },\r\n  enumerable: false\r\n});\r\n\r\nObject.defineProperty(Array.prototype, \"next\", {\r\n  value(value) {\r\n    let index = this.indexOf(value);\r\n\r\n    if (index !== -1) {\r\n      return this[index + 1];\r\n    }\r\n    return false;\r\n  },\r\n  enumerable: false\r\n});\r\n\r\nObject.defineProperty(Array.prototype, \"prev\", {\r\n  value(value) {\r\n    let index = this.indexOf(value);\r\n\r\n    if (index !== -1) {\r\n      return this[index - 1];\r\n    }\r\n    return false;\r\n  },\r\n  enumerable: false\r\n});\r\n\r\nObject.defineProperty(Object.prototype, \"set_left\", {\r\n  value(size) {\r\n    this.style.left = size + \"px\";\r\n  },\r\n  enumerable: false\r\n});\r\n\r\nObject.defineProperty(Object.prototype, \"set_top\", {\r\n  value(size) {\r\n    this.style.top = size + \"px\";\r\n  },\r\n  enumerable: false\r\n});\r\nObject.defineProperty(Object.prototype, \"set_width\", {\r\n  value(size) {\r\n    this.style.width = size + \"px\";\r\n  },\r\n  enumerable: false\r\n});\r\nObject.defineProperty(Object.prototype, \"set_height\", {\r\n  value(size) {\r\n    this.style.height = size + \"px\";\r\n  },\r\n  enumerable: false\r\n});\r\n\r\nexport function visible(elem) {\r\n  elem.style.visibility = \"visible\";\r\n}\r\nexport function hidden(elem) {\r\n  elem.style.visibility = \"hidden\";\r\n}\r\n\r\nexport function block(elem) {\r\n  elem.style.display = \"block\";\r\n}\r\nexport function none(elem) {\r\n  elem.style.display = \"none\";\r\n}\r\n\r\nexport function get_left(elem) {\r\n  try {\r\n    let left = parseFloat(elem.style.left);\r\n    if (!left) {\r\n      left = elem.offsetLeft;\r\n    }\r\n    return left;\r\n  } catch (e) {}\r\n}\r\nexport function get_top(elem) {\r\n  try {\r\n    let top = parseFloat(elem.style.top);\r\n    if (!top) {\r\n      top = elem.offsetTop;\r\n    }\r\n    return top;\r\n  } catch (e) {}\r\n}\r\n\r\nexport function get_width(elem) {\r\n  let width;\r\n  try {\r\n    if ((parseFloat(elem.style.width) || 0) > elem.clientWidth) {\r\n      width = parseFloat(elem.style.width) || 0;\r\n    } else {\r\n      width = elem.clientWidth;\r\n    }\r\n  } catch (e) {}\r\n  return width;\r\n}\r\n\r\nexport function get_height(elem) {\r\n  let height;\r\n  try {\r\n    if ((parseFloat(elem.style.height) || 0) > elem.clientHeight) {\r\n      height = parseFloat(elem.style.height) || 0;\r\n    } else {\r\n      height = elem.clientHeight;\r\n    }\r\n  } catch (e) {}\r\n  return height;\r\n}\r\n\r\nexport function switcher(f, value1, value2) {\r\n  let flag = true;\r\n  return function() {\r\n    if (flag) {\r\n      f(value1);\r\n      flag = false;\r\n    } else {\r\n      f(value2);\r\n      flag = true;\r\n    }\r\n  };\r\n}\r\nexport function once(f, ...args) {\r\n  let counter = 0;\r\n  return function() {\r\n    if (!counter) {\r\n      f(...args);\r\n      counter++;\r\n    }\r\n  };\r\n}\r\n\r\nexport function elem_center({\r\n  elem,\r\n  left_add = 0,\r\n  top_add = 0,\r\n  elem_wrapper = html,\r\n  only_top = false,\r\n  only_left = false\r\n}) {\r\n  if (only_top) {\r\n    elem.set_top((elem_wrapper.clientHeight + top_add) / 2 - elem.clientHeight / 2);\r\n    elem.set_left(left_add);\r\n  } else if (only_left) {\r\n    elem.set_left((elem_wrapper.clientWidth + left_add) / 2 - elem.clientWidth / 2);\r\n    elem.set_top(top_add);\r\n  } else {\r\n    elem.set_left((elem_wrapper.clientWidth + left_add) / 2 - elem.clientWidth / 2);\r\n    elem.set_top((elem_wrapper.clientHeight + top_add) / 2 - elem.clientHeight / 2);\r\n  }\r\n}\r\n\r\nexport function get_value_of_form(form) {\r\n  let temp = {};\r\n\r\n  form = new FormData(form);\r\n\r\n  for (let item of form) {\r\n    Object.assign(temp, { [item[0]]: item[1] });\r\n  }\r\n  return temp;\r\n}\r\n\r\nexport function set_value_of_form(form, props) {\r\n  for (let item in props) {\r\n    if (props.hasOwnProperty(item)) {\r\n      form[item].value = props[item];\r\n    }\r\n  }\r\n}\r\n\r\n// drag'n'drop\r\nexport function drag(target, wrapper, f_down = () => {}, f_move = () => {}, f_up = () => {}) {\r\n  target.ondragstart = () => {\r\n    return false;\r\n  };\r\n\r\n  target.onmousedown = e => {\r\n    let x = e.pageX;\r\n    let y = e.pageY;\r\n    let begin_x = get_left(wrapper);\r\n    let begin_y = get_top(wrapper);\r\n\r\n    f_down();\r\n\r\n    document.onmousemove = e => {\r\n      wrapper.style.left = begin_x + (e.pageX - x) + \"px\";\r\n      wrapper.style.top = begin_y + (e.pageY - y) + \"px\";\r\n\r\n      f_move();\r\n    };\r\n  };\r\n\r\n  document.onmouseup = e => {\r\n    document.onmousemove = null;\r\n  };\r\n\r\n  target.onmouseup = e => {\r\n    document.onmousemove = null;\r\n\r\n    f_up();\r\n  };\r\n}\r\n\r\nexport function get_x(e) {\r\n  return (e.pageX - APP.wrapper_zoom.getBoundingClientRect().left) * APP.canvas.zoom;\r\n}\r\nexport function get_y(e) {\r\n  return (e.pageY - APP.wrapper_zoom.getBoundingClientRect().top) * APP.canvas.zoom;\r\n}\r\n\r\nexport function get_zoom() {\r\n  APP.canvas.zoom = parseFloat(APP.canvas.getWidth()) / get_width(APP.canvas.wrapperEl);\r\n}\r\n\r\nexport function active(...value) {\r\n  for (let item of value) {\r\n    item.classList.add(\"active\");\r\n  }\r\n}\r\n\r\nexport function disactive(...value) {\r\n  for (let item of value) {\r\n    item.classList.remove(\"active\");\r\n  }\r\n}\r\n","import { get_height, get_width, get_left, get_top, visible, hidden, switcher, block, none } from \"./addition_function\";\r\n\r\nexport default class APP {\r\n  constructor() {}\r\n  static get header() {\r\n    return document.querySelector(\"header\");\r\n  }\r\n  static get wrapper_main() {\r\n    return document.querySelector(\".main-wrapper\");\r\n  }\r\n  static get wrapper_main_canvas() {\r\n    return document.querySelector(\".main-wrapper-canvas\");\r\n  }\r\n  static get wrapper_work() {\r\n    return document.querySelector(\".work-wrapper\");\r\n  }\r\n  static get wrapper_coords_x() {\r\n    return document.querySelector(\".coords-x-wrapper\");\r\n  }\r\n  static get wrapper_coords_y() {\r\n    return document.querySelector(\".coords-y-wrapper\");\r\n  }\r\n\r\n  static get wrapper_zoom() {\r\n    return document.querySelector(\".zoom-wrapper.active \");\r\n  }\r\n\r\n}\r\nAPP.canvas_counter = 1;\r\n","import APP from \"./class_app\";\r\nimport CREATE_ELEMENT from \"./class_create_element\";\r\nimport \"fabric\";\r\n\r\nexport default class CANVAS extends APP {\r\n  constructor({ title, width, height, background_color }) {\r\n    super();\r\n\r\n    let wrapper_zoom = new CREATE_ELEMENT(\"div\").add_classes(\"zoom-wrapper\", \"active\").add_parent(APP.wrapper_work);\r\n\r\n    this.c = new fabric.Canvas(new CREATE_ELEMENT(\"canvas\").add_classes(\"first-canvas\").add_parent(wrapper_zoom), {\r\n      width,\r\n      height,\r\n      backgroundColor: background_color,\r\n      interactive: true,\r\n      fireRightClick: true,\r\n      stopContextMenu: true\r\n    });\r\n\r\n    this.c.wrapper_zoom = wrapper_zoom;\r\n\r\n    this.c.zoom = 1;\r\n    this.c.path = [];\r\n    this.c.all_path = [];\r\n    this.c.title = title;\r\n\r\n    this.c.renderAll();\r\n\r\n    console.log(this.c);\r\n\r\n    return this.c;\r\n  }\r\n}\r\n","import APP from \"./class_app\";\r\n\r\nexport default class CASING extends APP {\r\n  constructor() {\r\n    super();\r\n    this.cases = document.querySelectorAll(\".casing\");\r\n  }\r\n  static get cases() {\r\n    return document.querySelectorAll(\".casing\");\r\n  }\r\n  static block() {\r\n    for (let item of CASING.cases) {\r\n      item.style.display = \"block\";\r\n    }\r\n    return this;\r\n  }\r\n  static none() {\r\n    for (let item of CASING.cases) {\r\n      item.style.display = \"none\";\r\n    }\r\n    return this;\r\n  }\r\n  static event() {\r\n    for (let item of CASING.cases) {\r\n      item.onmouseover = e => {\r\n        let related;\r\n        try {\r\n          related = e.relatedTarget.closest(\".tool\");\r\n          console.log(e.relatedTarget);\r\n        } catch (e) {}\r\n\r\n        if (related) {\r\n          item.onmouseup = e => {\r\n            related.classList.add(\"tool-active\");\r\n\r\n            if (item.classList.contains(\"casing-left\")) {\r\n              APP.wrapper_main.prepend(related);\r\n              related.set_left(0);\r\n              related.set_top(0);\r\n            }\r\n\r\n            if (item.classList.contains(\"casing-right\")) {\r\n              APP.wrapper_main.append(related);\r\n              related.set_left(related.getBoundingClientRect().left);\r\n              related.set_top(0);\r\n            }\r\n            this.none();\r\n          };\r\n        }\r\n      };\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","export default class CREATE_ELEMENT {\r\n  constructor(tag_name) {\r\n    this.elem = document.createElement(tag_name);\r\n\r\n    this.elem.add_classes = this.add_classes;\r\n    this.elem.add_child = this.add_child;\r\n    this.elem.add_parent = this.add_parent;\r\n    this.elem.add_id = this.add_id;\r\n\r\n    return this.elem;\r\n  }\r\n  add_classes(...classes) {\r\n    for (let value of classes) {\r\n      this.classList.add(value);\r\n    }\r\n    return this;\r\n  }\r\n  add_id(id) {\r\n    this.id = id;\r\n    return this;\r\n  }\r\n  add_parent(parent, where) {\r\n    parent.insertBefore(this, where);\r\n    return this;\r\n  }\r\n  add_child(child, where) {\r\n    if (typeof child === \"string\") {\r\n      this.insertAdjacentHTML(\"beforeEnd\", child);\r\n    } else {\r\n      this.insertBefore(child, where);\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n","import APP from \"./class_app\";\r\nimport {\r\n  get_height,\r\n  get_width,\r\n  get_left,\r\n  get_top,\r\n  visible,\r\n  hidden,\r\n  switcher,\r\n  block,\r\n  none,\r\n  elem_center,\r\n  html\r\n} from \"./addition_function\";\r\n\r\nexport default class OPTIONS_COMPONENTS extends APP {\r\n  constructor({ class_option, class_setting }) {\r\n    super();\r\n    this.elem_option = document.querySelector(`.${class_option}`);\r\n    if (class_setting) {\r\n      this.elem_setting = document.querySelector(`.${class_setting}`);\r\n      this.apply = this.elem_setting.querySelector(\".apply\");\r\n    }\r\n  }\r\n  set_appear(func) {\r\n    this.elem_option.addEventListener(\"mouseup\", e => {\r\n      if (this.elem_setting) {\r\n        block(this.elem_setting);\r\n        this.elem_setting.classList.remove(\"zoomOut\");\r\n        this.elem_setting.classList.add(\"zoomIn\");\r\n\r\n        func.call(this);\r\n\r\n        elem_center({ elem: this.elem_setting });\r\n      } else {\r\n        func.call(this);\r\n      }\r\n    });\r\n    return this;\r\n  }\r\n  set_apply(func) {\r\n    if (this.apply) {\r\n      if (func) {\r\n        this.apply.addEventListener(\"mouseup\", func.bind(this));\r\n      } else {\r\n        this.apply.addEventListener(\"mouseup\", e => {\r\n          alert(1);\r\n        });\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import APP from \"./class_app\";\r\nimport {\r\n  get_height,\r\n  get_width,\r\n  get_left,\r\n  get_top,\r\n  visible,\r\n  hidden,\r\n  switcher,\r\n  block,\r\n  none,\r\n  html,\r\n  elem_center\r\n} from \"./addition_function\";\r\nimport CREATE_ELEMENT from \"./class_create_element\";\r\n\r\nexport default class WRAPPER extends APP {\r\n  constructor() {\r\n    super();\r\n    this.where_add;\r\n    this.first;\r\n    this.last;\r\n    this.arr_coords;\r\n    this.decision;\r\n    this.get_size;\r\n    this.breakdown = 50;\r\n    return this;\r\n  }\r\n\r\n  static get title_file_wrapper() {\r\n    return document.querySelector(\".title-file-wrapper\");\r\n  }\r\n  static get SIZE_COORDS() {\r\n    return 20;\r\n  }\r\n\r\n  static get HEIGHT_TITLE() {\r\n    return 25;\r\n  }\r\n  static get ADD_SIZE() {\r\n    return 400;\r\n  }\r\n  init() {\r\n    WRAPPER.title_file_wrapper.set_height(WRAPPER.HEIGHT_TITLE);\r\n\r\n    APP.wrapper_main.set_height(get_height(html) - get_height(APP.header));\r\n\r\n    return this;\r\n  }\r\n\r\n  set init_value(options) {\r\n    try {\r\n      this.where_add = options.elem || this.where_add;\r\n      this.first = options.elem.firstElementChild || this.where_add.firstElementChild;\r\n      this.last = options.elem.lastElementChild || this.where_add.lastElementChild;\r\n      this.arr_coords = options.elem.children || this.where_add.children;\r\n      this.decision = options.decision || this.decision;\r\n      this.get_size = options.get_size || this.get_size;\r\n    } catch (e) {}\r\n  }\r\n\r\n  init_coords() {\r\n    //     Y\r\n\r\n    let wrapper_coords_y = new CREATE_ELEMENT(\"div\").add_classes(\"coords-y\").add_parent(APP.wrapper_coords_y);\r\n\r\n    APP.canvas.coords_y = wrapper_coords_y; //   div--y\r\n\r\n    this.init_value = { elem: wrapper_coords_y };\r\n\r\n    this.create_coords_block(get_top(APP.wrapper_zoom), \"height\", WRAPPER.SIZE_COORDS);\r\n\r\n    //     X\r\n\r\n    let wrapper_coords_x = new CREATE_ELEMENT(\"div\").add_classes(\"coords-x\").add_parent(APP.wrapper_coords_x);\r\n\r\n    APP.canvas.coords_x = wrapper_coords_x; //   div--x\r\n\r\n    this.init_value = { elem: wrapper_coords_x };\r\n\r\n    this.create_coords_block(get_left(APP.wrapper_zoom), \"width\", WRAPPER.SIZE_COORDS);\r\n\r\n    return this;\r\n  }\r\n\r\n  create_coords_block(size, size_decision, size_tools) {\r\n    let size_begin = size - size_tools;\r\n    let size_end;\r\n    let size_end_counter = 0;\r\n    let size_value = this.breakdown;\r\n    let first_iter = true;\r\n\r\n    if (size_decision == \"height\") {\r\n      size_end = APP.wrapper_work.scrollHeight - size;\r\n    } else if (size_decision == \"width\") {\r\n      size_end = APP.wrapper_work.scrollWidth - size;\r\n    }\r\n\r\n    while (size_begin >= this.breakdown) {\r\n      let text = \"\";\r\n      if (size_begin % this.breakdown == 0) {\r\n        text = size_begin;\r\n\r\n        size_value = this.breakdown;\r\n        size_begin -= this.breakdown;\r\n      } else {\r\n        size_value = size_begin % this.breakdown;\r\n        size_begin -= size_value;\r\n      }\r\n\r\n      this.create_coords_div(size_decision, size_value, text);\r\n    }\r\n\r\n    while (size_end_counter < size_end) {\r\n      let text = \"\";\r\n\r\n      text = size_end_counter;\r\n\r\n      if (size_end - size_end_counter < this.breakdown) {\r\n        size_value = size_end % this.breakdown;\r\n\r\n        this.create_coords_div(size_decision, size_value);\r\n      } else {\r\n        if (first_iter) {\r\n          if (size_decision == \"width\") {\r\n            APP.canvas.zero_coords_x = this.create_coords_div(size_decision, size_value, text);\r\n          } else if (size_decision == \"height\") {\r\n            APP.canvas.zero_coords_y = this.create_coords_div(size_decision, size_value, text);\r\n          }\r\n\r\n          first_iter = false;\r\n        } else {\r\n          this.create_coords_div(size_decision, size_value, text);\r\n        }\r\n      }\r\n\r\n      size_end_counter += this.breakdown;\r\n    }\r\n  }\r\n\r\n  change_coords() {\r\n    let coefficient_x = get_width(APP.wrapper_zoom) / APP.canvas.prev_width; // -x\r\n    let coefficient_y = get_height(APP.wrapper_zoom) / APP.canvas.prev_height; // -y\r\n\r\n    //  div ,   \r\n    this.init_value = {\r\n      elem: APP.canvas.coords_x,\r\n      decision: \"width\",\r\n      get_size: get_width\r\n    };\r\n    //       \r\n\r\n    for (let item of APP.canvas.coords_x.children) {\r\n      item.style.width = get_width(item) * coefficient_x + \"px\";\r\n    }\r\n\r\n    this.check_coords();\r\n\r\n    this.init_value = {\r\n      elem: APP.canvas.coords_y,\r\n      decision: \"height\",\r\n      get_size: get_height\r\n    };\r\n\r\n    for (let item of APP.canvas.coords_y.children) {\r\n      item.style.height = get_height(item) * coefficient_y + \"px\";\r\n    }\r\n\r\n    this.check_coords();\r\n  }\r\n\r\n  check_coords() {\r\n    let difference_width_begin;\r\n    let difference_width_end;\r\n\r\n    let text_begin = parseFloat(this.first.nextElementSibling.textContent.replace(/\\n/g, \"\")) || 0;\r\n    let text_end = parseFloat(this.last.previousElementSibling.textContent.replace(/\\n/g, \"\")) || 0;\r\n\r\n    if (this.decision == \"width\") {\r\n      difference_width_begin =\r\n        APP.canvas.zero_coords_x.getBoundingClientRect().left - APP.wrapper_zoom.getBoundingClientRect().left;\r\n    } else if (this.decision == \"height\") {\r\n      difference_width_begin =\r\n        APP.canvas.zero_coords_y.getBoundingClientRect().top - APP.wrapper_zoom.getBoundingClientRect().top;\r\n    }\r\n\r\n    if (difference_width_begin > 0) {\r\n      //check start\r\n      this.check_positive(difference_width_begin, this.first);\r\n\r\n      if (this.decision == \"width\") {\r\n        difference_width_end = APP.wrapper_work.scrollWidth - get_width(APP.wrapper_coords_x);\r\n      } else if (this.decision == \"height\") {\r\n        difference_width_end = APP.wrapper_work.scrollHeight - get_height(APP.wrapper_coords_y);\r\n      }\r\n\r\n      //check end\r\n      this.check_positive(difference_width_end, this.last);\r\n    } else {\r\n      //difference_width_begin < 0\r\n      difference_width_begin = Math.abs(difference_width_begin);\r\n\r\n      // check_start\r\n      this.check_negative(difference_width_begin, this.first, text_begin, true);\r\n\r\n      if (this.decision == \"width\") {\r\n        difference_width_end =\r\n          APP.wrapper_coords_x.getBoundingClientRect().right - this.last.getBoundingClientRect().right;\r\n      } else if (this.decision == \"height\") {\r\n        difference_width_end =\r\n          APP.wrapper_coords_y.getBoundingClientRect().bottom - this.last.getBoundingClientRect().bottom;\r\n      }\r\n      //check end\r\n      this.check_negative(difference_width_end, this.last, text_end, false);\r\n    }\r\n  }\r\n\r\n  check_positive(difference, elem) {\r\n    while (difference > this.get_size(elem)) {\r\n      difference -= this.get_size(elem);\r\n\r\n      let temp = elem.nextElementSibling || elem.previousElementSibling;\r\n\r\n      elem.remove();\r\n\r\n      elem = temp;\r\n    }\r\n\r\n    elem.style[this.decision] = this.get_size(elem) - difference + \"px\";\r\n\r\n    elem.innerHTML = \"\";\r\n  }\r\n\r\n  check_negative(difference, elem, text, flag) {\r\n    let middle_width = this.get_size(this.arr_coords[Math.round(this.arr_coords.length / 2)]);\r\n\r\n    if (this.get_size(elem) + difference > middle_width) {\r\n      difference -= middle_width - this.get_size(elem);\r\n\r\n      text += 50;\r\n\r\n      elem.remove();\r\n\r\n      this.create_coords_div(this.decision, middle_width, text, flag);\r\n\r\n      while (difference > middle_width) {\r\n        text += 50;\r\n\r\n        this.create_coords_div(this.decision, middle_width, text, flag);\r\n\r\n        difference -= middle_width;\r\n      }\r\n\r\n      this.create_coords_div(this.decision, difference, \"\", flag);\r\n    } else {\r\n      elem.style[this.decision] = this.get_size(elem) + difference + \"px\";\r\n      elem.innerHTML = \"\";\r\n    }\r\n  }\r\n\r\n  create_coords_div(flag, size, text = \"\", add_begin) {\r\n    let temp_div = document.createElement(\"div\");\r\n\r\n    if (flag == \"width\") {\r\n      temp_div.style.width = size + \"px\";\r\n    } else if (flag == \"height\") {\r\n      temp_div.style.height = size + \"px\";\r\n      text = Array.prototype.reduce.call(\r\n        String(text),\r\n        (res, item) => {\r\n          return res + item + \"\\n\";\r\n        },\r\n        \"\"\r\n      );\r\n    }\r\n\r\n    temp_div.textContent = text;\r\n\r\n    if (add_begin) {\r\n      this.where_add.insertBefore(temp_div, this.where_add.firstElementChild);\r\n    } else {\r\n      this.where_add.appendChild(temp_div);\r\n    }\r\n\r\n    return temp_div;\r\n  }\r\n\r\n  event_scroll() {\r\n    APP.wrapper_work.addEventListener(\"scroll\", function(e) {\r\n      APP.wrapper_coords_x.set_top(APP.wrapper_work.scrollTop);\r\n      APP.wrapper_coords_y.set_left(APP.wrapper_work.scrollLeft);\r\n    });\r\n    return this;\r\n  }\r\n\r\n  centering_canvas() {\r\n    elem_center({\r\n      elem: APP.wrapper_zoom,\r\n      elem_wrapper: APP.wrapper_work,\r\n      left_add: WRAPPER.SIZE_COORDS,\r\n      top_add: WRAPPER.SIZE_COORDS\r\n    });\r\n\r\n    if (get_left(APP.wrapper_zoom) && get_top(APP.wrapper_zoom) < WRAPPER.SIZE_COORDS) {\r\n      APP.wrapper_coords_x.set_width(get_width(APP.wrapper_zoom) + WRAPPER.ADD_SIZE);\r\n\r\n      APP.wrapper_coords_y.set_height(get_height(APP.wrapper_zoom) + WRAPPER.ADD_SIZE);\r\n\r\n      APP.wrapper_zoom.set_left(WRAPPER.ADD_SIZE / 2);\r\n      APP.wrapper_zoom.set_top(WRAPPER.ADD_SIZE / 2);\r\n    } else if (get_left(APP.wrapper_zoom) < WRAPPER.SIZE_COORDS) {\r\n      APP.wrapper_coords_x.set_width(get_width(APP.wrapper_zoom) + WRAPPER.ADD_SIZE);\r\n\r\n      if (get_top(APP.wrapper_zoom) > WRAPPER.SIZE_COORDS) {\r\n        APP.wrapper_coords_y.set_height(APP.wrapper_work);\r\n      }\r\n\r\n      elem_center({\r\n        only_top: true,\r\n        elem: APP.wrapper_zoom,\r\n        elem_wrapper: APP.wrapper_work,\r\n        left_add: WRAPPER.ADD_SIZE / 2,\r\n        top_add: WRAPPER.SIZE_COORDS\r\n      });\r\n    } else if (get_top(APP.wrapper_zoom) < WRAPPER.SIZE_COORDS) {\r\n      APP.wrapper_coords_y.set_height(get_height(APP.wrapper_zoom) + WRAPPER.ADD_SIZE);\r\n\r\n      if (get_left(APP.wrapper_zoom) > WRAPPER.SIZE_COORDS) {\r\n        APP.wrapper_coords_x.set_width(APP.wrapper_work);\r\n      }\r\n\r\n      elem_center({\r\n        only_left: true,\r\n        elem: APP.wrapper_zoom,\r\n        elem_wrapper: APP.wrapper_work,\r\n        top_add: WRAPPER.ADD_SIZE / 2,\r\n        left_add: WRAPPER.SIZE_COORDS\r\n      });\r\n    } else {\r\n      APP.wrapper_coords_x.set_width(get_width(APP.wrapper_work));\r\n      APP.wrapper_coords_y.set_height(get_height(APP.wrapper_work));\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n","import APP from \"../class_app\";\r\nimport TOOLS_COMPONENTS from \"./class_tools_components\";\r\nimport {\r\n  get_height,\r\n  get_width,\r\n  get_x,\r\n  get_y,\r\n  get_left,\r\n  get_top,\r\n  visible,\r\n  hidden,\r\n  switcher,\r\n  block,\r\n  none\r\n} from \"../addition_function\";\r\nimport \"fabric\";\r\n\r\nexport default class TOOLS_DRAW extends TOOLS_COMPONENTS {\r\n  constructor(wrapper) {\r\n    super(wrapper)\r\n      .create_drag_panel(switcher(this.drag_panel_func.bind(this), 2, 0.5))\r\n      .create_drag_place();\r\n\r\n    this.move = {\r\n      elem: document.querySelector(\".move-badge\"),\r\n      class_name: \".move-badge\",\r\n      func_event: this.move_func_event,\r\n      func_start: this.move_func_start,\r\n      func_end: this.move_func_end\r\n    };\r\n    this.pencil = {\r\n      elem: document.querySelector(\".pencil-badge\"),\r\n      class_name: \".pencil-badge\",\r\n      func_event: this.pencil_func_event,\r\n      func_start: this.pencil_func_start,\r\n      func_end: this.pencil_func_end\r\n    };\r\n    this.text = {\r\n      elem: document.querySelector(\".text-badge\"),\r\n      class_name: \".text-badge\",\r\n      func_event: this.text_func_event,\r\n      func_start: this.text_func_start,\r\n      func_end: this.text_func_end\r\n    };\r\n    this.pouring = {\r\n      elem: document.querySelector(\".pouring-badge\"),\r\n      class_name: \".pouring-badge\",\r\n      func_event: this.pouring_func_event,\r\n      func_start: this.pouring_func_start,\r\n      func_end: this.pouring_func_end\r\n    };\r\n    this.rubber = {\r\n      elem: document.querySelector(\".rubber-badge\"),\r\n      class_name: \".rubber-badge\",\r\n      func_event: this.rubber_func_event,\r\n      func_start: this.rubber_func_start,\r\n      func_end: this.rubber_func_end\r\n    };\r\n    this.square = {\r\n      elem: document.querySelector(\".square-badge\"),\r\n      class_name: \".square-badge\",\r\n      func_event: this.square_func_event,\r\n      func_start: this.square_func_start,\r\n      func_end: this.square_func_end\r\n    };\r\n    this.line = {\r\n      elem: document.querySelector(\".line-badge\"),\r\n      class_name: \".line-badge\",\r\n      func_event: this.line_func_event,\r\n      func_start: this.line_func_start,\r\n      func_end: this.line_func_end\r\n    };\r\n  }\r\n  drag_panel_func(value) {\r\n    this.wrapper.style.width = get_width(this.wrapper) * value + \"px\";\r\n  }\r\n  move_func_start() {\r\n    APP.canvas.selection = true;\r\n  }\r\n  pencil_func_start() {\r\n    APP.canvas.selection = false;\r\n    APP.canvas.isDrawingMode = true;\r\n  }\r\n  text_func_start() {}\r\n  pouring_func_start() {}\r\n  rubber_func_start() {}\r\n  square_func_start() {}\r\n  line_func_start() {}\r\n\r\n  move_func_end() {}\r\n  pencil_func_end() {\r\n    APP.canvas.isDrawingMode = false;\r\n  }\r\n  text_func_end() {}\r\n  pouring_func_end() {}\r\n  rubber_func_end() {}\r\n  square_func_end() {}\r\n  line_func_end() {}\r\n\r\n  move_func_event(e) {}\r\n  pencil_func_event(props) {\r\n    let e = props.e;\r\n    let x = get_x(e);\r\n    let y = get_y(e);\r\n  }\r\n  text_func_event(props) {\r\n    if (!props.target) {\r\n      let x = get_x(props.e);\r\n      let y = get_y(props.e);\r\n\r\n      let text = new fabric.IText(\"\", { left: x, top: y, width: 20, height: 2 });\r\n\r\n      APP.canvas.add(text);\r\n\r\n      text.enterEditing();\r\n\r\n      console.log(text);\r\n    }\r\n  }\r\n  pouring_func_event(e) {}\r\n  rubber_func_event(e) {}\r\n  square_func_event(props) {\r\n    APP.canvas.selection = false;\r\n\r\n    if (!props.target) {\r\n      let x1 = get_x(props.e);\r\n      let y1 = get_y(props.e);\r\n\r\n      let rect = new fabric.Rect({ stroke: \"#000\", left: x1, top: y1, width: 0, height: 0, hasControls: false });\r\n\r\n      APP.canvas.add(rect).setActiveObject(rect);\r\n\r\n      APP.canvas.on(\"mouse:move\", function(props) {\r\n        let x2 = get_x(props.e) - x1;\r\n        let y2 = get_y(props.e) - y1;\r\n\r\n        rect.set({ width: x2, height: y2 });\r\n\r\n        APP.canvas.renderAll();\r\n      });\r\n\r\n      APP.canvas.on(\"mouse:up\", function() {\r\n        APP.canvas.renderAll();\r\n\r\n        APP.canvas.off(\"mouse:move\");\r\n      });\r\n    }\r\n  }\r\n  line_func_event(props) {\r\n    APP.canvas.selection = false;\r\n\r\n    if (!props.target) {\r\n      let x = get_x(props.e);\r\n      let y = get_y(props.e);\r\n\r\n      let line = new fabric.Line([x, y, x, y], { stroke: \"#000\", hasControls: false });\r\n\r\n      APP.canvas.add(line).setActiveObject(line);\r\n\r\n      APP.canvas.on(\"mouse:move\", function(props) {\r\n        let x = get_x(props.e);\r\n        let y = get_y(props.e);\r\n\r\n        line.set({ x2: x, y2: y, ownCaching: false });\r\n\r\n        APP.canvas.renderAll();\r\n      });\r\n\r\n      APP.canvas.on(\"mouse:up\", function() {\r\n        APP.canvas.renderAll();\r\n\r\n        APP.canvas.off(\"mouse:move\");\r\n      });\r\n    }\r\n  }\r\n}\r\n","import APP from \"../class_app\";\r\nimport {\r\n  get_height,\r\n  get_width,\r\n  get_left,\r\n  get_top,\r\n  visible,\r\n  hidden,\r\n  switcher,\r\n  block,\r\n  none,\r\n  drag\r\n} from \"../addition_function\";\r\nimport CREATE_ELEMENT from \"../class_create_element\";\r\nimport CASING from \"../class_casing\";\r\n\r\nexport default class TOOLS_COMPONENTS extends APP {\r\n  constructor(wrapper) {\r\n    super();\r\n    this.wrapper = wrapper;\r\n    this.drag_panel;\r\n    this.drag_place;\r\n  }\r\n  create_drag_panel(drag_panel_func) {\r\n    let panel = new CREATE_ELEMENT(\"div\").add_classes(\"drag-panel\");\r\n\r\n    let arrow = new CREATE_ELEMENT(\"div\").add_classes(\"drag-panel-arrow\", \"drag-panel-item\");\r\n\r\n    let close = new CREATE_ELEMENT(\"div\").add_classes(\"drag-panel-close\", \"drag-panel-item\");\r\n\r\n    arrow.innerHTML = \"<img width=11 height=11 src='img/rewind.png' />\";\r\n\r\n    close.onclick = () => none(this.wrapper);\r\n\r\n    arrow.onclick = e => {\r\n      arrow.classList.toggle(\"drag-panel-arrow-active\");\r\n      drag_panel_func();\r\n    };\r\n\r\n    panel.appendChild(arrow);\r\n    panel.appendChild(close);\r\n\r\n    this.drag_panel = panel;\r\n\r\n    this.wrapper.prepend(panel);\r\n\r\n    return this;\r\n  }\r\n  create_drag_place() {\r\n    let place = new CREATE_ELEMENT(\"div\").add_classes(\"drag-place\").add_child('<img src=\"./img/drag.png\" />');\r\n\r\n    drag(\r\n      place,\r\n      this.wrapper,\r\n      () => {\r\n        if (this.wrapper.classList.contains(\"tool-active\")) {\r\n          this.wrapper.classList.remove(\"tool-active\");\r\n        }\r\n        CASING.block();\r\n      },\r\n      () => {},\r\n      () => {\r\n        CASING.none();\r\n      }\r\n    );\r\n\r\n    this.drag_panel.after(place);\r\n\r\n    this.drag_place = place;\r\n  }\r\n  create_menu_bar() {}\r\n  create_footer_bar() {}\r\n}\r\n","\"use strict\";\r\n\r\nimport {\r\n  get_height,\r\n  get_width,\r\n  get_left,\r\n  get_top,\r\n  visible,\r\n  hidden,\r\n  switcher,\r\n  block,\r\n  none,\r\n  elem_center,\r\n  once,\r\n  html,\r\n  get_value_of_form,\r\n  set_value_of_form,\r\n  drag,\r\n  get_zoom,\r\n  get_x,\r\n  get_y,\r\n  active,\r\n  disactive\r\n} from \"./addition_function\";\r\n\r\nimport CREATE_ELEMENT from \"./class_create_element\";\r\nimport CASING from \"./class_casing\";\r\nimport APP from \"./class_app\";\r\nimport WRAPPER from \"./class_wrapper\";\r\nimport TOOLS_COMPONENTS from \"./components/class_tools_components\";\r\nimport CANVAS from \"./class_canvas\";\r\nimport OPTIONS_COMPONENTS from \"./class_options_components\";\r\nimport TOOL_DRAW from \"./components/class_tool_draw\";\r\nimport \"fabric\";\r\n\r\nimport \"style-loader!css-loader!../build/css/main.css\";\r\nimport \"style-loader!css-loader!../build/css/animate.css\";\r\n\r\n//  DOM-\r\n\r\nlet header = document.querySelector(\"header\"); //  \r\nlet title = document.querySelector(\".title-canvas-wrapper\");\r\nlet menu_bar = document.querySelector(\".header-options\"); //    \r\nlet all_apply_button = document.querySelectorAll(\".apply\"); //   \r\nlet script = document.querySelector(\"script\"); //  script  \r\n\r\nlet App = new APP();\r\n\r\nlet Wrapper = new WRAPPER().init().event_scroll();\r\n\r\nCASING.none().event();\r\n\r\nlet arr_canvas = [];\r\n\r\nlet tool_draw = new TOOL_DRAW(document.querySelector(\".tools-wrapper\"));\r\n\r\nconsole.log(fabric);\r\n\r\ntool_draw.wrapper.addEventListener(\r\n  \"mouseup\",\r\n  function(e) {\r\n    let target = e.target;\r\n\r\n    for (let item in this) {\r\n      try {\r\n        if (target.closest(this[item].class_name)) {\r\n          try {\r\n            disactive(APP.canvas.prev_event.elem);\r\n            APP.canvas.off(\"mouse:down\", APP.canvas.prev_event.func_event);\r\n            APP.canvas.prev_event.func_end();\r\n          } catch (e) {}\r\n\r\n          active(this[item].elem);\r\n\r\n          APP.canvas.on(\"mouse:down\", this[item].func_event);\r\n          this[item].func_start();\r\n\r\n          APP.canvas.prev_event = this[item];\r\n        }\r\n      } catch (e) {}\r\n    }\r\n  }.bind(tool_draw)\r\n);\r\n\r\nlet save_file = new OPTIONS_COMPONENTS({\r\n  class_option: \"header-options-save-file\",\r\n  class_setting: undefined\r\n}).set_appear(function() {\r\n  let src = APP.canvas.toDataURL();\r\n\r\n  let ref_download = document.createElement(\"a\");\r\n  ref_download.href = src;\r\n  ref_download.download = APP.canvas.title.textContent.slice(0, -1);\r\n  ref_download.click();\r\n});\r\n\r\nlet new_file = new OPTIONS_COMPONENTS({\r\n  class_option: \"header-options-new-file\",\r\n  class_setting: \"header-settings-new-file\"\r\n}).set_appear(function() {\r\n  set_value_of_form(this.elem_setting.querySelector(\"form\"), {\r\n    width: get_width(APP.wrapper_work),\r\n    height: get_height(APP.wrapper_work),\r\n    name: `Untitled-${APP.canvas_counter}`,\r\n    background_color: \"white\"\r\n  });\r\n});\r\n\r\nnew_file.set_apply(function() {\r\n  APP.canvas_counter++;\r\n\r\n  visible(APP.wrapper_main_canvas);\r\n\r\n  let { name, width, height, background_color } = get_value_of_form(this.elem_setting.querySelector(\"form\"));\r\n\r\n  try {\r\n    APP.wrapper_zoom.classList.remove(\"active\");\r\n    APP.canvas.title.classList.remove(\"active\");\r\n    APP.wrapper_coords_x.lastElementChild.remove();\r\n    APP.wrapper_coords_y.lastElementChild.remove();\r\n  } catch (e) {}\r\n\r\n  let title = new CREATE_ELEMENT(\"div\")\r\n    .add_classes(\"title-file\", \"active\")\r\n    .add_parent(WRAPPER.title_file_wrapper)\r\n    .add_child(name)\r\n    .add_child(\"<span>&times;</span>\");\r\n\r\n  APP.canvas = new CANVAS({\r\n    title,\r\n    width,\r\n    height,\r\n    background_color\r\n  });\r\n\r\n  arr_canvas.push(APP.canvas);\r\n\r\n  Wrapper.centering_canvas();\r\n  Wrapper.init_coords();\r\n\r\n  get_zoom();\r\n});\r\n\r\nWRAPPER.title_file_wrapper.addEventListener(\"mouseup\", function(e) {\r\n  let target = e.target;\r\n\r\n  for (let item of arr_canvas) {\r\n    if (item.title === target) {\r\n      disactive(APP.canvas.wrapper_zoom, APP.canvas.title);\r\n\r\n      APP.canvas = item;\r\n\r\n      APP.wrapper_coords_x.replaceChild(APP.canvas.coords_x, APP.wrapper_coords_x.lastElementChild);\r\n      APP.wrapper_coords_y.replaceChild(APP.canvas.coords_y, APP.wrapper_coords_y.lastElementChild);\r\n\r\n      active(APP.canvas.wrapper_zoom, APP.canvas.title);\r\n    } else if (item.title.contains(target)) {\r\n      disactive(APP.canvas.wrapper_zoom, APP.canvas.title);\r\n\r\n      if (arr_canvas.prev(item)) {\r\n        APP.canvas = arr_canvas.prev(item);\r\n      } else if (arr_canvas.next(item)) {\r\n        APP.canvas = arr_canvas.next(item);\r\n      } else {\r\n        APP.wrapper_coords_x.lastElementChild.remove();\r\n        APP.wrapper_coords_y.lastElementChild.remove();\r\n        APP.canvas = null;\r\n        hidden(APP.wrapper_main_canvas);\r\n      }\r\n\r\n      item.title.remove();\r\n      item.wrapper_zoom.remove();\r\n      arr_canvas.remove(item);\r\n\r\n      try {\r\n        active(APP.canvas.wrapper_zoom, APP.canvas.title);\r\n      } catch (e) {}\r\n    }\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"keydown\", function(e) {\r\n  if ((e.keyCode == 90 && e.ctrlKey) || (e.keyCode == 90 && e.metaKey)) {\r\n    path_remove();\r\n  }\r\n\r\n  //  \r\n  if (e.keyCode == 187 && e.ctrlKey && e.altKey) {\r\n    APP.canvas.prev_width = get_width(APP.canvas.wrapperEl);\r\n    APP.canvas.prev_height = get_height(APP.canvas.wrapperEl);\r\n\r\n    APP.canvas.lowerCanvasEl.set_width(get_width(APP.canvas.lowerCanvasEl) + 50);\r\n    APP.canvas.lowerCanvasEl.set_height(get_height(APP.canvas.lowerCanvasEl) + 50);\r\n\r\n    APP.canvas.wrapperEl.set_width(get_width(APP.canvas.wrapperEl) + 50);\r\n    APP.canvas.wrapperEl.set_height(get_height(APP.canvas.wrapperEl) + 50);\r\n\r\n    APP.canvas.upperCanvasEl.set_width(get_width(APP.canvas.upperCanvasEl) + 50);\r\n    APP.canvas.upperCanvasEl.set_height(get_height(APP.canvas.upperCanvasEl) + 50);\r\n\r\n    console.log(APP.canvas);\r\n\r\n    //APP.wrapper_canvas.style.zoom = parseFloat(APP.wrapper_canvas.style.zoom) + 0.05;\r\n\r\n    Wrapper.centering_canvas();\r\n    Wrapper.change_coords();\r\n\r\n    get_zoom();\r\n  }\r\n  //  \r\n  if (e.keyCode == 189 && e.ctrlKey && e.altKey) {\r\n    APP.canvas.prev_width = get_width(APP.wrapper_zoom);\r\n    APP.canvas.prev_height = get_height(APP.wrapper_zoom);\r\n\r\n    APP.canvas.lowerCanvasEl.set_width(get_width(APP.canvas.lowerCanvasEl) - 50);\r\n    APP.canvas.lowerCanvasEl.set_height(get_height(APP.canvas.lowerCanvasEl) - 50);\r\n\r\n    APP.canvas.wrapperEl.set_width(get_width(APP.canvas.wrapperEl) - 50);\r\n    APP.canvas.wrapperEl.set_height(get_height(APP.canvas.wrapperEl) - 50);\r\n\r\n    APP.canvas.upperCanvasEl.set_width(get_width(APP.canvas.upperCanvasEl) - 50);\r\n    APP.canvas.upperCanvasEl.set_height(get_height(APP.canvas.upperCanvasEl) - 50);\r\n\r\n    console.log(APP.canvas);\r\n\r\n    //APP.wrapper_canvas.style.zoom = parseFloat(APP.wrapper_canvas.style.zoom) - 0.05;\r\n\r\n    Wrapper.centering_canvas();\r\n    Wrapper.change_coords();\r\n\r\n    get_zoom();\r\n  }\r\n});\r\n\r\nAPP.wrapper_main_canvas.addEventListener(\"contextmenu\", e => {\r\n  e.preventDefault();\r\n});\r\n\r\nlet main_wrapper = document.querySelector(\".main-wrapper\");\r\n\r\n//  \r\nlet wrapper = document.querySelector(\".wrapper\"); // wrapper\r\nlet wrapper_coords_x = document.querySelector(\".coords-x-wrapper\");\r\nlet wrapper_coords_y = document.querySelector(\".coords-y-wrapper\");\r\n\r\nlet actual_canvas; //   \r\nlet template_canvas; //    \r\nlet zoom_wrapper; //     zoom\r\nlet canvas_wrapper; // \r\nlet canvas; // \r\nlet c; //  \r\n\r\nlet new_canvas; //  canvas     create_canvas\r\nlet new_c; //      create_canvas\r\n\r\n//     \r\nlet counter = 0; //    \r\nlet prev_target; //    ,    .main-nav -  painta\r\nlet temp_target; //   ,    move_canvas\r\nlet prev_title;\r\n\r\n//   \r\nconst wrapper_add_size = 400;\r\nconst height_title_file = 25; //     \r\nconst height_menu_bar = 30; //  \r\nconst wrapper_coords_w_h = 20; //     \r\n\r\nlet height_header = 40; //   \r\nlet wrapper_top_tools = 20;\r\nlet wrapper_left_tools = 20;\r\n\r\n//  ,   zoom\r\nlet zoom = 1; //  \r\nlet divide_width = 1; //      \r\nlet bias_left = 0; //  \r\nlet bias_top = 0; //  \r\n\r\n//     \r\n//    ,    \r\nlet clear_coords = []; //     \r\nlet arr_textarea = []; //       create_textarea\r\n\r\nlet path = []; //     \r\nlet all_path = []; //  \r\n\r\nlet path_delete = []; //    ctrl-z\r\nlet arr_context = []; //    \r\n\r\n//       .nav-options\r\n\r\nlet arr_settings = [\r\n  {\r\n    class_badge: \"options-new-file\",\r\n    class_settings: \"settings-new-file\",\r\n    class_value: \" .input-wrapper input\",\r\n    value_name: [\"name\", \"width\", \"height\"],\r\n\r\n    appear_func: function() {\r\n      let elem = document.querySelector(\".\" + this.class_settings);\r\n\r\n      let value = new Init_Value(this.class_settings, this.class_value, this.value_name);\r\n\r\n      block(elem);\r\n      elem.classList.remove(\"zoomOut\");\r\n      elem.classList.add(\"zoomIn\");\r\n\r\n      //console.log(arr_canvas[arr_canvas.length - 1].canvas_name.slice(-1, -2));\r\n\r\n      value.name.value = \"Untitled-\" + Init_Canvas.counter;\r\n\r\n      value.width.value = html.clientWidth;\r\n      value.height.value = html.clientHeight;\r\n\r\n      new Centering_Element().all(elem);\r\n    },\r\n\r\n    service_func: function() {\r\n      block(title);\r\n      visible(wrapper);\r\n\r\n      none(zoom_wrapper);\r\n\r\n      try {\r\n        prev_title.classList.remove(\"active\");\r\n        wrapper_coords_x.querySelector(\".coords-x\").remove();\r\n        wrapper_coords_y.querySelector(\".coords-y\").remove();\r\n      } catch (e) {}\r\n\r\n      let value = new Init_Value(this.class_settings, this.class_value, this.value_name).init();\r\n\r\n      //    \r\n\r\n      let { elem: new_title } = new Create_Element({ tag_name: \"div\" }).add_classes(\"title-canvas\", \"active\");\r\n\r\n      new_title.setAttribute(\"data-canvas-name\", value.name);\r\n      new_title.innerHTML = value.name + \"<span>&times;</span>\";\r\n\r\n      title.appendChild(new_title);\r\n\r\n      prev_title = new_title;\r\n\r\n      //  \r\n      let new_main_canvas = template_canvas.zoom_wrapper.cloneNode(true);\r\n\r\n      new_main_canvas.setAttribute(\"data-canvas-name\", value.name);\r\n\r\n      new_main_canvas = new Init_Canvas(new_main_canvas, new_title)\r\n        .init()\r\n        .block()\r\n        .add_wrapper()\r\n        .init_size(value.width, value.height);\r\n\r\n      main_wrapper.set_height(html.clientHeight - get_height(header));\r\n\r\n      new Centering_Element().all_elem(zoom_wrapper, wrapper, wrapper_left_tools, wrapper_top_tools);\r\n\r\n      new Init_Wrapper(new_main_canvas).check().init_coords();\r\n\r\n      get_zoom();\r\n      get_bias();\r\n\r\n      arr_canvas.push(new_main_canvas);\r\n    }\r\n  },\r\n  {\r\n    class_badge: \"options-window-size\",\r\n    class_settings: \"settings-window-size\",\r\n    class_value: \" .input-wrapper input\",\r\n    value_name: [\"width\", \"height\"],\r\n    appear_func: function() {\r\n      let elem = document.querySelector(\".\" + this.class_settings);\r\n\r\n      let value = new Init_Value(this.class_settings, this.class_value, this.value_name);\r\n\r\n      value.width.value = canvas.width;\r\n      value.height.value = canvas.height;\r\n\r\n      block(elem);\r\n      elem.classList.remove(\"zoomOut\");\r\n      elem.classList.add(\"zoomIn\");\r\n\r\n      new Centering_Element().all(elem);\r\n    },\r\n\r\n    service_func: function() {\r\n      let value = new Init_Value(this.class_settings, this.class_value, this.value_name).init();\r\n\r\n      new Init_Canvas(zoom_wrapper).init_size(value.width, value.height);\r\n\r\n      new Centering_Element().all_elem(zoom_wrapper, wrapper, wrapper_left_tools, wrapper_top_tools);\r\n\r\n      new Init_Wrapper().check().change_coords();\r\n\r\n      get_zoom();\r\n      get_bias();\r\n    }\r\n  }\r\n];\r\n//        tools\r\nlet arr_class = [\r\n  {\r\n    class: \"pencil-badge\",\r\n    func: draw_pencil,\r\n    event: \"mousedown\"\r\n  },\r\n  {\r\n    class: \"rubber-badge\",\r\n    func: moveToRubber,\r\n    event: \"mousedown\",\r\n    string: \"add\",\r\n    service_func: function(string) {\r\n      if (string == \"remove\") {\r\n        canvas_wrapper.classList.remove(\"rubber-canvas-active\");\r\n        this.string = \"add\";\r\n      } else if (string == \"add\") {\r\n        canvas_wrapper.classList.add(\"rubber-canvas-active\");\r\n        this.string = \"remove\";\r\n      }\r\n    }\r\n  },\r\n  {\r\n    class: \"text-badge\",\r\n    func: text_click,\r\n    event: \"dblclick\"\r\n  },\r\n  {\r\n    class: \"pouring-badge\",\r\n    func: fill,\r\n    event: \"mousedown\"\r\n  },\r\n  {\r\n    class: \"square-badge\",\r\n    func: beginRect,\r\n    event: \"mousedown\"\r\n  },\r\n  {\r\n    class: \"line-badge\",\r\n    func: draw_line,\r\n    event: \"mousedown\"\r\n  },\r\n  {\r\n    class: \"move-badge\",\r\n    func: move_canvas,\r\n    event: \"mousedown\",\r\n    service_func: function() {\r\n      if (temp_target) {\r\n        temp_target.style.border = \"\";\r\n      }\r\n      temp_target = undefined;\r\n    }\r\n  }\r\n];\r\n\r\n//   \r\n\r\nclass Init_Value {\r\n  constructor(class_settings, selector_value, name_value) {\r\n    this.class_settings = class_settings;\r\n    this.value = document.querySelectorAll(\".\" + class_settings + selector_value);\r\n    this.name_value = name_value;\r\n\r\n    this.name_value.forEach((item, i) => {\r\n      this[item] = this.value[i];\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  init() {\r\n    this.name_value.forEach((item, i) => {\r\n      this[item] = this.value[i].value;\r\n    });\r\n    return this;\r\n  }\r\n}\r\n\r\nclass Init_Canvas {\r\n  constructor(new_canvas, new_title) {\r\n    if (new_canvas instanceof Init_Canvas) {\r\n      return new_canvas;\r\n    } else {\r\n      this.all_path = [];\r\n      this.path = [];\r\n      this.arr_context = [];\r\n\r\n      this.zoom_wrapper = new_canvas;\r\n      //this.canvas_wrapper = new_canvas.firstElementChild;\r\n      //this.canvas = new_canvas.firstElementChild.firstElementChild;\r\n      //this.c = this.canvas.getContext(\"2d\");\r\n      //this.canvas_name = new_canvas.dataset.canvasName;\r\n\r\n      this.title = new_title;\r\n\r\n      Init_Canvas.counter++;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  init() {\r\n    all_path = this.all_path;\r\n    path = this.path;\r\n    arr_context = this.arr_context;\r\n\r\n    actual_canvas = this;\r\n    zoom_wrapper = this.zoom_wrapper;\r\n    canvas_wrapper = this.canvas_wrapper;\r\n    canvas = this.canvas;\r\n    c = this.c;\r\n\r\n    return this;\r\n  }\r\n  init_size(width, height) {\r\n    this.canvas_wrapper.set_width(parseFloat(width || 0));\r\n    this.canvas_wrapper.set_height(parseFloat(height || 0));\r\n\r\n    this.canvas.width = width;\r\n    this.canvas.height = height;\r\n    return this;\r\n  }\r\n  init_coords() {\r\n    try {\r\n      wrapper_coords_x.querySelector(\".coords-x\").remove();\r\n      wrapper_coords_y.querySelector(\".coords-y\").remove();\r\n    } catch (e) {}\r\n    wrapper_coords_x.appendChild(this.coords_x);\r\n    wrapper_coords_y.appendChild(this.coords_y);\r\n\r\n    return this;\r\n  }\r\n  block() {\r\n    this.zoom_wrapper.style.display = \"inline-block\";\r\n    return this;\r\n  }\r\n  none() {\r\n    this.zoom_wrapper.style.display = \"none\";\r\n    return this;\r\n  }\r\n  add_title_class() {\r\n    this.title.classList.add(\"active\");\r\n    prev_title = this.title;\r\n    return this;\r\n  }\r\n  remove_title_class() {\r\n    this.title.classList.remove(\"active\");\r\n    return this;\r\n  }\r\n  add_wrapper() {\r\n    wrapper.appendChild(this.zoom_wrapper);\r\n    return this;\r\n  }\r\n}\r\n\r\n//     \r\n\r\nInit_Canvas.counter = 0; //  \r\n\r\ntemplate_canvas = new Init_Canvas(document.querySelector(\".zoom-wrapper\")).init();\r\n\r\n// new Init_Wrapper().event_scroll();\r\n\r\n// let tools = new Tools_Draw({\r\n//   wrapper: document.querySelector(\".tools-wrapper\")\r\n// });\r\n\r\n//     HTML\r\n\r\nmenu_bar.set_height(height_menu_bar);\r\n\r\n//canvas_wrapper.style.zoom = 1;\r\n\r\n//           arr_settings\r\nall_apply_button.forEach(item => {\r\n  item.addEventListener(\"click\", e => {\r\n    let target = item.parentElement;\r\n    target.classList.remove(\"zoomIn\");\r\n    target.classList.add(\"zoomOut\");\r\n\r\n    arr_settings.forEach(item => {\r\n      if (target.classList.contains(item.class_settings)) {\r\n        item.service_func();\r\n      }\r\n    });\r\n\r\n    setTimeout(() => {\r\n      target.style.display = \"\";\r\n    }, 500);\r\n  });\r\n});\r\n\r\n// title.addEventListener(\"click\", function(e) {\r\n//   let target = e.target;\r\n//   let all_title = title.querySelectorAll(\".title-canvas\");\r\n\r\n//   for (let i = 0; i < arr_canvas.length; i++) {\r\n//     if (target.getAttribute(\"data-canvas-name\") == arr_canvas[i].canvas_name) {\r\n//       new Init_Canvas(arr_canvas[i])\r\n//         .init()\r\n//         .block()\r\n//         .add_title_class()\r\n//         .init_coords();\r\n\r\n//       get_zoom();\r\n//       get_bias();\r\n//     } else {\r\n//       arr_canvas[i].remove_title_class();\r\n//       arr_canvas[i].none();\r\n//     }\r\n//   }\r\n\r\n//   if (target.tagName == \"SPAN\") {\r\n//     target = target.closest(\".title-canvas\");\r\n//     for (let i = 0; i < arr_canvas.length; i++) {\r\n//       if (target.getAttribute(\"data-canvas-name\") == arr_canvas[i].canvas_name) {\r\n//         arr_canvas[i].title.remove();\r\n//         arr_canvas[i].zoom_wrapper.remove();\r\n\r\n//         arr_canvas.splice(i, 1);\r\n\r\n//         if (arr_canvas[i]) {\r\n//           new Init_Canvas(arr_canvas[i])\r\n//             .init()\r\n//             .block()\r\n//             .add_title_class()\r\n//             .init_coords();\r\n//         } else if (arr_canvas[i - 1]) {\r\n//           console.log(123);\r\n//           new Init_Canvas(arr_canvas[i - 1])\r\n//             .init()\r\n//             .block()\r\n//             .add_title_class()\r\n//             .init_coords();\r\n//         } else {\r\n//           title.style.display = \"none\";\r\n//           wrapper.style.display = \"none\";\r\n//         }\r\n\r\n//         get_zoom();\r\n//         get_bias();\r\n//       } else {\r\n//         arr_canvas[i].none();\r\n//       }\r\n//     }\r\n//   }\r\n// });\r\n\r\ndocument.querySelector(\".header-options\").addEventListener(\"click\", function(e) {\r\n  e.preventDefault();\r\n  let target = e.target;\r\n\r\n  for (let i = 0; i < arr_settings.length; i++) {\r\n    if (e.target.classList.contains(arr_settings[i].class_badge)) {\r\n      arr_settings[i].appear_func();\r\n    }\r\n  }\r\n});\r\n\r\n//     painta\r\n\r\n// try {\r\n//   document.querySelector(\".tools-wrapper\").onclick = function(e) {\r\n//     let target = e.target;\r\n//     let new_target;\r\n\r\n//     e.preventDefault();\r\n//     counter = 0;\r\n\r\n//     function check() {\r\n//       if (prev_target) {\r\n//         canvas_wrapper.removeEventListener(prev_target.arr_class.event, prev_target.arr_class.func);\r\n//         if (prev_target.arr_class.service_func) {\r\n//           prev_target.arr_class.service_func(prev_target.arr_class.string);\r\n//         }\r\n//         prev_target.target.classList.remove(\"active\");\r\n//       }\r\n//     }\r\n\r\n//     for (let i = 0; i < arr_class.length; i++) {\r\n//       new_target = target.closest(\".\" + arr_class[i].class);\r\n\r\n//       if (new_target) {\r\n//         counter++;\r\n\r\n//         check();\r\n\r\n//         canvas_wrapper.addEventListener(arr_class[i].event, arr_class[i].func);\r\n\r\n//         if (arr_class[i].service_func) {\r\n//           arr_class[i].service_func(arr_class[i].string);\r\n//         }\r\n\r\n//         prev_target = {\r\n//           target: document.querySelector(\".\" + arr_class[i].class),\r\n//           arr_class: arr_class[i]\r\n//         };\r\n\r\n//         new_target.classList.add(\"active\");\r\n//       }\r\n//     }\r\n\r\n//     if (counter == 0) {\r\n//       check();\r\n//       prev_target = null;\r\n//     }\r\n//   };\r\n// } catch (e) {}\r\n\r\n//    ctrl-z\r\nfunction path_remove() {\r\n  arr_context.forEach(item => {\r\n    item.width = item.width;\r\n    item.height = item.height;\r\n  });\r\n\r\n  canvas.width = canvas.width;\r\n  canvas.height = canvas.height;\r\n\r\n  let all_path_last = all_path[all_path.length - 1];\r\n  let path_last = path[path.length - 1];\r\n\r\n  //  canvas     \r\n  if (all_path_last && all_path_last.move_canvas) {\r\n    all_path_last.target.style.left = all_path_last.left;\r\n    all_path_last.target.style.top = all_path_last.top;\r\n  }\r\n\r\n  //      \r\n  if (all_path_last && all_path_last.clear) {\r\n    clear_coords.pop();\r\n  }\r\n\r\n  //    \r\n  if (all_path_last && all_path_last.fill_pop) {\r\n    all_path_last.target.fillStyle.pop();\r\n  }\r\n\r\n  //          ,   \r\n  //       DOM-\r\n  if (all_path_last && all_path_last.isPath) {\r\n    if (path_last && path_last.remove) {\r\n      path_last.remove.remove();\r\n    }\r\n    console.log(all_path);\r\n    path.pop();\r\n  }\r\n\r\n  console.log(all_path);\r\n\r\n  //    -   ctrl-z\r\n  path_delete.push(all_path.pop());\r\n\r\n  console.log(all_path);\r\n\r\n  //      \r\n  path.forEach(item => {\r\n    if (item.fill) {\r\n      item.context.fillStyle = item.fillStyle[item.fillStyle.length - 1];\r\n      item.context.fill(item.path);\r\n    }\r\n    if (item.shape == \"text\") {\r\n      let temp = item.text_value;\r\n      draw_text(temp.text, item.context, temp.line_height, temp.font_size, temp.font);\r\n    }\r\n\r\n    item.context.stroke(item.path);\r\n  });\r\n\r\n  //    \r\n  clear_coords.forEach(item => {\r\n    item.coords.forEach(item => {\r\n      c.fillStyle = \"#fff\";\r\n      c.fillRect(item.x, item.y, 16, 16);\r\n    });\r\n  });\r\n}\r\n\r\n//  canvas\r\nfunction move_canvas(e) {\r\n  let target = e.target;\r\n  let x;\r\n  let y;\r\n\r\n  if (temp_target == target && target !== canvas) {\r\n    x = get_x(e);\r\n    y = get_y(e);\r\n\r\n    let begin_x = get_left(temp_target);\r\n    let begin_y = get_top(temp_target);\r\n\r\n    //      ctrl-z\r\n    all_path.push({\r\n      isPath: false,\r\n      left: temp_target.style.left,\r\n      top: temp_target.style.top,\r\n      move_canvas: true,\r\n      target: temp_target\r\n    });\r\n\r\n    canvas_wrapper.onmousemove = function(e) {\r\n      let new_x = get_x(e) - x;\r\n      let new_y = get_y(e) - y;\r\n\r\n      temp_target.style.left = begin_x + new_x + \"px\";\r\n      temp_target.style.top = begin_y + new_y + \"px\";\r\n\r\n      if (get_top(temp_target) < 0) {\r\n        temp_target.style.top = \"0px\";\r\n      }\r\n    };\r\n\r\n    temp_target.onmouseup = function() {\r\n      canvas_wrapper.onmousemove = null;\r\n    };\r\n\r\n    document.onmouseup = function() {\r\n      canvas_wrapper.onmousemove = null;\r\n    };\r\n  } else if (temp_target !== undefined) {\r\n    temp_target.style.border = \"\";\r\n  }\r\n\r\n  temp_target = target;\r\n  target.style.border = \"1px dashed black\";\r\n}\r\n\r\n//  \r\nfunction draw_pencil(e) {}\r\n\r\n// \r\nfunction moveToRubber(e) {\r\n  let x = e.pageX;\r\n  let y = e.pageY - height_header;\r\n  let arr_coords = [];\r\n\r\n  canvas_wrapper.onmousemove = function(e) {\r\n    let x = e.pageX;\r\n    let y = e.pageY;\r\n    let target = document.elementFromPoint(x + 8, y + 8);\r\n    let coords = {};\r\n    let all_coords = {};\r\n\r\n    c = target.getContext(\"2d\");\r\n    x = e.pageX - (parseInt(target.style.left) || 0);\r\n    y = e.pageY - height_header - (parseInt(target.style.top) || 0);\r\n\r\n    coords = {\r\n      x: x,\r\n      y: y\r\n    };\r\n\r\n    arr_coords.push(coords);\r\n\r\n    c.fillStyle = \"#fff\";\r\n    c.fillRect(x, y, 16, 16);\r\n  };\r\n  canvas_wrapper.onmouseup = function() {\r\n    all_coords = {\r\n      coords: arr_coords,\r\n      clear: true\r\n    };\r\n\r\n    clear_coords.push(all_coords);\r\n    all_path.push(all_coords);\r\n\r\n    canvas_wrapper.onmousemove = null;\r\n  };\r\n}\r\n\r\n// \r\n\r\nfunction draw_text(text, c, line_height, font_size, font) {\r\n  let temp = line_height;\r\n  for (let i = 0; i < text.length; i++) {\r\n    c.font = `${font_size} ${font}`;\r\n    c.fillText(text[i], 0, line_height);\r\n    line_height += temp;\r\n  }\r\n  line_height = temp;\r\n}\r\n\r\n//     \r\nfunction create_textarea(x, y) {\r\n  var textarea = document.createElement(\"textarea\");\r\n\r\n  textarea.style.left = x + \"px\";\r\n  textarea.style.top = y + \"px\";\r\n\r\n  textarea.classList.add(\"canvas-textarea-text\");\r\n\r\n  canvas_wrapper.appendChild(textarea);\r\n  textarea.focus();\r\n\r\n  return textarea;\r\n}\r\n\r\n//    canvasa  \r\nfunction text_click(e) {\r\n  let x = get_x(e);\r\n  let y = get_y(e);\r\n  let x1 = 0;\r\n  let y1 = 0;\r\n\r\n  if (!e.target.classList.contains(\"canvas-text\") && e.target.tagName != \"TEXTAREA\") {\r\n    create_textarea(x, y);\r\n  }\r\n\r\n  textarea = document.querySelectorAll(\".canvas-textarea-text\");\r\n\r\n  for (let i = 0; i < textarea.length; i++) {\r\n    if (textarea[i]) {\r\n      textarea[i].onblur = function() {\r\n        event_textarea(textarea[i]);\r\n      };\r\n    }\r\n  }\r\n\r\n  function event_textarea(textarea) {\r\n    let text = textarea.value;\r\n    let current_path = {};\r\n    let font_size = \"22px\";\r\n    let font = \"sans-serif\";\r\n    let line_height = 30;\r\n    let x = 0;\r\n    let y = line_height;\r\n\r\n    create_canvas(get_left(textarea), get_top(textarea), \"canvas-text\");\r\n\r\n    new_canvas.counter = arr_textarea.length;\r\n\r\n    arr_context.push(new_canvas);\r\n\r\n    current_path = {\r\n      path: new Path2D(),\r\n      context: new_c,\r\n      isPath: true,\r\n      stroke: true,\r\n      fill: false,\r\n      fillStyle: [\"#fff\"],\r\n      shape: \"text\",\r\n      text_value: {\r\n        text: text.split(\"\\n\"),\r\n        font: font,\r\n        line_height: line_height,\r\n        font_size: font_size\r\n      },\r\n      target: new_canvas,\r\n      remove: new_canvas\r\n    };\r\n\r\n    path.push(current_path);\r\n    all_path.push(current_path);\r\n\r\n    text = text.split(\"\\n\");\r\n    let width = new_c.measureText(text[0]).width;\r\n    for (let i = 0; i < text.length; i++) {\r\n      if (width < new_c.measureText(text[i]).width) width = new_c.measureText(text[i]).width;\r\n    }\r\n\r\n    new_canvas.width = width * (parseInt(font_size) / 10);\r\n    new_canvas.height = text.length * line_height;\r\n\r\n    draw_text(text, new_c, line_height, font_size, font);\r\n\r\n    arr_textarea.push(canvas_wrapper.replaceChild(new_canvas, textarea));\r\n\r\n    new_canvas.addEventListener(\"dblclick\", function() {\r\n      canvas_wrapper.replaceChild(arr_textarea[this.counter], this);\r\n      arr_textarea[this.counter].focus();\r\n    });\r\n\r\n    counter++;\r\n  }\r\n}\r\n\r\n//\r\n\r\nfunction fill(e) {\r\n  let x = get_x(e) - get_left(e.target);\r\n  let y = get_y(e) - get_top(e.target);\r\n\r\n  let bool = false;\r\n  let arr_new_path = [];\r\n\r\n  canvas_wrapper.onmouseup = null;\r\n\r\n  arr_new_path = path.filter(item => {\r\n    return item.target == e.target;\r\n  });\r\n\r\n  arr_new_path.forEach(item => {\r\n    if (item.context.isPointInPath(item.path, x, y)) {\r\n      if (item.shape == false) bool = true;\r\n    }\r\n  });\r\n\r\n  if (bool) {\r\n    arr_new_path.forEach(item => {\r\n      if (!item.shape) {\r\n        if (item.context.isPointInPath(item.path, x, y)) {\r\n          item.fillStyle.push(\"#\" + (~~(Math.random() * 16777000)).toString(16));\r\n\r\n          item.fill = true;\r\n          all_path.push({\r\n            target: item,\r\n            isPath: false,\r\n            path: item.path,\r\n            context: item.context,\r\n            draw: false,\r\n            fill_pop: true,\r\n            fillStyle: item.fillStyle\r\n          });\r\n\r\n          item.context.stroke(item.path);\r\n          item.context.fillStyle = item.fillStyle[item.fillStyle.length - 1];\r\n          item.context.fill(item.path);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (!bool) {\r\n    arr_new_path.forEach(item => {\r\n      if (item.shape == \"rect\") {\r\n        item.fillStyle.push(\"#\" + (~~(Math.random() * 16777000)).toString(16));\r\n        item.fill = true;\r\n        all_path.push({\r\n          target: item,\r\n          isPath: false,\r\n          path: item.path,\r\n          context: item.context,\r\n          fill_pop: true,\r\n          fillStyle: item.fillStyle\r\n        });\r\n      }\r\n      item.context.fillStyle = item.fillStyle[item.fillStyle.length - 1];\r\n      item.context.fill(item.path);\r\n      item.context.stroke(item.path);\r\n    });\r\n  }\r\n}\r\n\r\n//shapes\r\n\r\n//  \r\n\r\nfunction beginRect(e) {\r\n  let x1 = get_x(e);\r\n  let y1 = get_y(e);\r\n  let y = 0;\r\n  let x = 0;\r\n  let current_path = {};\r\n\r\n  create_canvas(x1, y1, \"canvas-rect\");\r\n\r\n  current_path = {\r\n    path: new Path2D(),\r\n    isPath: true,\r\n    context: new_c,\r\n    stroke: true,\r\n    fill: false,\r\n    fillStyle: [\"#fff\"],\r\n    shape: \"rect\",\r\n    target: new_canvas,\r\n    remove: new_canvas\r\n  };\r\n\r\n  path.push(current_path);\r\n  all_path.push(current_path);\r\n\r\n  canvas_wrapper.appendChild(new_canvas);\r\n\r\n  canvas_wrapper.onmousemove = function(e) {\r\n    x = get_x(e) - x1;\r\n    y = get_y(e) - y1;\r\n\r\n    if (get_x(e) < x1) {\r\n      new_canvas.style.left = get_x(e) + \"px\";\r\n      x = x1 - get_x(e);\r\n    }\r\n    if (get_y(e) < y1) {\r\n      new_canvas.style.top = get_y(e) + \"px\";\r\n      y = y1 - get_y(e);\r\n    }\r\n\r\n    new_canvas.width = x;\r\n    new_canvas.height = y;\r\n\r\n    new_c.strokeRect(0, 0, x, y);\r\n  };\r\n  canvas_wrapper.onmouseup = function(e) {\r\n    new_canvas.width = x;\r\n    new_canvas.height = y;\r\n\r\n    arr_context.push(new_canvas);\r\n\r\n    path[path.length - 1].path.rect(0, 0, x, y);\r\n\r\n    new_c.stroke(path[path.length - 1].path);\r\n\r\n    canvas_wrapper.onmousemove = null;\r\n  };\r\n}\r\n\r\n// \r\nfunction draw_line(e) {\r\n  let x1 = get_x(e);\r\n  let y1 = get_y(e);\r\n  let x, y, begin_x, begin_y, end_x, end_y;\r\n\r\n  create_canvas(x1, y1, \"canvas-line\");\r\n\r\n  current_path = {\r\n    path: new Path2D(),\r\n    isPath: true,\r\n    context: new_c,\r\n    stroke: true,\r\n    fill: false,\r\n    fillStyle: [\"#fff\"],\r\n    shape: \"line\",\r\n    target: new_canvas,\r\n    remove: new_canvas\r\n  };\r\n\r\n  path.push(current_path);\r\n  all_path.push(current_path);\r\n\r\n  canvas_wrapper.appendChild(new_canvas);\r\n\r\n  new_c.beginPath();\r\n\r\n  canvas_wrapper.onmousemove = function(e) {\r\n    x = get_x(e) - x1;\r\n    y = get_y(e) - y1;\r\n\r\n    if (get_x(e) < x1) {\r\n      new_canvas.style.left = get_x(e) + \"px\";\r\n      x = x1 - get_x(e);\r\n    }\r\n    if (get_y(e) < y1) {\r\n      new_canvas.style.top = get_y(e) + \"px\";\r\n      y = y1 - get_y(e);\r\n    }\r\n    if (get_y(e) > y1 && get_x(e) > x1) {\r\n      begin_x = 0;\r\n      begin_y = 0;\r\n      end_x = x;\r\n      end_y = y;\r\n    }\r\n    if (get_y(e) < y1 && get_x(e) > x1) {\r\n      begin_x = 0;\r\n      begin_y = y;\r\n      end_x = x;\r\n      end_y = 0;\r\n    }\r\n    if (get_y(e) > y1 && get_x(e) < x1) {\r\n      begin_x = x;\r\n      begin_y = 0;\r\n      end_x = 0;\r\n      end_y = y;\r\n    }\r\n    if (get_y(e) < y1 && e.pageX < x1) {\r\n      begin_x = x;\r\n      begin_y = y;\r\n      end_x = 0;\r\n      end_y = 0;\r\n    }\r\n\r\n    new_canvas.width = x || 1;\r\n    new_canvas.height = y || 1;\r\n\r\n    new_c.moveTo(begin_x, begin_y);\r\n    new_c.lineTo(end_x, end_y);\r\n\r\n    new_c.stroke();\r\n  };\r\n  canvas_wrapper.onmouseup = function(e) {\r\n    path[path.length - 1].path.moveTo(begin_x, begin_y);\r\n    path[path.length - 1].path.lineTo(end_x, end_y);\r\n\r\n    canvas_wrapper.onmousemove = null;\r\n  };\r\n}\r\n\r\n//  canvas\r\n\r\nfunction create_canvas(x1, y1, ...value_class) {\r\n  new_canvas = document.createElement(\"canvas\");\r\n  new_c = new_canvas.getContext(\"2d\");\r\n  new_canvas.classList.add(\"canvas\");\r\n\r\n  value_class.forEach(item => {\r\n    new_canvas.classList.add(item);\r\n  });\r\n\r\n  new_canvas.style.left = x1 + \"px\";\r\n  new_canvas.style.top = y1 + \"px\";\r\n  new_canvas.width = 0;\r\n  new_canvas.height = 0;\r\n}\r\n\r\n//    \r\nlet all_close_wrapper = document.querySelectorAll(\".close-wrapper\");\r\nlet all_close = document.querySelectorAll(\".close\");\r\n\r\nall_close_wrapper.forEach(item => {\r\n  drag(item, item.parentElement);\r\n});\r\n\r\nall_close.forEach(item => {\r\n  item.addEventListener(\"click\", e => {\r\n    item.parentElement.parentElement.classList.remove(\"zoomIn\");\r\n    item.parentElement.parentElement.classList.add(\"zoomOut\");\r\n\r\n    setTimeout(() => {\r\n      item.parentElement.parentElement.style.display = \"\";\r\n    }, 500);\r\n  });\r\n});\r\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\r\\n\\r\\n/*!\\r\\n * animate.css -http://daneden.me/animate\\r\\n * Version - 3.5.2\\r\\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\\r\\n *\\r\\n * Copyright (c) 2017 Daniel Eden\\r\\n */\\r\\n\\r\\n.animated {\\r\\n  animation-duration: 0.4s;\\r\\n  animation-fill-mode: both;\\r\\n}\\r\\n\\r\\n.animated.infinite {\\r\\n  animation-iteration-count: infinite;\\r\\n}\\r\\n\\r\\n.animated.hinge {\\r\\n  animation-duration: 2s;\\r\\n}\\r\\n\\r\\n.animated.flipOutX,\\r\\n.animated.flipOutY,\\r\\n.animated.bounceIn,\\r\\n.animated.bounceOut {\\r\\n  animation-duration: 0.75s;\\r\\n}\\r\\n\\r\\n@keyframes bounce {\\r\\n  from,\\r\\n  20%,\\r\\n  53%,\\r\\n  80%,\\r\\n  to {\\r\\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n\\r\\n  40%,\\r\\n  43% {\\r\\n    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\\r\\n    transform: translate3d(0, -30px, 0);\\r\\n  }\\r\\n\\r\\n  70% {\\r\\n    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\\r\\n    transform: translate3d(0, -15px, 0);\\r\\n  }\\r\\n\\r\\n  90% {\\r\\n    transform: translate3d(0, -4px, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounce {\\r\\n  animation-name: bounce;\\r\\n  transform-origin: center bottom;\\r\\n}\\r\\n\\r\\n@keyframes flash {\\r\\n  from,\\r\\n  50%,\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  25%,\\r\\n  75% {\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.flash {\\r\\n  animation-name: flash;\\r\\n}\\r\\n\\r\\n/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\\r\\n\\r\\n@keyframes pulse {\\r\\n  from {\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    transform: scale3d(1.05, 1.05, 1.05);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.pulse {\\r\\n  animation-name: pulse;\\r\\n}\\r\\n\\r\\n@keyframes rubberBand {\\r\\n  from {\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n    transform: scale3d(1.25, 0.75, 1);\\r\\n  }\\r\\n\\r\\n  40% {\\r\\n    transform: scale3d(0.75, 1.25, 1);\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    transform: scale3d(1.15, 0.85, 1);\\r\\n  }\\r\\n\\r\\n  65% {\\r\\n    transform: scale3d(0.95, 1.05, 1);\\r\\n  }\\r\\n\\r\\n  75% {\\r\\n    transform: scale3d(1.05, 0.95, 1);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.rubberBand {\\r\\n  animation-name: rubberBand;\\r\\n}\\r\\n\\r\\n@keyframes shake {\\r\\n  from,\\r\\n  to {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n\\r\\n  10%,\\r\\n  30%,\\r\\n  50%,\\r\\n  70%,\\r\\n  90% {\\r\\n    transform: translate3d(-10px, 0, 0);\\r\\n  }\\r\\n\\r\\n  20%,\\r\\n  40%,\\r\\n  60%,\\r\\n  80% {\\r\\n    transform: translate3d(10px, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.shake {\\r\\n  animation-name: shake;\\r\\n}\\r\\n\\r\\n@keyframes headShake {\\r\\n  0% {\\r\\n    transform: translateX(0);\\r\\n  }\\r\\n\\r\\n  6.5% {\\r\\n    transform: translateX(-6px) rotateY(-9deg);\\r\\n  }\\r\\n\\r\\n  18.5% {\\r\\n    transform: translateX(5px) rotateY(7deg);\\r\\n  }\\r\\n\\r\\n  31.5% {\\r\\n    transform: translateX(-3px) rotateY(-5deg);\\r\\n  }\\r\\n\\r\\n  43.5% {\\r\\n    transform: translateX(2px) rotateY(3deg);\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    transform: translateX(0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.headShake {\\r\\n  animation-timing-function: ease-in-out;\\r\\n  animation-name: headShake;\\r\\n}\\r\\n\\r\\n@keyframes swing {\\r\\n  20% {\\r\\n    transform: rotate3d(0, 0, 1, 15deg);\\r\\n  }\\r\\n\\r\\n  40% {\\r\\n    transform: rotate3d(0, 0, 1, -10deg);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    transform: rotate3d(0, 0, 1, 5deg);\\r\\n  }\\r\\n\\r\\n  80% {\\r\\n    transform: rotate3d(0, 0, 1, -5deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: rotate3d(0, 0, 1, 0deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n.swing {\\r\\n  transform-origin: top center;\\r\\n  animation-name: swing;\\r\\n}\\r\\n\\r\\n@keyframes tada {\\r\\n  from {\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n\\r\\n  10%,\\r\\n  20% {\\r\\n    transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);\\r\\n  }\\r\\n\\r\\n  30%,\\r\\n  50%,\\r\\n  70%,\\r\\n  90% {\\r\\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\\r\\n  }\\r\\n\\r\\n  40%,\\r\\n  60%,\\r\\n  80% {\\r\\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.tada {\\r\\n  animation-name: tada;\\r\\n}\\r\\n\\r\\n/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\\r\\n\\r\\n@keyframes wobble {\\r\\n  from {\\r\\n    transform: none;\\r\\n  }\\r\\n\\r\\n  15% {\\r\\n    transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n    transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);\\r\\n  }\\r\\n\\r\\n  45% {\\r\\n    transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);\\r\\n  }\\r\\n\\r\\n  75% {\\r\\n    transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.wobble {\\r\\n  animation-name: wobble;\\r\\n}\\r\\n\\r\\n@keyframes jello {\\r\\n  from,\\r\\n  11.1%,\\r\\n  to {\\r\\n    transform: none;\\r\\n  }\\r\\n\\r\\n  22.2% {\\r\\n    transform: skewX(-12.5deg) skewY(-12.5deg);\\r\\n  }\\r\\n\\r\\n  33.3% {\\r\\n    transform: skewX(6.25deg) skewY(6.25deg);\\r\\n  }\\r\\n\\r\\n  44.4% {\\r\\n    transform: skewX(-3.125deg) skewY(-3.125deg);\\r\\n  }\\r\\n\\r\\n  55.5% {\\r\\n    transform: skewX(1.5625deg) skewY(1.5625deg);\\r\\n  }\\r\\n\\r\\n  66.6% {\\r\\n    transform: skewX(-0.78125deg) skewY(-0.78125deg);\\r\\n  }\\r\\n\\r\\n  77.7% {\\r\\n    transform: skewX(0.390625deg) skewY(0.390625deg);\\r\\n  }\\r\\n\\r\\n  88.8% {\\r\\n    transform: skewX(-0.1953125deg) skewY(-0.1953125deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n.jello {\\r\\n  animation-name: jello;\\r\\n  transform-origin: center;\\r\\n}\\r\\n\\r\\n@keyframes bounceIn {\\r\\n  from,\\r\\n  20%,\\r\\n  40%,\\r\\n  60%,\\r\\n  80%,\\r\\n  to {\\r\\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\\r\\n  }\\r\\n\\r\\n  0% {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.3, 0.3, 0.3);\\r\\n  }\\r\\n\\r\\n  20% {\\r\\n    transform: scale3d(1.1, 1.1, 1.1);\\r\\n  }\\r\\n\\r\\n  40% {\\r\\n    transform: scale3d(0.9, 0.9, 0.9);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(1.03, 1.03, 1.03);\\r\\n  }\\r\\n\\r\\n  80% {\\r\\n    transform: scale3d(0.97, 0.97, 0.97);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(1, 1, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceIn {\\r\\n  animation-name: bounceIn;\\r\\n}\\r\\n\\r\\n@keyframes bounceInDown {\\r\\n  from,\\r\\n  60%,\\r\\n  75%,\\r\\n  90%,\\r\\n  to {\\r\\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\\r\\n  }\\r\\n\\r\\n  0% {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, -3000px, 0);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(0, 25px, 0);\\r\\n  }\\r\\n\\r\\n  75% {\\r\\n    transform: translate3d(0, -10px, 0);\\r\\n  }\\r\\n\\r\\n  90% {\\r\\n    transform: translate3d(0, 5px, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceInDown {\\r\\n  animation-name: bounceInDown;\\r\\n}\\r\\n\\r\\n@keyframes bounceInLeft {\\r\\n  from,\\r\\n  60%,\\r\\n  75%,\\r\\n  90%,\\r\\n  to {\\r\\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\\r\\n  }\\r\\n\\r\\n  0% {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-3000px, 0, 0);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(25px, 0, 0);\\r\\n  }\\r\\n\\r\\n  75% {\\r\\n    transform: translate3d(-10px, 0, 0);\\r\\n  }\\r\\n\\r\\n  90% {\\r\\n    transform: translate3d(5px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceInLeft {\\r\\n  animation-name: bounceInLeft;\\r\\n}\\r\\n\\r\\n@keyframes bounceInRight {\\r\\n  from,\\r\\n  60%,\\r\\n  75%,\\r\\n  90%,\\r\\n  to {\\r\\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\\r\\n  }\\r\\n\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(3000px, 0, 0);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(-25px, 0, 0);\\r\\n  }\\r\\n\\r\\n  75% {\\r\\n    transform: translate3d(10px, 0, 0);\\r\\n  }\\r\\n\\r\\n  90% {\\r\\n    transform: translate3d(-5px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceInRight {\\r\\n  animation-name: bounceInRight;\\r\\n}\\r\\n\\r\\n@keyframes bounceInUp {\\r\\n  from,\\r\\n  60%,\\r\\n  75%,\\r\\n  90%,\\r\\n  to {\\r\\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\\r\\n  }\\r\\n\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, 3000px, 0);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(0, -20px, 0);\\r\\n  }\\r\\n\\r\\n  75% {\\r\\n    transform: translate3d(0, 10px, 0);\\r\\n  }\\r\\n\\r\\n  90% {\\r\\n    transform: translate3d(0, -5px, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceInUp {\\r\\n  animation-name: bounceInUp;\\r\\n}\\r\\n\\r\\n@keyframes bounceOut {\\r\\n  20% {\\r\\n    transform: scale3d(0.9, 0.9, 0.9);\\r\\n  }\\r\\n\\r\\n  50%,\\r\\n  55% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(1.1, 1.1, 1.1);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.3, 0.3, 0.3);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceOut {\\r\\n  animation-name: bounceOut;\\r\\n}\\r\\n\\r\\n@keyframes bounceOutDown {\\r\\n  20% {\\r\\n    transform: translate3d(0, 10px, 0);\\r\\n  }\\r\\n\\r\\n  40%,\\r\\n  45% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(0, -20px, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, 2000px, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceOutDown {\\r\\n  animation-name: bounceOutDown;\\r\\n}\\r\\n\\r\\n@keyframes bounceOutLeft {\\r\\n  20% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(20px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-2000px, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceOutLeft {\\r\\n  animation-name: bounceOutLeft;\\r\\n}\\r\\n\\r\\n@keyframes bounceOutRight {\\r\\n  20% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(-20px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(2000px, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceOutRight {\\r\\n  animation-name: bounceOutRight;\\r\\n}\\r\\n\\r\\n@keyframes bounceOutUp {\\r\\n  20% {\\r\\n    transform: translate3d(0, -10px, 0);\\r\\n  }\\r\\n\\r\\n  40%,\\r\\n  45% {\\r\\n    opacity: 1;\\r\\n    transform: translate3d(0, 20px, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, -2000px, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.bounceOutUp {\\r\\n  animation-name: bounceOutUp;\\r\\n}\\r\\n\\r\\n@keyframes fadeIn {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeIn {\\r\\n  animation-name: fadeIn;\\r\\n}\\r\\n\\r\\n@keyframes fadeInDown {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, -100%, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInDown {\\r\\n  animation-name: fadeInDown;\\r\\n}\\r\\n\\r\\n@keyframes fadeInDownBig {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, -2000px, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInDownBig {\\r\\n  animation-name: fadeInDownBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeInLeft {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-100%, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInLeft {\\r\\n  animation-name: fadeInLeft;\\r\\n}\\r\\n\\r\\n@keyframes fadeInLeftBig {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-2000px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInLeftBig {\\r\\n  animation-name: fadeInLeftBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeInRight {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(100%, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInRight {\\r\\n  animation-name: fadeInRight;\\r\\n}\\r\\n\\r\\n@keyframes fadeInRightBig {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(2000px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInRightBig {\\r\\n  animation-name: fadeInRightBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeInUp {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, 100%, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInUp {\\r\\n  animation-name: fadeInUp;\\r\\n}\\r\\n\\r\\n@keyframes fadeInUpBig {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, 2000px, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeInUpBig {\\r\\n  animation-name: fadeInUpBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeOut {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOut {\\r\\n  animation-name: fadeOut;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutDown {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, 100%, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutDown {\\r\\n  animation-name: fadeOutDown;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutDownBig {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, 2000px, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutDownBig {\\r\\n  animation-name: fadeOutDownBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutLeft {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-100%, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutLeft {\\r\\n  animation-name: fadeOutLeft;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutLeftBig {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-2000px, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutLeftBig {\\r\\n  animation-name: fadeOutLeftBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutRight {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(100%, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutRight {\\r\\n  animation-name: fadeOutRight;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutRightBig {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(2000px, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutRightBig {\\r\\n  animation-name: fadeOutRightBig;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutUp {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, -100%, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutUp {\\r\\n  animation-name: fadeOutUp;\\r\\n}\\r\\n\\r\\n@keyframes fadeOutUpBig {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(0, -2000px, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.fadeOutUpBig {\\r\\n  animation-name: fadeOutUpBig;\\r\\n}\\r\\n\\r\\n@keyframes flip {\\r\\n  from {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, -360deg);\\r\\n    animation-timing-function: ease-out;\\r\\n  }\\r\\n\\r\\n  40% {\\r\\n    transform: perspective(400px) translate3d(0, 0, 150px)\\r\\n      rotate3d(0, 1, 0, -190deg);\\r\\n    animation-timing-function: ease-out;\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    transform: perspective(400px) translate3d(0, 0, 150px)\\r\\n      rotate3d(0, 1, 0, -170deg);\\r\\n    animation-timing-function: ease-in;\\r\\n  }\\r\\n\\r\\n  80% {\\r\\n    transform: perspective(400px) scale3d(0.95, 0.95, 0.95);\\r\\n    animation-timing-function: ease-in;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: perspective(400px);\\r\\n    animation-timing-function: ease-in;\\r\\n  }\\r\\n}\\r\\n\\r\\n.animated.flip {\\r\\n  -webkit-backface-visibility: visible;\\r\\n  backface-visibility: visible;\\r\\n  animation-name: flip;\\r\\n}\\r\\n\\r\\n@keyframes flipInX {\\r\\n  from {\\r\\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\\r\\n    animation-timing-function: ease-in;\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  40% {\\r\\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\\r\\n    animation-timing-function: ease-in;\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  80% {\\r\\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: perspective(400px);\\r\\n  }\\r\\n}\\r\\n\\r\\n.flipInX {\\r\\n  -webkit-backface-visibility: visible !important;\\r\\n  backface-visibility: visible !important;\\r\\n  animation-name: flipInX;\\r\\n}\\r\\n\\r\\n@keyframes flipInY {\\r\\n  from {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\\r\\n    animation-timing-function: ease-in;\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  40% {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\\r\\n    animation-timing-function: ease-in;\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  80% {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: perspective(400px);\\r\\n  }\\r\\n}\\r\\n\\r\\n.flipInY {\\r\\n  -webkit-backface-visibility: visible !important;\\r\\n  backface-visibility: visible !important;\\r\\n  animation-name: flipInY;\\r\\n}\\r\\n\\r\\n@keyframes flipOutX {\\r\\n  from {\\r\\n    transform: perspective(400px);\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.flipOutX {\\r\\n  animation-name: flipOutX;\\r\\n  -webkit-backface-visibility: visible !important;\\r\\n  backface-visibility: visible !important;\\r\\n}\\r\\n\\r\\n@keyframes flipOutY {\\r\\n  from {\\r\\n    transform: perspective(400px);\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, -15deg);\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.flipOutY {\\r\\n  -webkit-backface-visibility: visible !important;\\r\\n  backface-visibility: visible !important;\\r\\n  animation-name: flipOutY;\\r\\n}\\r\\n\\r\\n@keyframes lightSpeedIn {\\r\\n  from {\\r\\n    transform: translate3d(100%, 0, 0) skewX(-30deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    transform: skewX(20deg);\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  80% {\\r\\n    transform: skewX(-5deg);\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: none;\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.lightSpeedIn {\\r\\n  animation-name: lightSpeedIn;\\r\\n  animation-timing-function: ease-out;\\r\\n}\\r\\n\\r\\n@keyframes lightSpeedOut {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(100%, 0, 0) skewX(30deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.lightSpeedOut {\\r\\n  animation-name: lightSpeedOut;\\r\\n  animation-timing-function: ease-in;\\r\\n}\\r\\n\\r\\n@keyframes rotateIn {\\r\\n  from {\\r\\n    transform-origin: center;\\r\\n    transform: rotate3d(0, 0, 1, -200deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: center;\\r\\n    transform: none;\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateIn {\\r\\n  animation-name: rotateIn;\\r\\n}\\r\\n\\r\\n@keyframes rotateInDownLeft {\\r\\n  from {\\r\\n    transform-origin: left bottom;\\r\\n    transform: rotate3d(0, 0, 1, -45deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: left bottom;\\r\\n    transform: none;\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateInDownLeft {\\r\\n  animation-name: rotateInDownLeft;\\r\\n}\\r\\n\\r\\n@keyframes rotateInDownRight {\\r\\n  from {\\r\\n    transform-origin: right bottom;\\r\\n    transform: rotate3d(0, 0, 1, 45deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: right bottom;\\r\\n    transform: none;\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateInDownRight {\\r\\n  animation-name: rotateInDownRight;\\r\\n}\\r\\n\\r\\n@keyframes rotateInUpLeft {\\r\\n  from {\\r\\n    transform-origin: left bottom;\\r\\n    transform: rotate3d(0, 0, 1, 45deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: left bottom;\\r\\n    transform: none;\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateInUpLeft {\\r\\n  animation-name: rotateInUpLeft;\\r\\n}\\r\\n\\r\\n@keyframes rotateInUpRight {\\r\\n  from {\\r\\n    transform-origin: right bottom;\\r\\n    transform: rotate3d(0, 0, 1, -90deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: right bottom;\\r\\n    transform: none;\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateInUpRight {\\r\\n  animation-name: rotateInUpRight;\\r\\n}\\r\\n\\r\\n@keyframes rotateOut {\\r\\n  from {\\r\\n    transform-origin: center;\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: center;\\r\\n    transform: rotate3d(0, 0, 1, 200deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateOut {\\r\\n  animation-name: rotateOut;\\r\\n}\\r\\n\\r\\n@keyframes rotateOutDownLeft {\\r\\n  from {\\r\\n    transform-origin: left bottom;\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: left bottom;\\r\\n    transform: rotate3d(0, 0, 1, 45deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateOutDownLeft {\\r\\n  animation-name: rotateOutDownLeft;\\r\\n}\\r\\n\\r\\n@keyframes rotateOutDownRight {\\r\\n  from {\\r\\n    transform-origin: right bottom;\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: right bottom;\\r\\n    transform: rotate3d(0, 0, 1, -45deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateOutDownRight {\\r\\n  animation-name: rotateOutDownRight;\\r\\n}\\r\\n\\r\\n@keyframes rotateOutUpLeft {\\r\\n  from {\\r\\n    transform-origin: left bottom;\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: left bottom;\\r\\n    transform: rotate3d(0, 0, 1, -45deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateOutUpLeft {\\r\\n  animation-name: rotateOutUpLeft;\\r\\n}\\r\\n\\r\\n@keyframes rotateOutUpRight {\\r\\n  from {\\r\\n    transform-origin: right bottom;\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform-origin: right bottom;\\r\\n    transform: rotate3d(0, 0, 1, 90deg);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rotateOutUpRight {\\r\\n  animation-name: rotateOutUpRight;\\r\\n}\\r\\n\\r\\n@keyframes hinge {\\r\\n  0% {\\r\\n    transform-origin: top left;\\r\\n    animation-timing-function: ease-in-out;\\r\\n  }\\r\\n\\r\\n  20%,\\r\\n  60% {\\r\\n    transform: rotate3d(0, 0, 1, 80deg);\\r\\n    transform-origin: top left;\\r\\n    animation-timing-function: ease-in-out;\\r\\n  }\\r\\n\\r\\n  40%,\\r\\n  80% {\\r\\n    transform: rotate3d(0, 0, 1, 60deg);\\r\\n    transform-origin: top left;\\r\\n    animation-timing-function: ease-in-out;\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(0, 700px, 0);\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.hinge {\\r\\n  animation-name: hinge;\\r\\n}\\r\\n\\r\\n@keyframes jackInTheBox {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: scale(0.1) rotate(30deg);\\r\\n    transform-origin: center bottom;\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    transform: rotate(-10deg);\\r\\n  }\\r\\n\\r\\n  70% {\\r\\n    transform: rotate(3deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: scale(1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.jackInTheBox {\\r\\n  animation-name: jackInTheBox;\\r\\n}\\r\\n\\r\\n/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\\r\\n\\r\\n@keyframes rollIn {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 1;\\r\\n    transform: none;\\r\\n  }\\r\\n}\\r\\n\\r\\n.rollIn {\\r\\n  animation-name: rollIn;\\r\\n}\\r\\n\\r\\n/* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\\r\\n\\r\\n@keyframes rollOut {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n.rollOut {\\r\\n  animation-name: rollOut;\\r\\n}\\r\\n\\r\\n@keyframes zoomIn {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.3, 0.3, 0.3);\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    opacity: 1;\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomIn {\\r\\n  animation-name: zoomIn;\\r\\n}\\r\\n\\r\\n@keyframes zoomInDown {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);\\r\\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);\\r\\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomInDown {\\r\\n  animation-name: zoomInDown;\\r\\n}\\r\\n\\r\\n@keyframes zoomInLeft {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);\\r\\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);\\r\\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomInLeft {\\r\\n  animation-name: zoomInLeft;\\r\\n}\\r\\n\\r\\n@keyframes zoomInRight {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);\\r\\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);\\r\\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomInRight {\\r\\n  animation-name: zoomInRight;\\r\\n}\\r\\n\\r\\n@keyframes zoomInUp {\\r\\n  from {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);\\r\\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\\r\\n  }\\r\\n\\r\\n  60% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);\\r\\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomInUp {\\r\\n  animation-name: zoomInUp;\\r\\n}\\r\\n\\r\\n@keyframes zoomOut {\\r\\n  from {\\r\\n    opacity: 1;\\r\\n  }\\r\\n\\r\\n  50% {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.3, 0.3, 0.3);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomOut {\\r\\n  animation-name: zoomOut;\\r\\n}\\r\\n\\r\\n@keyframes zoomOutDown {\\r\\n  40% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);\\r\\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);\\r\\n    transform-origin: center bottom;\\r\\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomOutDown {\\r\\n  animation-name: zoomOutDown;\\r\\n}\\r\\n\\r\\n@keyframes zoomOutLeft {\\r\\n  40% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: scale(0.1) translate3d(-2000px, 0, 0);\\r\\n    transform-origin: left center;\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomOutLeft {\\r\\n  animation-name: zoomOutLeft;\\r\\n}\\r\\n\\r\\n@keyframes zoomOutRight {\\r\\n  40% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: scale(0.1) translate3d(2000px, 0, 0);\\r\\n    transform-origin: right center;\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomOutRight {\\r\\n  animation-name: zoomOutRight;\\r\\n}\\r\\n\\r\\n@keyframes zoomOutUp {\\r\\n  40% {\\r\\n    opacity: 1;\\r\\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);\\r\\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    opacity: 0;\\r\\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);\\r\\n    transform-origin: center bottom;\\r\\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\\r\\n  }\\r\\n}\\r\\n\\r\\n.zoomOutUp {\\r\\n  animation-name: zoomOutUp;\\r\\n}\\r\\n\\r\\n@keyframes slideInDown {\\r\\n  from {\\r\\n    transform: translate3d(0, -100%, 0);\\r\\n    visibility: visible;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideInDown {\\r\\n  animation-name: slideInDown;\\r\\n}\\r\\n\\r\\n@keyframes slideInLeft {\\r\\n  from {\\r\\n    transform: translate3d(-100%, 0, 0);\\r\\n    visibility: visible;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideInLeft {\\r\\n  animation-name: slideInLeft;\\r\\n}\\r\\n\\r\\n@keyframes slideInRight {\\r\\n  from {\\r\\n    transform: translate3d(100%, 0, 0);\\r\\n    visibility: visible;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideInRight {\\r\\n  animation-name: slideInRight;\\r\\n}\\r\\n\\r\\n@keyframes slideInUp {\\r\\n  from {\\r\\n    transform: translate3d(0, 100%, 0);\\r\\n    visibility: visible;\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideInUp {\\r\\n  animation-name: slideInUp;\\r\\n}\\r\\n\\r\\n@keyframes slideOutDown {\\r\\n  from {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    visibility: hidden;\\r\\n    transform: translate3d(0, 100%, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideOutDown {\\r\\n  animation-name: slideOutDown;\\r\\n}\\r\\n\\r\\n@keyframes slideOutLeft {\\r\\n  from {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    visibility: hidden;\\r\\n    transform: translate3d(-100%, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideOutLeft {\\r\\n  animation-name: slideOutLeft;\\r\\n}\\r\\n\\r\\n@keyframes slideOutRight {\\r\\n  from {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    visibility: hidden;\\r\\n    transform: translate3d(100%, 0, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideOutRight {\\r\\n  animation-name: slideOutRight;\\r\\n}\\r\\n\\r\\n@keyframes slideOutUp {\\r\\n  from {\\r\\n    transform: translate3d(0, 0, 0);\\r\\n  }\\r\\n\\r\\n  to {\\r\\n    visibility: hidden;\\r\\n    transform: translate3d(0, -100%, 0);\\r\\n  }\\r\\n}\\r\\n\\r\\n.slideOutUp {\\r\\n  animation-name: slideOutUp;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tool-active {\\n  height: 100% !important;\\n  position: static !important;\\n  border-radius: 0px !important; }\\n\\n* {\\n  box-sizing: border-box; }\\n\\nhtml {\\n  height: 100%;\\n  overflow: hidden;\\n  box-sizing: border-box;\\n  font-size: 14px;\\n  user-select: none; }\\n\\nbody {\\n  background: #282828;\\n  box-sizing: border-box;\\n  font-family: sans-serif;\\n  font-size: 1rem;\\n  height: 100%;\\n  margin: 0;\\n  z-index: -1000;\\n  position: relative; }\\n\\nul {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none; }\\n\\nheader {\\n  margin: 0;\\n  background: #535353;\\n  z-index: 100; }\\n  header .header-options ul {\\n    height: 100%;\\n    background: #535353;\\n    border-bottom: 1px solid MINTCREAM;\\n    display: flex; }\\n    header .header-options ul li {\\n      color: white;\\n      position: relative; }\\n      header .header-options ul li div {\\n        height: 100%; }\\n      header .header-options ul li:hover .header-options-dropdown {\\n        display: block; }\\n      header .header-options ul li:hover .header-options-badge {\\n        color: black;\\n        cursor: pointer;\\n        background: MINTCREAM; }\\n        header .header-options ul li:hover .header-options-badge svg {\\n          transform: rotate(180deg); }\\n    header .header-options ul li:first-child {\\n      margin-left: 20px; }\\n  header .header-options-dropdown {\\n    border: 1px solid black;\\n    z-index: 100000;\\n    display: none;\\n    position: absolute;\\n    left: 0;\\n    top: 100%;\\n    background: #eee; }\\n    header .header-options-dropdown > div {\\n      cursor: pointer;\\n      text-align: center;\\n      font-size: .9rem;\\n      white-space: pre;\\n      color: #285473;\\n      text-decoration: none;\\n      background: #eee;\\n      padding: 8px 8px;\\n      display: block; }\\n      header .header-options-dropdown > div:hover {\\n        background: #e1e5eb; }\\n  header .header-options-badge {\\n    padding: 0px 10px;\\n    transition: .3s;\\n    display: flex;\\n    align-items: center; }\\n    header .header-options-badge svg {\\n      margin-left: 5px;\\n      transition: .2s transform; }\\n\\nheader .title-canvas-wrapper .active.title-canvas {\\n  background: MINTCREAM;\\n  color: black; }\\n  header .title-canvas-wrapper .active.title-canvas span {\\n    color: rgba(0, 0, 0, 0.6); }\\n\\n.drag-panel {\\n  border-radius: 5px 5px 0 0;\\n  width: 100%;\\n  height: 17px;\\n  line-height: 15px;\\n  background: #535353;\\n  display: flex;\\n  justify-content: flex-end;\\n  border-bottom: 1px solid MINTCREAM; }\\n  .drag-panel-item {\\n    transition: .4s;\\n    width: 18px;\\n    height: 100%;\\n    padding: 0px 3px;\\n    cursor: pointer; }\\n    .drag-panel-item:hover {\\n      border-left: 1px solid MINTCREAM;\\n      border-right: 1px solid MINTCREAM; }\\n  .drag-panel-close {\\n    position: relative; }\\n    .drag-panel-close::before, .drag-panel-close::after {\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      content: '';\\n      width: 11px;\\n      height: 2px;\\n      background: MINTCREAM;\\n      transform: translate(-50%, -50%) rotate(45deg); }\\n    .drag-panel-close::after {\\n      transform: translate(-50%, -50%) rotate(-45deg); }\\n  .drag-panel-arrow {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    transform: rotate(180deg); }\\n  .drag-panel-arrow-active {\\n    transform: rotate(0deg); }\\n\\n.drag-place {\\n  cursor: move;\\n  width: 100%;\\n  height: 25px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center; }\\n\\n.tools-wrapper {\\n  box-shadow: 0 0px 14px 2px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);\\n  position: absolute;\\n  z-index: 1000;\\n  background: #535353;\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  align-content: flex-start;\\n  width: 40px;\\n  left: 100px;\\n  top: 100px;\\n  border-radius: 5px;\\n  transition: width .4s; }\\n  .tools-wrapper div.tool-item {\\n    padding: 5px;\\n    width: 34px;\\n    height: 34px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    cursor: pointer; }\\n  .tools-wrapper div.tool-item:hover {\\n    background: #777; }\\n  .tools-wrapper div.tool-item.active {\\n    background: #777; }\\n\\n.main-wrapper {\\n  position: relative;\\n  display: flex; }\\n  .main-wrapper .main-wrapper-canvas {\\n    width: 100%;\\n    height: 100%;\\n    display: flex;\\n    flex-direction: column;\\n    position: relative;\\n    visibility: hidden; }\\n    .main-wrapper .main-wrapper-canvas .title-file-wrapper {\\n      font-size: 1.2rem;\\n      line-height: 25px;\\n      background: #424242;\\n      border-bottom: 1px solid MINTCREAM; }\\n      .main-wrapper .main-wrapper-canvas .title-file-wrapper .title-file {\\n        height: 100%;\\n        padding: 0px 8px 0px 8px;\\n        transition: .3s;\\n        color: white;\\n        display: inline-block;\\n        cursor: pointer; }\\n        .main-wrapper .main-wrapper-canvas .title-file-wrapper .title-file span {\\n          color: rgba(255, 255, 255, 0.6);\\n          margin-left: 5px; }\\n        .main-wrapper .main-wrapper-canvas .title-file-wrapper .title-file:hover {\\n          background: MINTCREAM;\\n          color: black; }\\n          .main-wrapper .main-wrapper-canvas .title-file-wrapper .title-file:hover span {\\n            color: rgba(0, 0, 0, 0.6); }\\n      .main-wrapper .main-wrapper-canvas .title-file-wrapper .title-file.active {\\n        background: MINTCREAM;\\n        color: black; }\\n        .main-wrapper .main-wrapper-canvas .title-file-wrapper .title-file.active span {\\n          color: rgba(0, 0, 0, 0.6); }\\n    .main-wrapper .main-wrapper-canvas .work-wrapper {\\n      flex: 1;\\n      position: relative;\\n      overflow: scroll; }\\n      .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper.active {\\n        display: inline-block; }\\n      .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper {\\n        display: none;\\n        position: absolute; }\\n        .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper .canvas-wrapper {\\n          zoom: 1;\\n          display: block; }\\n          .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper .canvas-wrapper textarea {\\n            position: absolute;\\n            font-size: 22px;\\n            font-weight: 400;\\n            border: 1px dashed black; }\\n            .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper .canvas-wrapper textarea:focus {\\n              outline: none; }\\n          .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper .canvas-wrapper .first-canvas {\\n            display: block; }\\n          .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper .canvas-wrapper .canvas {\\n            display: block;\\n            position: absolute; }\\n          .main-wrapper .main-wrapper-canvas .work-wrapper .zoom-wrapper .canvas-wrapper canvas {\\n            position: absolute;\\n            left: 0;\\n            top: 0; }\\n    .main-wrapper .main-wrapper-canvas .coords-x-wrapper, .main-wrapper .main-wrapper-canvas .coords-y-wrapper {\\n      font-size: .7rem;\\n      line-height: 30px;\\n      display: flex;\\n      color: white;\\n      position: absolute;\\n      left: 0;\\n      top: 0;\\n      z-index: 20;\\n      height: 20px;\\n      width: 100%;\\n      background: #474747;\\n      color: #ccc; }\\n      .main-wrapper .main-wrapper-canvas .coords-x-wrapper .coords-x, .main-wrapper .main-wrapper-canvas .coords-y-wrapper .coords-x {\\n        width: calc(100% - 20px);\\n        display: flex; }\\n        .main-wrapper .main-wrapper-canvas .coords-x-wrapper .coords-x div, .main-wrapper .main-wrapper-canvas .coords-y-wrapper .coords-x div {\\n          flex-shrink: 0;\\n          height: 20px;\\n          text-indent: 2px;\\n          box-sizing: border-box;\\n          border-left: 1px solid #888; }\\n    .main-wrapper .main-wrapper-canvas .coords-y-wrapper {\\n      line-height: inherit;\\n      position: absolute;\\n      z-index: 10;\\n      flex-direction: column;\\n      left: 0;\\n      top: 0;\\n      height: 100%;\\n      width: 20px; }\\n      .main-wrapper .main-wrapper-canvas .coords-y-wrapper .coords-y div {\\n        flex-shrink: 0;\\n        white-space: pre-wrap;\\n        text-align: center;\\n        box-sizing: border-box;\\n        border-top: 1px solid #888;\\n        width: 20px; }\\n  .main-wrapper .casing {\\n    z-index: 10000;\\n    position: absolute; }\\n    .main-wrapper .casing-left {\\n      left: 0;\\n      top: 0;\\n      width: 10px;\\n      height: 100%;\\n      background: rgba(0, 0, 0, 0.35); }\\n    .main-wrapper .casing-right {\\n      right: 0;\\n      top: 0;\\n      width: 10px;\\n      height: 100%;\\n      background: rgba(0, 0, 0, 0.35); }\\n\\n.close-wrapper {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  height: 35px;\\n  background: #fff; }\\n  .close-wrapper .close {\\n    transition: .3s;\\n    position: absolute;\\n    padding: 0;\\n    background: transparent;\\n    border: none;\\n    right: 0;\\n    top: 0;\\n    margin: auto;\\n    bottom: 0;\\n    width: 35px;\\n    height: 35px; }\\n    .close-wrapper .close:focus {\\n      outline: none; }\\n    .close-wrapper .close:hover {\\n      background: CRIMSON;\\n      cursor: pointer; }\\n      .close-wrapper .close:hover::before, .close-wrapper .close:hover::after {\\n        background: white; }\\n    .close-wrapper .close::before, .close-wrapper .close::after {\\n      transition: .3s;\\n      position: absolute;\\n      left: 50%;\\n      top: 50%;\\n      content: '';\\n      display: block;\\n      width: 75%;\\n      height: 2px;\\n      background: #34495E;\\n      transform: translate(-50%, -50%) rotate(45deg); }\\n    .close-wrapper .close::after {\\n      transform: translate(-50%, -50%) rotate(-45deg); }\\n\\n.apply {\\n  position: absolute;\\n  right: 40px;\\n  bottom: 25px;\\n  height: 35px;\\n  transition: .3s;\\n  font-size: 22px;\\n  padding: 5px;\\n  border: none;\\n  border-radius: 3px;\\n  color: white;\\n  background: #535353; }\\n  .apply:active {\\n    transform: scale(0.95); }\\n  .apply:focus {\\n    outline: none; }\\n  .apply:hover {\\n    background: #3a3a3a;\\n    cursor: pointer; }\\n\\n.header-settings-window-size, .header-settings-new-file {\\n  z-index: 10000;\\n  box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.3);\\n  border: 1px solid blue;\\n  font-size: 25px;\\n  border-radius: 3px;\\n  display: none;\\n  background: #282828;\\n  position: fixed;\\n  padding: 75px 40px; }\\n  .header-settings-window-size .input-wrapper, .header-settings-new-file .input-wrapper {\\n    display: flex;\\n    margin-bottom: 15px;\\n    justify-content: space-between; }\\n    .header-settings-window-size .input-wrapper input, .header-settings-new-file .input-wrapper input {\\n      display: block;\\n      padding: 5px;\\n      border-radius: 3px;\\n      border: none; }\\n      .header-settings-window-size .input-wrapper input:focus, .header-settings-new-file .input-wrapper input:focus {\\n        outline: none; }\\n    .header-settings-window-size .input-wrapper label, .header-settings-new-file .input-wrapper label {\\n      margin-right: 10px;\\n      display: block;\\n      color: white; }\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","var fabric = fabric || {\n    version: \"2.2.3\"\n};\n\nif (typeof exports !== \"undefined\") {\n    exports.fabric = fabric;\n} else if (typeof define === \"function\" && define.amd) {\n    define([], function() {\n        return fabric;\n    });\n}\n\nif (typeof document !== \"undefined\" && typeof window !== \"undefined\") {\n    fabric.document = document;\n    fabric.window = window;\n} else {\n    fabric.document = require(\"jsdom\").jsdom(decodeURIComponent(\"%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E\"), {\n        features: {\n            FetchExternalResources: [ \"img\" ]\n        }\n    });\n    fabric.jsdomImplForWrapper = require(\"jsdom/lib/jsdom/living/generated/utils\").implForWrapper;\n    fabric.nodeCanvas = require(\"jsdom/lib/jsdom/utils\").Canvas;\n    fabric.window = fabric.document.defaultView;\n    DOMParser = require(\"xmldom\").DOMParser;\n}\n\nfabric.isTouchSupported = \"ontouchstart\" in fabric.window;\n\nfabric.isLikelyNode = typeof Buffer !== \"undefined\" && typeof window === \"undefined\";\n\nfabric.SHARED_ATTRIBUTES = [ \"display\", \"transform\", \"fill\", \"fill-opacity\", \"fill-rule\", \"opacity\", \"stroke\", \"stroke-dasharray\", \"stroke-linecap\", \"stroke-linejoin\", \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"id\", \"paint-order\", \"instantiated_by_use\" ];\n\nfabric.DPI = 96;\n\nfabric.reNum = \"(?:[-+]?(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:e[-+]?\\\\d+)?)\";\n\nfabric.fontPaths = {};\n\nfabric.iMatrix = [ 1, 0, 0, 1, 0, 0 ];\n\nfabric.canvasModule = \"canvas\";\n\nfabric.perfLimitSizeTotal = 2097152;\n\nfabric.maxCacheSideLimit = 4096;\n\nfabric.minCacheSideLimit = 256;\n\nfabric.charWidthsCache = {};\n\nfabric.textureSize = 2048;\n\nfabric.enableGLFiltering = true;\n\nfabric.devicePixelRatio = fabric.window.devicePixelRatio || fabric.window.webkitDevicePixelRatio || fabric.window.mozDevicePixelRatio || 1;\n\nfabric.browserShadowBlurConstant = 1;\n\nfabric.initFilterBackend = function() {\n    if (fabric.enableGLFiltering && fabric.isWebglSupported && fabric.isWebglSupported(fabric.textureSize)) {\n        console.log(\"max texture size: \" + fabric.maxTextureSize);\n        return new fabric.WebglFilterBackend({\n            tileSize: fabric.textureSize\n        });\n    } else if (fabric.Canvas2dFilterBackend) {\n        return new fabric.Canvas2dFilterBackend();\n    }\n};\n\nif (typeof document !== \"undefined\" && typeof window !== \"undefined\") {\n    window.fabric = fabric;\n}\n\n(function() {\n    function _removeEventListener(eventName, handler) {\n        if (!this.__eventListeners[eventName]) {\n            return;\n        }\n        var eventListener = this.__eventListeners[eventName];\n        if (handler) {\n            eventListener[eventListener.indexOf(handler)] = false;\n        } else {\n            fabric.util.array.fill(eventListener, false);\n        }\n    }\n    function observe(eventName, handler) {\n        if (!this.__eventListeners) {\n            this.__eventListeners = {};\n        }\n        if (arguments.length === 1) {\n            for (var prop in eventName) {\n                this.on(prop, eventName[prop]);\n            }\n        } else {\n            if (!this.__eventListeners[eventName]) {\n                this.__eventListeners[eventName] = [];\n            }\n            this.__eventListeners[eventName].push(handler);\n        }\n        return this;\n    }\n    function stopObserving(eventName, handler) {\n        if (!this.__eventListeners) {\n            return;\n        }\n        if (arguments.length === 0) {\n            for (eventName in this.__eventListeners) {\n                _removeEventListener.call(this, eventName);\n            }\n        } else if (arguments.length === 1 && typeof arguments[0] === \"object\") {\n            for (var prop in eventName) {\n                _removeEventListener.call(this, prop, eventName[prop]);\n            }\n        } else {\n            _removeEventListener.call(this, eventName, handler);\n        }\n        return this;\n    }\n    function fire(eventName, options) {\n        if (!this.__eventListeners) {\n            return;\n        }\n        var listenersForEvent = this.__eventListeners[eventName];\n        if (!listenersForEvent) {\n            return;\n        }\n        for (var i = 0, len = listenersForEvent.length; i < len; i++) {\n            listenersForEvent[i] && listenersForEvent[i].call(this, options || {});\n        }\n        this.__eventListeners[eventName] = listenersForEvent.filter(function(value) {\n            return value !== false;\n        });\n        return this;\n    }\n    fabric.Observable = {\n        observe: observe,\n        stopObserving: stopObserving,\n        fire: fire,\n        on: observe,\n        off: stopObserving,\n        trigger: fire\n    };\n})();\n\nfabric.Collection = {\n    _objects: [],\n    add: function() {\n        this._objects.push.apply(this._objects, arguments);\n        if (this._onObjectAdded) {\n            for (var i = 0, length = arguments.length; i < length; i++) {\n                this._onObjectAdded(arguments[i]);\n            }\n        }\n        this.renderOnAddRemove && this.requestRenderAll();\n        return this;\n    },\n    insertAt: function(object, index, nonSplicing) {\n        var objects = this.getObjects();\n        if (nonSplicing) {\n            objects[index] = object;\n        } else {\n            objects.splice(index, 0, object);\n        }\n        this._onObjectAdded && this._onObjectAdded(object);\n        this.renderOnAddRemove && this.requestRenderAll();\n        return this;\n    },\n    remove: function() {\n        var objects = this.getObjects(), index, somethingRemoved = false;\n        for (var i = 0, length = arguments.length; i < length; i++) {\n            index = objects.indexOf(arguments[i]);\n            if (index !== -1) {\n                somethingRemoved = true;\n                objects.splice(index, 1);\n                this._onObjectRemoved && this._onObjectRemoved(arguments[i]);\n            }\n        }\n        this.renderOnAddRemove && somethingRemoved && this.requestRenderAll();\n        return this;\n    },\n    forEachObject: function(callback, context) {\n        var objects = this.getObjects();\n        for (var i = 0, len = objects.length; i < len; i++) {\n            callback.call(context, objects[i], i, objects);\n        }\n        return this;\n    },\n    getObjects: function(type) {\n        if (typeof type === \"undefined\") {\n            return this._objects;\n        }\n        return this._objects.filter(function(o) {\n            return o.type === type;\n        });\n    },\n    item: function(index) {\n        return this.getObjects()[index];\n    },\n    isEmpty: function() {\n        return this.getObjects().length === 0;\n    },\n    size: function() {\n        return this.getObjects().length;\n    },\n    contains: function(object) {\n        return this.getObjects().indexOf(object) > -1;\n    },\n    complexity: function() {\n        return this.getObjects().reduce(function(memo, current) {\n            memo += current.complexity ? current.complexity() : 0;\n            return memo;\n        }, 0);\n    }\n};\n\nfabric.CommonMethods = {\n    _setOptions: function(options) {\n        for (var prop in options) {\n            this.set(prop, options[prop]);\n        }\n    },\n    _initGradient: function(filler, property) {\n        if (filler && filler.colorStops && !(filler instanceof fabric.Gradient)) {\n            this.set(property, new fabric.Gradient(filler));\n        }\n    },\n    _initPattern: function(filler, property, callback) {\n        if (filler && filler.source && !(filler instanceof fabric.Pattern)) {\n            this.set(property, new fabric.Pattern(filler, callback));\n        } else {\n            callback && callback();\n        }\n    },\n    _initClipping: function(options) {\n        if (!options.clipTo || typeof options.clipTo !== \"string\") {\n            return;\n        }\n        var functionBody = fabric.util.getFunctionBody(options.clipTo);\n        if (typeof functionBody !== \"undefined\") {\n            this.clipTo = new Function(\"ctx\", functionBody);\n        }\n    },\n    _setObject: function(obj) {\n        for (var prop in obj) {\n            this._set(prop, obj[prop]);\n        }\n    },\n    set: function(key, value) {\n        if (typeof key === \"object\") {\n            this._setObject(key);\n        } else {\n            if (typeof value === \"function\" && key !== \"clipTo\") {\n                this._set(key, value(this.get(key)));\n            } else {\n                this._set(key, value);\n            }\n        }\n        return this;\n    },\n    _set: function(key, value) {\n        this[key] = value;\n    },\n    toggle: function(property) {\n        var value = this.get(property);\n        if (typeof value === \"boolean\") {\n            this.set(property, !value);\n        }\n        return this;\n    },\n    get: function(property) {\n        return this[property];\n    }\n};\n\n(function(global) {\n    var sqrt = Math.sqrt, atan2 = Math.atan2, pow = Math.pow, abs = Math.abs, PiBy180 = Math.PI / 180, PiBy2 = Math.PI / 2;\n    fabric.util = {\n        cos: function(angle) {\n            if (angle === 0) {\n                return 1;\n            }\n            if (angle < 0) {\n                angle = -angle;\n            }\n            var angleSlice = angle / PiBy2;\n            switch (angleSlice) {\n              case 1:\n              case 3:\n                return 0;\n\n              case 2:\n                return -1;\n            }\n            return Math.cos(angle);\n        },\n        sin: function(angle) {\n            if (angle === 0) {\n                return 0;\n            }\n            var angleSlice = angle / PiBy2, sign = 1;\n            if (angle < 0) {\n                sign = -1;\n            }\n            switch (angleSlice) {\n              case 1:\n                return sign;\n\n              case 2:\n                return 0;\n\n              case 3:\n                return -sign;\n            }\n            return Math.sin(angle);\n        },\n        removeFromArray: function(array, value) {\n            var idx = array.indexOf(value);\n            if (idx !== -1) {\n                array.splice(idx, 1);\n            }\n            return array;\n        },\n        getRandomInt: function(min, max) {\n            return Math.floor(Math.random() * (max - min + 1)) + min;\n        },\n        degreesToRadians: function(degrees) {\n            return degrees * PiBy180;\n        },\n        radiansToDegrees: function(radians) {\n            return radians / PiBy180;\n        },\n        rotatePoint: function(point, origin, radians) {\n            point.subtractEquals(origin);\n            var v = fabric.util.rotateVector(point, radians);\n            return new fabric.Point(v.x, v.y).addEquals(origin);\n        },\n        rotateVector: function(vector, radians) {\n            var sin = fabric.util.sin(radians), cos = fabric.util.cos(radians), rx = vector.x * cos - vector.y * sin, ry = vector.x * sin + vector.y * cos;\n            return {\n                x: rx,\n                y: ry\n            };\n        },\n        transformPoint: function(p, t, ignoreOffset) {\n            if (ignoreOffset) {\n                return new fabric.Point(t[0] * p.x + t[2] * p.y, t[1] * p.x + t[3] * p.y);\n            }\n            return new fabric.Point(t[0] * p.x + t[2] * p.y + t[4], t[1] * p.x + t[3] * p.y + t[5]);\n        },\n        makeBoundingBoxFromPoints: function(points) {\n            var xPoints = [ points[0].x, points[1].x, points[2].x, points[3].x ], minX = fabric.util.array.min(xPoints), maxX = fabric.util.array.max(xPoints), width = maxX - minX, yPoints = [ points[0].y, points[1].y, points[2].y, points[3].y ], minY = fabric.util.array.min(yPoints), maxY = fabric.util.array.max(yPoints), height = maxY - minY;\n            return {\n                left: minX,\n                top: minY,\n                width: width,\n                height: height\n            };\n        },\n        invertTransform: function(t) {\n            var a = 1 / (t[0] * t[3] - t[1] * t[2]), r = [ a * t[3], -a * t[1], -a * t[2], a * t[0] ], o = fabric.util.transformPoint({\n                x: t[4],\n                y: t[5]\n            }, r, true);\n            r[4] = -o.x;\n            r[5] = -o.y;\n            return r;\n        },\n        toFixed: function(number, fractionDigits) {\n            return parseFloat(Number(number).toFixed(fractionDigits));\n        },\n        parseUnit: function(value, fontSize) {\n            var unit = /\\D{0,2}$/.exec(value), number = parseFloat(value);\n            if (!fontSize) {\n                fontSize = fabric.Text.DEFAULT_SVG_FONT_SIZE;\n            }\n            switch (unit[0]) {\n              case \"mm\":\n                return number * fabric.DPI / 25.4;\n\n              case \"cm\":\n                return number * fabric.DPI / 2.54;\n\n              case \"in\":\n                return number * fabric.DPI;\n\n              case \"pt\":\n                return number * fabric.DPI / 72;\n\n              case \"pc\":\n                return number * fabric.DPI / 72 * 12;\n\n              case \"em\":\n                return number * fontSize;\n\n              default:\n                return number;\n            }\n        },\n        falseFunction: function() {\n            return false;\n        },\n        getKlass: function(type, namespace) {\n            type = fabric.util.string.camelize(type.charAt(0).toUpperCase() + type.slice(1));\n            return fabric.util.resolveNamespace(namespace)[type];\n        },\n        getSvgAttributes: function(type) {\n            var attributes = [ \"instantiated_by_use\", \"style\", \"id\", \"class\" ];\n            switch (type) {\n              case \"linearGradient\":\n                attributes = attributes.concat([ \"x1\", \"y1\", \"x2\", \"y2\", \"gradientUnits\", \"gradientTransform\" ]);\n                break;\n\n              case \"radialGradient\":\n                attributes = attributes.concat([ \"gradientUnits\", \"gradientTransform\", \"cx\", \"cy\", \"r\", \"fx\", \"fy\", \"fr\" ]);\n                break;\n\n              case \"stop\":\n                attributes = attributes.concat([ \"offset\", \"stop-color\", \"stop-opacity\" ]);\n                break;\n            }\n            return attributes;\n        },\n        resolveNamespace: function(namespace) {\n            if (!namespace) {\n                return fabric;\n            }\n            var parts = namespace.split(\".\"), len = parts.length, i, obj = global || fabric.window;\n            for (i = 0; i < len; ++i) {\n                obj = obj[parts[i]];\n            }\n            return obj;\n        },\n        loadImage: function(url, callback, context, crossOrigin) {\n            if (!url) {\n                callback && callback.call(context, url);\n                return;\n            }\n            var img = fabric.util.createImage();\n            var onLoadCallback = function() {\n                callback && callback.call(context, img);\n                img = img.onload = img.onerror = null;\n            };\n            img.onload = onLoadCallback;\n            img.onerror = function() {\n                fabric.log(\"Error loading \" + img.src);\n                callback && callback.call(context, null, true);\n                img = img.onload = img.onerror = null;\n            };\n            if (url.indexOf(\"data\") !== 0 && crossOrigin) {\n                img.crossOrigin = crossOrigin;\n            }\n            if (url.substring(0, 14) === \"data:image/svg\") {\n                img.onload = null;\n                fabric.util.loadImageInDom(img, onLoadCallback);\n            }\n            img.src = url;\n        },\n        loadImageInDom: function(img, onLoadCallback) {\n            var div = fabric.document.createElement(\"div\");\n            div.style.width = div.style.height = \"1px\";\n            div.style.left = div.style.top = \"-100%\";\n            div.style.position = \"absolute\";\n            div.appendChild(img);\n            fabric.document.querySelector(\"body\").appendChild(div);\n            img.onload = function() {\n                onLoadCallback();\n                div.parentNode.removeChild(div);\n                div = null;\n            };\n        },\n        enlivenObjects: function(objects, callback, namespace, reviver) {\n            objects = objects || [];\n            function onLoaded() {\n                if (++numLoadedObjects === numTotalObjects) {\n                    callback && callback(enlivenedObjects);\n                }\n            }\n            var enlivenedObjects = [], numLoadedObjects = 0, numTotalObjects = objects.length;\n            if (!numTotalObjects) {\n                callback && callback(enlivenedObjects);\n                return;\n            }\n            objects.forEach(function(o, index) {\n                if (!o || !o.type) {\n                    onLoaded();\n                    return;\n                }\n                var klass = fabric.util.getKlass(o.type, namespace);\n                klass.fromObject(o, function(obj, error) {\n                    error || (enlivenedObjects[index] = obj);\n                    reviver && reviver(o, obj, error);\n                    onLoaded();\n                });\n            });\n        },\n        enlivenPatterns: function(patterns, callback) {\n            patterns = patterns || [];\n            function onLoaded() {\n                if (++numLoadedPatterns === numPatterns) {\n                    callback && callback(enlivenedPatterns);\n                }\n            }\n            var enlivenedPatterns = [], numLoadedPatterns = 0, numPatterns = patterns.length;\n            if (!numPatterns) {\n                callback && callback(enlivenedPatterns);\n                return;\n            }\n            patterns.forEach(function(p, index) {\n                if (p && p.source) {\n                    new fabric.Pattern(p, function(pattern) {\n                        enlivenedPatterns[index] = pattern;\n                        onLoaded();\n                    });\n                } else {\n                    enlivenedPatterns[index] = p;\n                    onLoaded();\n                }\n            });\n        },\n        groupSVGElements: function(elements, options, path) {\n            var object;\n            if (elements.length === 1) {\n                return elements[0];\n            }\n            if (options) {\n                if (options.width && options.height) {\n                    options.centerPoint = {\n                        x: options.width / 2,\n                        y: options.height / 2\n                    };\n                } else {\n                    delete options.width;\n                    delete options.height;\n                }\n            }\n            object = new fabric.Group(elements, options);\n            if (typeof path !== \"undefined\") {\n                object.sourcePath = path;\n            }\n            return object;\n        },\n        populateWithProperties: function(source, destination, properties) {\n            if (properties && Object.prototype.toString.call(properties) === \"[object Array]\") {\n                for (var i = 0, len = properties.length; i < len; i++) {\n                    if (properties[i] in source) {\n                        destination[properties[i]] = source[properties[i]];\n                    }\n                }\n            }\n        },\n        drawDashedLine: function(ctx, x, y, x2, y2, da) {\n            var dx = x2 - x, dy = y2 - y, len = sqrt(dx * dx + dy * dy), rot = atan2(dy, dx), dc = da.length, di = 0, draw = true;\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.moveTo(0, 0);\n            ctx.rotate(rot);\n            x = 0;\n            while (len > x) {\n                x += da[di++ % dc];\n                if (x > len) {\n                    x = len;\n                }\n                ctx[draw ? \"lineTo\" : \"moveTo\"](x, 0);\n                draw = !draw;\n            }\n            ctx.restore();\n        },\n        createCanvasElement: function() {\n            return fabric.document.createElement(\"canvas\");\n        },\n        createImage: function() {\n            return fabric.document.createElement(\"img\");\n        },\n        clipContext: function(receiver, ctx) {\n            ctx.save();\n            ctx.beginPath();\n            receiver.clipTo(ctx);\n            ctx.clip();\n        },\n        multiplyTransformMatrices: function(a, b, is2x2) {\n            return [ a[0] * b[0] + a[2] * b[1], a[1] * b[0] + a[3] * b[1], a[0] * b[2] + a[2] * b[3], a[1] * b[2] + a[3] * b[3], is2x2 ? 0 : a[0] * b[4] + a[2] * b[5] + a[4], is2x2 ? 0 : a[1] * b[4] + a[3] * b[5] + a[5] ];\n        },\n        qrDecompose: function(a) {\n            var angle = atan2(a[1], a[0]), denom = pow(a[0], 2) + pow(a[1], 2), scaleX = sqrt(denom), scaleY = (a[0] * a[3] - a[2] * a[1]) / scaleX, skewX = atan2(a[0] * a[2] + a[1] * a[3], denom);\n            return {\n                angle: angle / PiBy180,\n                scaleX: scaleX,\n                scaleY: scaleY,\n                skewX: skewX / PiBy180,\n                skewY: 0,\n                translateX: a[4],\n                translateY: a[5]\n            };\n        },\n        customTransformMatrix: function(scaleX, scaleY, skewX) {\n            var skewMatrixX = [ 1, 0, abs(Math.tan(skewX * PiBy180)), 1 ], scaleMatrix = [ abs(scaleX), 0, 0, abs(scaleY) ];\n            return fabric.util.multiplyTransformMatrices(scaleMatrix, skewMatrixX, true);\n        },\n        resetObjectTransform: function(target) {\n            target.scaleX = 1;\n            target.scaleY = 1;\n            target.skewX = 0;\n            target.skewY = 0;\n            target.flipX = false;\n            target.flipY = false;\n            target.rotate(0);\n        },\n        getFunctionBody: function(fn) {\n            return (String(fn).match(/function[^{]*\\{([\\s\\S]*)\\}/) || {})[1];\n        },\n        isTransparent: function(ctx, x, y, tolerance) {\n            if (tolerance > 0) {\n                if (x > tolerance) {\n                    x -= tolerance;\n                } else {\n                    x = 0;\n                }\n                if (y > tolerance) {\n                    y -= tolerance;\n                } else {\n                    y = 0;\n                }\n            }\n            var _isTransparent = true, i, temp, imageData = ctx.getImageData(x, y, tolerance * 2 || 1, tolerance * 2 || 1), l = imageData.data.length;\n            for (i = 3; i < l; i += 4) {\n                temp = imageData.data[i];\n                _isTransparent = temp <= 0;\n                if (_isTransparent === false) {\n                    break;\n                }\n            }\n            imageData = null;\n            return _isTransparent;\n        },\n        parsePreserveAspectRatioAttribute: function(attribute) {\n            var meetOrSlice = \"meet\", alignX = \"Mid\", alignY = \"Mid\", aspectRatioAttrs = attribute.split(\" \"), align;\n            if (aspectRatioAttrs && aspectRatioAttrs.length) {\n                meetOrSlice = aspectRatioAttrs.pop();\n                if (meetOrSlice !== \"meet\" && meetOrSlice !== \"slice\") {\n                    align = meetOrSlice;\n                    meetOrSlice = \"meet\";\n                } else if (aspectRatioAttrs.length) {\n                    align = aspectRatioAttrs.pop();\n                }\n            }\n            alignX = align !== \"none\" ? align.slice(1, 4) : \"none\";\n            alignY = align !== \"none\" ? align.slice(5, 8) : \"none\";\n            return {\n                meetOrSlice: meetOrSlice,\n                alignX: alignX,\n                alignY: alignY\n            };\n        },\n        clearFabricFontCache: function(fontFamily) {\n            if (!fontFamily) {\n                fabric.charWidthsCache = {};\n            } else if (fabric.charWidthsCache[fontFamily]) {\n                delete fabric.charWidthsCache[fontFamily];\n            }\n        },\n        limitDimsByArea: function(ar, maximumArea) {\n            var roughWidth = Math.sqrt(maximumArea * ar), perfLimitSizeY = Math.floor(maximumArea / roughWidth);\n            return {\n                x: Math.floor(roughWidth),\n                y: perfLimitSizeY\n            };\n        },\n        capValue: function(min, value, max) {\n            return Math.max(min, Math.min(value, max));\n        },\n        findScaleToFit: function(source, destination) {\n            return Math.min(destination.width / source.width, destination.height / source.height);\n        },\n        findScaleToCover: function(source, destination) {\n            return Math.max(destination.width / source.width, destination.height / source.height);\n        }\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function() {\n    var arcToSegmentsCache = {}, segmentToBezierCache = {}, boundsOfCurveCache = {}, _join = Array.prototype.join;\n    function arcToSegments(toX, toY, rx, ry, large, sweep, rotateX) {\n        var argsString = _join.call(arguments);\n        if (arcToSegmentsCache[argsString]) {\n            return arcToSegmentsCache[argsString];\n        }\n        var PI = Math.PI, th = rotateX * PI / 180, sinTh = fabric.util.sin(th), cosTh = fabric.util.cos(th), fromX = 0, fromY = 0;\n        rx = Math.abs(rx);\n        ry = Math.abs(ry);\n        var px = -cosTh * toX * .5 - sinTh * toY * .5, py = -cosTh * toY * .5 + sinTh * toX * .5, rx2 = rx * rx, ry2 = ry * ry, py2 = py * py, px2 = px * px, pl = rx2 * ry2 - rx2 * py2 - ry2 * px2, root = 0;\n        if (pl < 0) {\n            var s = Math.sqrt(1 - pl / (rx2 * ry2));\n            rx *= s;\n            ry *= s;\n        } else {\n            root = (large === sweep ? -1 : 1) * Math.sqrt(pl / (rx2 * py2 + ry2 * px2));\n        }\n        var cx = root * rx * py / ry, cy = -root * ry * px / rx, cx1 = cosTh * cx - sinTh * cy + toX * .5, cy1 = sinTh * cx + cosTh * cy + toY * .5, mTheta = calcVectorAngle(1, 0, (px - cx) / rx, (py - cy) / ry), dtheta = calcVectorAngle((px - cx) / rx, (py - cy) / ry, (-px - cx) / rx, (-py - cy) / ry);\n        if (sweep === 0 && dtheta > 0) {\n            dtheta -= 2 * PI;\n        } else if (sweep === 1 && dtheta < 0) {\n            dtheta += 2 * PI;\n        }\n        var segments = Math.ceil(Math.abs(dtheta / PI * 2)), result = [], mDelta = dtheta / segments, mT = 8 / 3 * Math.sin(mDelta / 4) * Math.sin(mDelta / 4) / Math.sin(mDelta / 2), th3 = mTheta + mDelta;\n        for (var i = 0; i < segments; i++) {\n            result[i] = segmentToBezier(mTheta, th3, cosTh, sinTh, rx, ry, cx1, cy1, mT, fromX, fromY);\n            fromX = result[i][4];\n            fromY = result[i][5];\n            mTheta = th3;\n            th3 += mDelta;\n        }\n        arcToSegmentsCache[argsString] = result;\n        return result;\n    }\n    function segmentToBezier(th2, th3, cosTh, sinTh, rx, ry, cx1, cy1, mT, fromX, fromY) {\n        var argsString2 = _join.call(arguments);\n        if (segmentToBezierCache[argsString2]) {\n            return segmentToBezierCache[argsString2];\n        }\n        var costh2 = fabric.util.cos(th2), sinth2 = fabric.util.sin(th2), costh3 = fabric.util.cos(th3), sinth3 = fabric.util.sin(th3), toX = cosTh * rx * costh3 - sinTh * ry * sinth3 + cx1, toY = sinTh * rx * costh3 + cosTh * ry * sinth3 + cy1, cp1X = fromX + mT * (-cosTh * rx * sinth2 - sinTh * ry * costh2), cp1Y = fromY + mT * (-sinTh * rx * sinth2 + cosTh * ry * costh2), cp2X = toX + mT * (cosTh * rx * sinth3 + sinTh * ry * costh3), cp2Y = toY + mT * (sinTh * rx * sinth3 - cosTh * ry * costh3);\n        segmentToBezierCache[argsString2] = [ cp1X, cp1Y, cp2X, cp2Y, toX, toY ];\n        return segmentToBezierCache[argsString2];\n    }\n    function calcVectorAngle(ux, uy, vx, vy) {\n        var ta = Math.atan2(uy, ux), tb = Math.atan2(vy, vx);\n        if (tb >= ta) {\n            return tb - ta;\n        } else {\n            return 2 * Math.PI - (ta - tb);\n        }\n    }\n    fabric.util.drawArc = function(ctx, fx, fy, coords) {\n        var rx = coords[0], ry = coords[1], rot = coords[2], large = coords[3], sweep = coords[4], tx = coords[5], ty = coords[6], segs = [ [], [], [], [] ], segsNorm = arcToSegments(tx - fx, ty - fy, rx, ry, large, sweep, rot);\n        for (var i = 0, len = segsNorm.length; i < len; i++) {\n            segs[i][0] = segsNorm[i][0] + fx;\n            segs[i][1] = segsNorm[i][1] + fy;\n            segs[i][2] = segsNorm[i][2] + fx;\n            segs[i][3] = segsNorm[i][3] + fy;\n            segs[i][4] = segsNorm[i][4] + fx;\n            segs[i][5] = segsNorm[i][5] + fy;\n            ctx.bezierCurveTo.apply(ctx, segs[i]);\n        }\n    };\n    fabric.util.getBoundsOfArc = function(fx, fy, rx, ry, rot, large, sweep, tx, ty) {\n        var fromX = 0, fromY = 0, bound, bounds = [], segs = arcToSegments(tx - fx, ty - fy, rx, ry, large, sweep, rot);\n        for (var i = 0, len = segs.length; i < len; i++) {\n            bound = getBoundsOfCurve(fromX, fromY, segs[i][0], segs[i][1], segs[i][2], segs[i][3], segs[i][4], segs[i][5]);\n            bounds.push({\n                x: bound[0].x + fx,\n                y: bound[0].y + fy\n            });\n            bounds.push({\n                x: bound[1].x + fx,\n                y: bound[1].y + fy\n            });\n            fromX = segs[i][4];\n            fromY = segs[i][5];\n        }\n        return bounds;\n    };\n    function getBoundsOfCurve(x0, y0, x1, y1, x2, y2, x3, y3) {\n        var argsString = _join.call(arguments);\n        if (boundsOfCurveCache[argsString]) {\n            return boundsOfCurveCache[argsString];\n        }\n        var sqrt = Math.sqrt, min = Math.min, max = Math.max, abs = Math.abs, tvalues = [], bounds = [ [], [] ], a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n        b = 6 * x0 - 12 * x1 + 6 * x2;\n        a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n        c = 3 * x1 - 3 * x0;\n        for (var i = 0; i < 2; ++i) {\n            if (i > 0) {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n            if (abs(a) < 1e-12) {\n                if (abs(b) < 1e-12) {\n                    continue;\n                }\n                t = -c / b;\n                if (0 < t && t < 1) {\n                    tvalues.push(t);\n                }\n                continue;\n            }\n            b2ac = b * b - 4 * c * a;\n            if (b2ac < 0) {\n                continue;\n            }\n            sqrtb2ac = sqrt(b2ac);\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                tvalues.push(t1);\n            }\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                tvalues.push(t2);\n            }\n        }\n        var x, y, j = tvalues.length, jlen = j, mt;\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n            x = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n            bounds[0][j] = x;\n            y = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n            bounds[1][j] = y;\n        }\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n        var result = [ {\n            x: min.apply(null, bounds[0]),\n            y: min.apply(null, bounds[1])\n        }, {\n            x: max.apply(null, bounds[0]),\n            y: max.apply(null, bounds[1])\n        } ];\n        boundsOfCurveCache[argsString] = result;\n        return result;\n    }\n    fabric.util.getBoundsOfCurve = getBoundsOfCurve;\n})();\n\n(function() {\n    var slice = Array.prototype.slice;\n    function invoke(array, method) {\n        var args = slice.call(arguments, 2), result = [];\n        for (var i = 0, len = array.length; i < len; i++) {\n            result[i] = args.length ? array[i][method].apply(array[i], args) : array[i][method].call(array[i]);\n        }\n        return result;\n    }\n    function max(array, byProperty) {\n        return find(array, byProperty, function(value1, value2) {\n            return value1 >= value2;\n        });\n    }\n    function min(array, byProperty) {\n        return find(array, byProperty, function(value1, value2) {\n            return value1 < value2;\n        });\n    }\n    function fill(array, value) {\n        var k = array.length;\n        while (k--) {\n            array[k] = value;\n        }\n        return array;\n    }\n    function find(array, byProperty, condition) {\n        if (!array || array.length === 0) {\n            return;\n        }\n        var i = array.length - 1, result = byProperty ? array[i][byProperty] : array[i];\n        if (byProperty) {\n            while (i--) {\n                if (condition(array[i][byProperty], result)) {\n                    result = array[i][byProperty];\n                }\n            }\n        } else {\n            while (i--) {\n                if (condition(array[i], result)) {\n                    result = array[i];\n                }\n            }\n        }\n        return result;\n    }\n    fabric.util.array = {\n        fill: fill,\n        invoke: invoke,\n        min: min,\n        max: max\n    };\n})();\n\n(function() {\n    function extend(destination, source, deep) {\n        if (deep) {\n            if (!fabric.isLikelyNode && source instanceof Element) {\n                destination = source;\n            } else if (source instanceof Array) {\n                destination = [];\n                for (var i = 0, len = source.length; i < len; i++) {\n                    destination[i] = extend({}, source[i], deep);\n                }\n            } else if (source && typeof source === \"object\") {\n                for (var property in source) {\n                    if (source.hasOwnProperty(property)) {\n                        destination[property] = extend({}, source[property], deep);\n                    }\n                }\n            } else {\n                destination = source;\n            }\n        } else {\n            for (var property in source) {\n                destination[property] = source[property];\n            }\n        }\n        return destination;\n    }\n    function clone(object, deep) {\n        return extend({}, object, deep);\n    }\n    fabric.util.object = {\n        extend: extend,\n        clone: clone\n    };\n    fabric.util.object.extend(fabric.util, fabric.Observable);\n})();\n\n(function() {\n    function camelize(string) {\n        return string.replace(/-+(.)?/g, function(match, character) {\n            return character ? character.toUpperCase() : \"\";\n        });\n    }\n    function capitalize(string, firstLetterOnly) {\n        return string.charAt(0).toUpperCase() + (firstLetterOnly ? string.slice(1) : string.slice(1).toLowerCase());\n    }\n    function escapeXml(string) {\n        return string.replace(/&/g, \"&amp;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&apos;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n    }\n    function graphemeSplit(textstring) {\n        var i = 0, chr, graphemes = [];\n        for (i = 0, chr; i < textstring.length; i++) {\n            if ((chr = getWholeChar(textstring, i)) === false) {\n                continue;\n            }\n            graphemes.push(chr);\n        }\n        return graphemes;\n    }\n    function getWholeChar(str, i) {\n        var code = str.charCodeAt(i);\n        if (isNaN(code)) {\n            return \"\";\n        }\n        if (code < 55296 || code > 57343) {\n            return str.charAt(i);\n        }\n        if (55296 <= code && code <= 56319) {\n            if (str.length <= i + 1) {\n                throw \"High surrogate without following low surrogate\";\n            }\n            var next = str.charCodeAt(i + 1);\n            if (56320 > next || next > 57343) {\n                throw \"High surrogate without following low surrogate\";\n            }\n            return str.charAt(i) + str.charAt(i + 1);\n        }\n        if (i === 0) {\n            throw \"Low surrogate without preceding high surrogate\";\n        }\n        var prev = str.charCodeAt(i - 1);\n        if (55296 > prev || prev > 56319) {\n            throw \"Low surrogate without preceding high surrogate\";\n        }\n        return false;\n    }\n    fabric.util.string = {\n        camelize: camelize,\n        capitalize: capitalize,\n        escapeXml: escapeXml,\n        graphemeSplit: graphemeSplit\n    };\n})();\n\n(function() {\n    var slice = Array.prototype.slice, emptyFunction = function() {}, IS_DONTENUM_BUGGY = function() {\n        for (var p in {\n            toString: 1\n        }) {\n            if (p === \"toString\") {\n                return false;\n            }\n        }\n        return true;\n    }(), addMethods = function(klass, source, parent) {\n        for (var property in source) {\n            if (property in klass.prototype && typeof klass.prototype[property] === \"function\" && (source[property] + \"\").indexOf(\"callSuper\") > -1) {\n                klass.prototype[property] = function(property) {\n                    return function() {\n                        var superclass = this.constructor.superclass;\n                        this.constructor.superclass = parent;\n                        var returnValue = source[property].apply(this, arguments);\n                        this.constructor.superclass = superclass;\n                        if (property !== \"initialize\") {\n                            return returnValue;\n                        }\n                    };\n                }(property);\n            } else {\n                klass.prototype[property] = source[property];\n            }\n            if (IS_DONTENUM_BUGGY) {\n                if (source.toString !== Object.prototype.toString) {\n                    klass.prototype.toString = source.toString;\n                }\n                if (source.valueOf !== Object.prototype.valueOf) {\n                    klass.prototype.valueOf = source.valueOf;\n                }\n            }\n        }\n    };\n    function Subclass() {}\n    function callSuper(methodName) {\n        var parentMethod = null, _this = this;\n        while (_this.constructor.superclass) {\n            var superClassMethod = _this.constructor.superclass.prototype[methodName];\n            if (_this[methodName] !== superClassMethod) {\n                parentMethod = superClassMethod;\n                break;\n            }\n            _this = _this.constructor.superclass.prototype;\n        }\n        if (!parentMethod) {\n            return console.log(\"tried to callSuper \" + methodName + \", method not found in prototype chain\", this);\n        }\n        return arguments.length > 1 ? parentMethod.apply(this, slice.call(arguments, 1)) : parentMethod.call(this);\n    }\n    function createClass() {\n        var parent = null, properties = slice.call(arguments, 0);\n        if (typeof properties[0] === \"function\") {\n            parent = properties.shift();\n        }\n        function klass() {\n            this.initialize.apply(this, arguments);\n        }\n        klass.superclass = parent;\n        klass.subclasses = [];\n        if (parent) {\n            Subclass.prototype = parent.prototype;\n            klass.prototype = new Subclass();\n            parent.subclasses.push(klass);\n        }\n        for (var i = 0, length = properties.length; i < length; i++) {\n            addMethods(klass, properties[i], parent);\n        }\n        if (!klass.prototype.initialize) {\n            klass.prototype.initialize = emptyFunction;\n        }\n        klass.prototype.constructor = klass;\n        klass.prototype.callSuper = callSuper;\n        return klass;\n    }\n    fabric.util.createClass = createClass;\n})();\n\n(function() {\n    var unknown = \"unknown\";\n    function areHostMethods(object) {\n        var methodNames = Array.prototype.slice.call(arguments, 1), t, i, len = methodNames.length;\n        for (i = 0; i < len; i++) {\n            t = typeof object[methodNames[i]];\n            if (!/^(?:function|object|unknown)$/.test(t)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    var getElement, setElement, getUniqueId = function() {\n        var uid = 0;\n        return function(element) {\n            return element.__uniqueID || (element.__uniqueID = \"uniqueID__\" + uid++);\n        };\n    }();\n    (function() {\n        var elements = {};\n        getElement = function(uid) {\n            return elements[uid];\n        };\n        setElement = function(uid, element) {\n            elements[uid] = element;\n        };\n    })();\n    function createListener(uid, handler) {\n        return {\n            handler: handler,\n            wrappedHandler: createWrappedHandler(uid, handler)\n        };\n    }\n    function createWrappedHandler(uid, handler) {\n        return function(e) {\n            handler.call(getElement(uid), e || fabric.window.event);\n        };\n    }\n    function createDispatcher(uid, eventName) {\n        return function(e) {\n            if (handlers[uid] && handlers[uid][eventName]) {\n                var handlersForEvent = handlers[uid][eventName];\n                for (var i = 0, len = handlersForEvent.length; i < len; i++) {\n                    handlersForEvent[i].call(this, e || fabric.window.event);\n                }\n            }\n        };\n    }\n    var shouldUseAddListenerRemoveListener = areHostMethods(fabric.document.documentElement, \"addEventListener\", \"removeEventListener\") && areHostMethods(fabric.window, \"addEventListener\", \"removeEventListener\"), shouldUseAttachEventDetachEvent = areHostMethods(fabric.document.documentElement, \"attachEvent\", \"detachEvent\") && areHostMethods(fabric.window, \"attachEvent\", \"detachEvent\"), listeners = {}, handlers = {}, addListener, removeListener;\n    if (shouldUseAddListenerRemoveListener) {\n        addListener = function(element, eventName, handler, options) {\n            element && element.addEventListener(eventName, handler, shouldUseAttachEventDetachEvent ? false : options);\n        };\n        removeListener = function(element, eventName, handler, options) {\n            element && element.removeEventListener(eventName, handler, shouldUseAttachEventDetachEvent ? false : options);\n        };\n    } else if (shouldUseAttachEventDetachEvent) {\n        addListener = function(element, eventName, handler) {\n            if (!element) {\n                return;\n            }\n            var uid = getUniqueId(element);\n            setElement(uid, element);\n            if (!listeners[uid]) {\n                listeners[uid] = {};\n            }\n            if (!listeners[uid][eventName]) {\n                listeners[uid][eventName] = [];\n            }\n            var listener = createListener(uid, handler);\n            listeners[uid][eventName].push(listener);\n            element.attachEvent(\"on\" + eventName, listener.wrappedHandler);\n        };\n        removeListener = function(element, eventName, handler) {\n            if (!element) {\n                return;\n            }\n            var uid = getUniqueId(element), listener;\n            if (listeners[uid] && listeners[uid][eventName]) {\n                for (var i = 0, len = listeners[uid][eventName].length; i < len; i++) {\n                    listener = listeners[uid][eventName][i];\n                    if (listener && listener.handler === handler) {\n                        element.detachEvent(\"on\" + eventName, listener.wrappedHandler);\n                        listeners[uid][eventName][i] = null;\n                    }\n                }\n            }\n        };\n    } else {\n        addListener = function(element, eventName, handler) {\n            if (!element) {\n                return;\n            }\n            var uid = getUniqueId(element);\n            if (!handlers[uid]) {\n                handlers[uid] = {};\n            }\n            if (!handlers[uid][eventName]) {\n                handlers[uid][eventName] = [];\n                var existingHandler = element[\"on\" + eventName];\n                if (existingHandler) {\n                    handlers[uid][eventName].push(existingHandler);\n                }\n                element[\"on\" + eventName] = createDispatcher(uid, eventName);\n            }\n            handlers[uid][eventName].push(handler);\n        };\n        removeListener = function(element, eventName, handler) {\n            if (!element) {\n                return;\n            }\n            var uid = getUniqueId(element);\n            if (handlers[uid] && handlers[uid][eventName]) {\n                var handlersForEvent = handlers[uid][eventName];\n                for (var i = 0, len = handlersForEvent.length; i < len; i++) {\n                    if (handlersForEvent[i] === handler) {\n                        handlersForEvent.splice(i, 1);\n                    }\n                }\n            }\n        };\n    }\n    fabric.util.addListener = addListener;\n    fabric.util.removeListener = removeListener;\n    function getPointer(event) {\n        event || (event = fabric.window.event);\n        var element = event.target || (typeof event.srcElement !== unknown ? event.srcElement : null), scroll = fabric.util.getScrollLeftTop(element);\n        return {\n            x: pointerX(event) + scroll.left,\n            y: pointerY(event) + scroll.top\n        };\n    }\n    var pointerX = function(event) {\n        return event.clientX;\n    }, pointerY = function(event) {\n        return event.clientY;\n    };\n    function _getPointer(event, pageProp, clientProp) {\n        var touchProp = event.type === \"touchend\" ? \"changedTouches\" : \"touches\";\n        return event[touchProp] && event[touchProp][0] ? event[touchProp][0][pageProp] - (event[touchProp][0][pageProp] - event[touchProp][0][clientProp]) || event[clientProp] : event[clientProp];\n    }\n    if (fabric.isTouchSupported) {\n        pointerX = function(event) {\n            return _getPointer(event, \"pageX\", \"clientX\");\n        };\n        pointerY = function(event) {\n            return _getPointer(event, \"pageY\", \"clientY\");\n        };\n    }\n    fabric.util.getPointer = getPointer;\n})();\n\n(function() {\n    function setStyle(element, styles) {\n        var elementStyle = element.style;\n        if (!elementStyle) {\n            return element;\n        }\n        if (typeof styles === \"string\") {\n            element.style.cssText += \";\" + styles;\n            return styles.indexOf(\"opacity\") > -1 ? setOpacity(element, styles.match(/opacity:\\s*(\\d?\\.?\\d*)/)[1]) : element;\n        }\n        for (var property in styles) {\n            if (property === \"opacity\") {\n                setOpacity(element, styles[property]);\n            } else {\n                var normalizedProperty = property === \"float\" || property === \"cssFloat\" ? typeof elementStyle.styleFloat === \"undefined\" ? \"cssFloat\" : \"styleFloat\" : property;\n                elementStyle[normalizedProperty] = styles[property];\n            }\n        }\n        return element;\n    }\n    var parseEl = fabric.document.createElement(\"div\"), supportsOpacity = typeof parseEl.style.opacity === \"string\", supportsFilters = typeof parseEl.style.filter === \"string\", reOpacity = /alpha\\s*\\(\\s*opacity\\s*=\\s*([^\\)]+)\\)/, setOpacity = function(element) {\n        return element;\n    };\n    if (supportsOpacity) {\n        setOpacity = function(element, value) {\n            element.style.opacity = value;\n            return element;\n        };\n    } else if (supportsFilters) {\n        setOpacity = function(element, value) {\n            var es = element.style;\n            if (element.currentStyle && !element.currentStyle.hasLayout) {\n                es.zoom = 1;\n            }\n            if (reOpacity.test(es.filter)) {\n                value = value >= .9999 ? \"\" : \"alpha(opacity=\" + value * 100 + \")\";\n                es.filter = es.filter.replace(reOpacity, value);\n            } else {\n                es.filter += \" alpha(opacity=\" + value * 100 + \")\";\n            }\n            return element;\n        };\n    }\n    fabric.util.setStyle = setStyle;\n})();\n\n(function() {\n    var _slice = Array.prototype.slice;\n    function getById(id) {\n        return typeof id === \"string\" ? fabric.document.getElementById(id) : id;\n    }\n    var sliceCanConvertNodelists, toArray = function(arrayLike) {\n        return _slice.call(arrayLike, 0);\n    };\n    try {\n        sliceCanConvertNodelists = toArray(fabric.document.childNodes) instanceof Array;\n    } catch (err) {}\n    if (!sliceCanConvertNodelists) {\n        toArray = function(arrayLike) {\n            var arr = new Array(arrayLike.length), i = arrayLike.length;\n            while (i--) {\n                arr[i] = arrayLike[i];\n            }\n            return arr;\n        };\n    }\n    function makeElement(tagName, attributes) {\n        var el = fabric.document.createElement(tagName);\n        for (var prop in attributes) {\n            if (prop === \"class\") {\n                el.className = attributes[prop];\n            } else if (prop === \"for\") {\n                el.htmlFor = attributes[prop];\n            } else {\n                el.setAttribute(prop, attributes[prop]);\n            }\n        }\n        return el;\n    }\n    function addClass(element, className) {\n        if (element && (\" \" + element.className + \" \").indexOf(\" \" + className + \" \") === -1) {\n            element.className += (element.className ? \" \" : \"\") + className;\n        }\n    }\n    function wrapElement(element, wrapper, attributes) {\n        if (typeof wrapper === \"string\") {\n            wrapper = makeElement(wrapper, attributes);\n        }\n        if (element.parentNode) {\n            element.parentNode.replaceChild(wrapper, element);\n        }\n        wrapper.appendChild(element);\n        return wrapper;\n    }\n    function getScrollLeftTop(element) {\n        var left = 0, top = 0, docElement = fabric.document.documentElement, body = fabric.document.body || {\n            scrollLeft: 0,\n            scrollTop: 0\n        };\n        while (element && (element.parentNode || element.host)) {\n            element = element.parentNode || element.host;\n            if (element === fabric.document) {\n                left = body.scrollLeft || docElement.scrollLeft || 0;\n                top = body.scrollTop || docElement.scrollTop || 0;\n            } else {\n                left += element.scrollLeft || 0;\n                top += element.scrollTop || 0;\n            }\n            if (element.nodeType === 1 && element.style.position === \"fixed\") {\n                break;\n            }\n        }\n        return {\n            left: left,\n            top: top\n        };\n    }\n    function getElementOffset(element) {\n        var docElem, doc = element && element.ownerDocument, box = {\n            left: 0,\n            top: 0\n        }, offset = {\n            left: 0,\n            top: 0\n        }, scrollLeftTop, offsetAttributes = {\n            borderLeftWidth: \"left\",\n            borderTopWidth: \"top\",\n            paddingLeft: \"left\",\n            paddingTop: \"top\"\n        };\n        if (!doc) {\n            return offset;\n        }\n        for (var attr in offsetAttributes) {\n            offset[offsetAttributes[attr]] += parseInt(getElementStyle(element, attr), 10) || 0;\n        }\n        docElem = doc.documentElement;\n        if (typeof element.getBoundingClientRect !== \"undefined\") {\n            box = element.getBoundingClientRect();\n        }\n        scrollLeftTop = getScrollLeftTop(element);\n        return {\n            left: box.left + scrollLeftTop.left - (docElem.clientLeft || 0) + offset.left,\n            top: box.top + scrollLeftTop.top - (docElem.clientTop || 0) + offset.top\n        };\n    }\n    var getElementStyle;\n    if (fabric.document.defaultView && fabric.document.defaultView.getComputedStyle) {\n        getElementStyle = function(element, attr) {\n            var style = fabric.document.defaultView.getComputedStyle(element, null);\n            return style ? style[attr] : undefined;\n        };\n    } else {\n        getElementStyle = function(element, attr) {\n            var value = element.style[attr];\n            if (!value && element.currentStyle) {\n                value = element.currentStyle[attr];\n            }\n            return value;\n        };\n    }\n    (function() {\n        var style = fabric.document.documentElement.style, selectProp = \"userSelect\" in style ? \"userSelect\" : \"MozUserSelect\" in style ? \"MozUserSelect\" : \"WebkitUserSelect\" in style ? \"WebkitUserSelect\" : \"KhtmlUserSelect\" in style ? \"KhtmlUserSelect\" : \"\";\n        function makeElementUnselectable(element) {\n            if (typeof element.onselectstart !== \"undefined\") {\n                element.onselectstart = fabric.util.falseFunction;\n            }\n            if (selectProp) {\n                element.style[selectProp] = \"none\";\n            } else if (typeof element.unselectable === \"string\") {\n                element.unselectable = \"on\";\n            }\n            return element;\n        }\n        function makeElementSelectable(element) {\n            if (typeof element.onselectstart !== \"undefined\") {\n                element.onselectstart = null;\n            }\n            if (selectProp) {\n                element.style[selectProp] = \"\";\n            } else if (typeof element.unselectable === \"string\") {\n                element.unselectable = \"\";\n            }\n            return element;\n        }\n        fabric.util.makeElementUnselectable = makeElementUnselectable;\n        fabric.util.makeElementSelectable = makeElementSelectable;\n    })();\n    (function() {\n        function getScript(url, callback) {\n            var headEl = fabric.document.getElementsByTagName(\"head\")[0], scriptEl = fabric.document.createElement(\"script\"), loading = true;\n            scriptEl.onload = scriptEl.onreadystatechange = function(e) {\n                if (loading) {\n                    if (typeof this.readyState === \"string\" && this.readyState !== \"loaded\" && this.readyState !== \"complete\") {\n                        return;\n                    }\n                    loading = false;\n                    callback(e || fabric.window.event);\n                    scriptEl = scriptEl.onload = scriptEl.onreadystatechange = null;\n                }\n            };\n            scriptEl.src = url;\n            headEl.appendChild(scriptEl);\n        }\n        fabric.util.getScript = getScript;\n    })();\n    function getNodeCanvas(element) {\n        var impl = fabric.jsdomImplForWrapper(element);\n        return impl._canvas || impl._image;\n    }\n    fabric.util.getById = getById;\n    fabric.util.toArray = toArray;\n    fabric.util.makeElement = makeElement;\n    fabric.util.addClass = addClass;\n    fabric.util.wrapElement = wrapElement;\n    fabric.util.getScrollLeftTop = getScrollLeftTop;\n    fabric.util.getElementOffset = getElementOffset;\n    fabric.util.getElementStyle = getElementStyle;\n    fabric.util.getNodeCanvas = getNodeCanvas;\n})();\n\n(function() {\n    function addParamToUrl(url, param) {\n        return url + (/\\?/.test(url) ? \"&\" : \"?\") + param;\n    }\n    var makeXHR = function() {\n        var factories = [ function() {\n            return new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }, function() {\n            return new ActiveXObject(\"Msxml2.XMLHTTP\");\n        }, function() {\n            return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n        }, function() {\n            return new XMLHttpRequest();\n        } ];\n        for (var i = factories.length; i--; ) {\n            try {\n                var req = factories[i]();\n                if (req) {\n                    return factories[i];\n                }\n            } catch (err) {}\n        }\n    }();\n    function emptyFn() {}\n    function request(url, options) {\n        options || (options = {});\n        var method = options.method ? options.method.toUpperCase() : \"GET\", onComplete = options.onComplete || function() {}, xhr = makeXHR(), body = options.body || options.parameters;\n        xhr.onreadystatechange = function() {\n            if (xhr.readyState === 4) {\n                onComplete(xhr);\n                xhr.onreadystatechange = emptyFn;\n            }\n        };\n        if (method === \"GET\") {\n            body = null;\n            if (typeof options.parameters === \"string\") {\n                url = addParamToUrl(url, options.parameters);\n            }\n        }\n        xhr.open(method, url, true);\n        if (method === \"POST\" || method === \"PUT\") {\n            xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        }\n        xhr.send(body);\n        return xhr;\n    }\n    fabric.util.request = request;\n})();\n\nfabric.log = function() {};\n\nfabric.warn = function() {};\n\nif (typeof console !== \"undefined\") {\n    [ \"log\", \"warn\" ].forEach(function(methodName) {\n        if (typeof console[methodName] !== \"undefined\" && typeof console[methodName].apply === \"function\") {\n            fabric[methodName] = function() {\n                return console[methodName].apply(console, arguments);\n            };\n        }\n    });\n}\n\n(function() {\n    function noop() {\n        return false;\n    }\n    function animate(options) {\n        requestAnimFrame(function(timestamp) {\n            options || (options = {});\n            var start = timestamp || +new Date(), duration = options.duration || 500, finish = start + duration, time, onChange = options.onChange || noop, abort = options.abort || noop, onComplete = options.onComplete || noop, easing = options.easing || function(t, b, c, d) {\n                return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n            }, startValue = \"startValue\" in options ? options.startValue : 0, endValue = \"endValue\" in options ? options.endValue : 100, byValue = options.byValue || endValue - startValue;\n            options.onStart && options.onStart();\n            (function tick(ticktime) {\n                if (abort()) {\n                    onComplete(endValue, 1, 1);\n                    return;\n                }\n                time = ticktime || +new Date();\n                var currentTime = time > finish ? duration : time - start, timePerc = currentTime / duration, current = easing(currentTime, startValue, byValue, duration), valuePerc = Math.abs((current - startValue) / byValue);\n                onChange(current, valuePerc, timePerc);\n                if (time > finish) {\n                    options.onComplete && options.onComplete();\n                    return;\n                }\n                requestAnimFrame(tick);\n            })(start);\n        });\n    }\n    var _requestAnimFrame = fabric.window.requestAnimationFrame || fabric.window.webkitRequestAnimationFrame || fabric.window.mozRequestAnimationFrame || fabric.window.oRequestAnimationFrame || fabric.window.msRequestAnimationFrame || function(callback) {\n        return fabric.window.setTimeout(callback, 1e3 / 60);\n    };\n    var _cancelAnimFrame = fabric.window.cancelAnimationFrame || fabric.window.clearTimeout;\n    function requestAnimFrame() {\n        return _requestAnimFrame.apply(fabric.window, arguments);\n    }\n    function cancelAnimFrame() {\n        return _cancelAnimFrame.apply(fabric.window, arguments);\n    }\n    fabric.util.animate = animate;\n    fabric.util.requestAnimFrame = requestAnimFrame;\n    fabric.util.cancelAnimFrame = cancelAnimFrame;\n})();\n\n(function() {\n    function calculateColor(begin, end, pos) {\n        var color = \"rgba(\" + parseInt(begin[0] + pos * (end[0] - begin[0]), 10) + \",\" + parseInt(begin[1] + pos * (end[1] - begin[1]), 10) + \",\" + parseInt(begin[2] + pos * (end[2] - begin[2]), 10);\n        color += \",\" + (begin && end ? parseFloat(begin[3] + pos * (end[3] - begin[3])) : 1);\n        color += \")\";\n        return color;\n    }\n    function animateColor(fromColor, toColor, duration, options) {\n        var startColor = new fabric.Color(fromColor).getSource(), endColor = new fabric.Color(toColor).getSource();\n        options = options || {};\n        fabric.util.animate(fabric.util.object.extend(options, {\n            duration: duration || 500,\n            startValue: startColor,\n            endValue: endColor,\n            byValue: endColor,\n            easing: function(currentTime, startValue, byValue, duration) {\n                var posValue = options.colorEasing ? options.colorEasing(currentTime, duration) : 1 - Math.cos(currentTime / duration * (Math.PI / 2));\n                return calculateColor(startValue, byValue, posValue);\n            }\n        }));\n    }\n    fabric.util.animateColor = animateColor;\n})();\n\n(function() {\n    function normalize(a, c, p, s) {\n        if (a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        } else {\n            if (c === 0 && a === 0) {\n                s = p / (2 * Math.PI) * Math.asin(1);\n            } else {\n                s = p / (2 * Math.PI) * Math.asin(c / a);\n            }\n        }\n        return {\n            a: a,\n            c: c,\n            p: p,\n            s: s\n        };\n    }\n    function elastic(opts, t, d) {\n        return opts.a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p);\n    }\n    function easeOutCubic(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t + 1) + b;\n    }\n    function easeInOutCubic(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) {\n            return c / 2 * t * t * t + b;\n        }\n        return c / 2 * ((t -= 2) * t * t + 2) + b;\n    }\n    function easeInQuart(t, b, c, d) {\n        return c * (t /= d) * t * t * t + b;\n    }\n    function easeOutQuart(t, b, c, d) {\n        return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n    }\n    function easeInOutQuart(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) {\n            return c / 2 * t * t * t * t + b;\n        }\n        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n    }\n    function easeInQuint(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    }\n    function easeOutQuint(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    }\n    function easeInOutQuint(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) {\n            return c / 2 * t * t * t * t * t + b;\n        }\n        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n    function easeInSine(t, b, c, d) {\n        return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n    }\n    function easeOutSine(t, b, c, d) {\n        return c * Math.sin(t / d * (Math.PI / 2)) + b;\n    }\n    function easeInOutSine(t, b, c, d) {\n        return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n    }\n    function easeInExpo(t, b, c, d) {\n        return t === 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n    }\n    function easeOutExpo(t, b, c, d) {\n        return t === d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n    }\n    function easeInOutExpo(t, b, c, d) {\n        if (t === 0) {\n            return b;\n        }\n        if (t === d) {\n            return b + c;\n        }\n        t /= d / 2;\n        if (t < 1) {\n            return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n        }\n        return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n    function easeInCirc(t, b, c, d) {\n        return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n    }\n    function easeOutCirc(t, b, c, d) {\n        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n    }\n    function easeInOutCirc(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) {\n            return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n        }\n        return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n    function easeInElastic(t, b, c, d) {\n        var s = 1.70158, p = 0, a = c;\n        if (t === 0) {\n            return b;\n        }\n        t /= d;\n        if (t === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * .3;\n        }\n        var opts = normalize(a, c, p, s);\n        return -elastic(opts, t, d) + b;\n    }\n    function easeOutElastic(t, b, c, d) {\n        var s = 1.70158, p = 0, a = c;\n        if (t === 0) {\n            return b;\n        }\n        t /= d;\n        if (t === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * .3;\n        }\n        var opts = normalize(a, c, p, s);\n        return opts.a * Math.pow(2, -10 * t) * Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p) + opts.c + b;\n    }\n    function easeInOutElastic(t, b, c, d) {\n        var s = 1.70158, p = 0, a = c;\n        if (t === 0) {\n            return b;\n        }\n        t /= d / 2;\n        if (t === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (.3 * 1.5);\n        }\n        var opts = normalize(a, c, p, s);\n        if (t < 1) {\n            return -.5 * elastic(opts, t, d) + b;\n        }\n        return opts.a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p) * .5 + opts.c + b;\n    }\n    function easeInBack(t, b, c, d, s) {\n        if (s === undefined) {\n            s = 1.70158;\n        }\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    }\n    function easeOutBack(t, b, c, d, s) {\n        if (s === undefined) {\n            s = 1.70158;\n        }\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    }\n    function easeInOutBack(t, b, c, d, s) {\n        if (s === undefined) {\n            s = 1.70158;\n        }\n        t /= d / 2;\n        if (t < 1) {\n            return c / 2 * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return c / 2 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n    function easeInBounce(t, b, c, d) {\n        return c - easeOutBounce(d - t, 0, c, d) + b;\n    }\n    function easeOutBounce(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        } else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + b;\n        } else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + b;\n        } else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + b;\n        }\n    }\n    function easeInOutBounce(t, b, c, d) {\n        if (t < d / 2) {\n            return easeInBounce(t * 2, 0, c, d) * .5 + b;\n        }\n        return easeOutBounce(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n    }\n    fabric.util.ease = {\n        easeInQuad: function(t, b, c, d) {\n            return c * (t /= d) * t + b;\n        },\n        easeOutQuad: function(t, b, c, d) {\n            return -c * (t /= d) * (t - 2) + b;\n        },\n        easeInOutQuad: function(t, b, c, d) {\n            t /= d / 2;\n            if (t < 1) {\n                return c / 2 * t * t + b;\n            }\n            return -c / 2 * (--t * (t - 2) - 1) + b;\n        },\n        easeInCubic: function(t, b, c, d) {\n            return c * (t /= d) * t * t + b;\n        },\n        easeOutCubic: easeOutCubic,\n        easeInOutCubic: easeInOutCubic,\n        easeInQuart: easeInQuart,\n        easeOutQuart: easeOutQuart,\n        easeInOutQuart: easeInOutQuart,\n        easeInQuint: easeInQuint,\n        easeOutQuint: easeOutQuint,\n        easeInOutQuint: easeInOutQuint,\n        easeInSine: easeInSine,\n        easeOutSine: easeOutSine,\n        easeInOutSine: easeInOutSine,\n        easeInExpo: easeInExpo,\n        easeOutExpo: easeOutExpo,\n        easeInOutExpo: easeInOutExpo,\n        easeInCirc: easeInCirc,\n        easeOutCirc: easeOutCirc,\n        easeInOutCirc: easeInOutCirc,\n        easeInElastic: easeInElastic,\n        easeOutElastic: easeOutElastic,\n        easeInOutElastic: easeInOutElastic,\n        easeInBack: easeInBack,\n        easeOutBack: easeOutBack,\n        easeInOutBack: easeInOutBack,\n        easeInBounce: easeInBounce,\n        easeOutBounce: easeOutBounce,\n        easeInOutBounce: easeInOutBounce\n    };\n})();\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, clone = fabric.util.object.clone, toFixed = fabric.util.toFixed, parseUnit = fabric.util.parseUnit, multiplyTransformMatrices = fabric.util.multiplyTransformMatrices, svgValidTagNames = [ \"path\", \"circle\", \"polygon\", \"polyline\", \"ellipse\", \"rect\", \"line\", \"image\", \"text\", \"linearGradient\", \"radialGradient\", \"stop\" ], svgViewBoxElements = [ \"symbol\", \"image\", \"marker\", \"pattern\", \"view\", \"svg\" ], svgInvalidAncestors = [ \"pattern\", \"defs\", \"symbol\", \"metadata\", \"clipPath\", \"mask\", \"desc\" ], svgValidParents = [ \"symbol\", \"g\", \"a\", \"svg\" ], attributesMap = {\n        cx: \"left\",\n        x: \"left\",\n        r: \"radius\",\n        cy: \"top\",\n        y: \"top\",\n        display: \"visible\",\n        visibility: \"visible\",\n        transform: \"transformMatrix\",\n        \"fill-opacity\": \"fillOpacity\",\n        \"fill-rule\": \"fillRule\",\n        \"font-family\": \"fontFamily\",\n        \"font-size\": \"fontSize\",\n        \"font-style\": \"fontStyle\",\n        \"font-weight\": \"fontWeight\",\n        \"letter-spacing\": \"charSpacing\",\n        \"paint-order\": \"paintFirst\",\n        \"stroke-dasharray\": \"strokeDashArray\",\n        \"stroke-linecap\": \"strokeLineCap\",\n        \"stroke-linejoin\": \"strokeLineJoin\",\n        \"stroke-miterlimit\": \"strokeMiterLimit\",\n        \"stroke-opacity\": \"strokeOpacity\",\n        \"stroke-width\": \"strokeWidth\",\n        \"text-decoration\": \"textDecoration\",\n        \"text-anchor\": \"textAnchor\",\n        opacity: \"opacity\"\n    }, colorAttributes = {\n        stroke: \"strokeOpacity\",\n        fill: \"fillOpacity\"\n    };\n    fabric.svgValidTagNamesRegEx = getSvgRegex(svgValidTagNames);\n    fabric.svgViewBoxElementsRegEx = getSvgRegex(svgViewBoxElements);\n    fabric.svgInvalidAncestorsRegEx = getSvgRegex(svgInvalidAncestors);\n    fabric.svgValidParentsRegEx = getSvgRegex(svgValidParents);\n    fabric.cssRules = {};\n    fabric.gradientDefs = {};\n    function normalizeAttr(attr) {\n        if (attr in attributesMap) {\n            return attributesMap[attr];\n        }\n        return attr;\n    }\n    function normalizeValue(attr, value, parentAttributes, fontSize) {\n        var isArray = Object.prototype.toString.call(value) === \"[object Array]\", parsed;\n        if ((attr === \"fill\" || attr === \"stroke\") && value === \"none\") {\n            value = \"\";\n        } else if (attr === \"strokeDashArray\") {\n            if (value === \"none\") {\n                value = null;\n            } else {\n                value = value.replace(/,/g, \" \").split(/\\s+/).map(function(n) {\n                    return parseFloat(n);\n                });\n            }\n        } else if (attr === \"transformMatrix\") {\n            if (parentAttributes && parentAttributes.transformMatrix) {\n                value = multiplyTransformMatrices(parentAttributes.transformMatrix, fabric.parseTransformAttribute(value));\n            } else {\n                value = fabric.parseTransformAttribute(value);\n            }\n        } else if (attr === \"visible\") {\n            value = value !== \"none\" && value !== \"hidden\";\n            if (parentAttributes && parentAttributes.visible === false) {\n                value = false;\n            }\n        } else if (attr === \"opacity\") {\n            value = parseFloat(value);\n            if (parentAttributes && typeof parentAttributes.opacity !== \"undefined\") {\n                value *= parentAttributes.opacity;\n            }\n        } else if (attr === \"textAnchor\") {\n            value = value === \"start\" ? \"left\" : value === \"end\" ? \"right\" : \"center\";\n        } else if (attr === \"charSpacing\") {\n            parsed = parseUnit(value, fontSize) / fontSize * 1e3;\n        } else if (attr === \"paintFirst\") {\n            var fillIndex = value.indexOf(\"fill\");\n            var strokeIndex = value.indexOf(\"stroke\");\n            var value = \"fill\";\n            if (fillIndex > -1 && strokeIndex > -1 && strokeIndex < fillIndex) {\n                value = \"stroke\";\n            } else if (fillIndex === -1 && strokeIndex > -1) {\n                value = \"stroke\";\n            }\n        } else {\n            parsed = isArray ? value.map(parseUnit) : parseUnit(value, fontSize);\n        }\n        return !isArray && isNaN(parsed) ? value : parsed;\n    }\n    function getSvgRegex(arr) {\n        return new RegExp(\"^(\" + arr.join(\"|\") + \")\\\\b\", \"i\");\n    }\n    function _setStrokeFillOpacity(attributes) {\n        for (var attr in colorAttributes) {\n            if (typeof attributes[colorAttributes[attr]] === \"undefined\" || attributes[attr] === \"\") {\n                continue;\n            }\n            if (typeof attributes[attr] === \"undefined\") {\n                if (!fabric.Object.prototype[attr]) {\n                    continue;\n                }\n                attributes[attr] = fabric.Object.prototype[attr];\n            }\n            if (attributes[attr].indexOf(\"url(\") === 0) {\n                continue;\n            }\n            var color = new fabric.Color(attributes[attr]);\n            attributes[attr] = color.setAlpha(toFixed(color.getAlpha() * attributes[colorAttributes[attr]], 2)).toRgba();\n        }\n        return attributes;\n    }\n    function _getMultipleNodes(doc, nodeNames) {\n        var nodeName, nodeArray = [], nodeList, i, len;\n        for (i = 0, len = nodeNames.length; i < len; i++) {\n            nodeName = nodeNames[i];\n            nodeList = doc.getElementsByTagName(nodeName);\n            nodeArray = nodeArray.concat(Array.prototype.slice.call(nodeList));\n        }\n        return nodeArray;\n    }\n    fabric.parseTransformAttribute = function() {\n        function rotateMatrix(matrix, args) {\n            var cos = fabric.util.cos(args[0]), sin = fabric.util.sin(args[0]), x = 0, y = 0;\n            if (args.length === 3) {\n                x = args[1];\n                y = args[2];\n            }\n            matrix[0] = cos;\n            matrix[1] = sin;\n            matrix[2] = -sin;\n            matrix[3] = cos;\n            matrix[4] = x - (cos * x - sin * y);\n            matrix[5] = y - (sin * x + cos * y);\n        }\n        function scaleMatrix(matrix, args) {\n            var multiplierX = args[0], multiplierY = args.length === 2 ? args[1] : args[0];\n            matrix[0] = multiplierX;\n            matrix[3] = multiplierY;\n        }\n        function skewMatrix(matrix, args, pos) {\n            matrix[pos] = Math.tan(fabric.util.degreesToRadians(args[0]));\n        }\n        function translateMatrix(matrix, args) {\n            matrix[4] = args[0];\n            if (args.length === 2) {\n                matrix[5] = args[1];\n            }\n        }\n        var iMatrix = [ 1, 0, 0, 1, 0, 0 ], number = fabric.reNum, commaWsp = \"(?:\\\\s+,?\\\\s*|,\\\\s*)\", skewX = \"(?:(skewX)\\\\s*\\\\(\\\\s*(\" + number + \")\\\\s*\\\\))\", skewY = \"(?:(skewY)\\\\s*\\\\(\\\\s*(\" + number + \")\\\\s*\\\\))\", rotate = \"(?:(rotate)\\\\s*\\\\(\\\\s*(\" + number + \")(?:\" + commaWsp + \"(\" + number + \")\" + commaWsp + \"(\" + number + \"))?\\\\s*\\\\))\", scale = \"(?:(scale)\\\\s*\\\\(\\\\s*(\" + number + \")(?:\" + commaWsp + \"(\" + number + \"))?\\\\s*\\\\))\", translate = \"(?:(translate)\\\\s*\\\\(\\\\s*(\" + number + \")(?:\" + commaWsp + \"(\" + number + \"))?\\\\s*\\\\))\", matrix = \"(?:(matrix)\\\\s*\\\\(\\\\s*\" + \"(\" + number + \")\" + commaWsp + \"(\" + number + \")\" + commaWsp + \"(\" + number + \")\" + commaWsp + \"(\" + number + \")\" + commaWsp + \"(\" + number + \")\" + commaWsp + \"(\" + number + \")\" + \"\\\\s*\\\\))\", transform = \"(?:\" + matrix + \"|\" + translate + \"|\" + scale + \"|\" + rotate + \"|\" + skewX + \"|\" + skewY + \")\", transforms = \"(?:\" + transform + \"(?:\" + commaWsp + \"*\" + transform + \")*\" + \")\", transformList = \"^\\\\s*(?:\" + transforms + \"?)\\\\s*$\", reTransformList = new RegExp(transformList), reTransform = new RegExp(transform, \"g\");\n        return function(attributeValue) {\n            var matrix = iMatrix.concat(), matrices = [];\n            if (!attributeValue || attributeValue && !reTransformList.test(attributeValue)) {\n                return matrix;\n            }\n            attributeValue.replace(reTransform, function(match) {\n                var m = new RegExp(transform).exec(match).filter(function(match) {\n                    return !!match;\n                }), operation = m[1], args = m.slice(2).map(parseFloat);\n                switch (operation) {\n                  case \"translate\":\n                    translateMatrix(matrix, args);\n                    break;\n\n                  case \"rotate\":\n                    args[0] = fabric.util.degreesToRadians(args[0]);\n                    rotateMatrix(matrix, args);\n                    break;\n\n                  case \"scale\":\n                    scaleMatrix(matrix, args);\n                    break;\n\n                  case \"skewX\":\n                    skewMatrix(matrix, args, 2);\n                    break;\n\n                  case \"skewY\":\n                    skewMatrix(matrix, args, 1);\n                    break;\n\n                  case \"matrix\":\n                    matrix = args;\n                    break;\n                }\n                matrices.push(matrix.concat());\n                matrix = iMatrix.concat();\n            });\n            var combinedMatrix = matrices[0];\n            while (matrices.length > 1) {\n                matrices.shift();\n                combinedMatrix = fabric.util.multiplyTransformMatrices(combinedMatrix, matrices[0]);\n            }\n            return combinedMatrix;\n        };\n    }();\n    function parseStyleString(style, oStyle) {\n        var attr, value;\n        style.replace(/;\\s*$/, \"\").split(\";\").forEach(function(chunk) {\n            var pair = chunk.split(\":\");\n            attr = pair[0].trim().toLowerCase();\n            value = pair[1].trim();\n            oStyle[attr] = value;\n        });\n    }\n    function parseStyleObject(style, oStyle) {\n        var attr, value;\n        for (var prop in style) {\n            if (typeof style[prop] === \"undefined\") {\n                continue;\n            }\n            attr = prop.toLowerCase();\n            value = style[prop];\n            oStyle[attr] = value;\n        }\n    }\n    function getGlobalStylesForElement(element, svgUid) {\n        var styles = {};\n        for (var rule in fabric.cssRules[svgUid]) {\n            if (elementMatchesRule(element, rule.split(\" \"))) {\n                for (var property in fabric.cssRules[svgUid][rule]) {\n                    styles[property] = fabric.cssRules[svgUid][rule][property];\n                }\n            }\n        }\n        return styles;\n    }\n    function elementMatchesRule(element, selectors) {\n        var firstMatching, parentMatching = true;\n        firstMatching = selectorMatches(element, selectors.pop());\n        if (firstMatching && selectors.length) {\n            parentMatching = doesSomeParentMatch(element, selectors);\n        }\n        return firstMatching && parentMatching && selectors.length === 0;\n    }\n    function doesSomeParentMatch(element, selectors) {\n        var selector, parentMatching = true;\n        while (element.parentNode && element.parentNode.nodeType === 1 && selectors.length) {\n            if (parentMatching) {\n                selector = selectors.pop();\n            }\n            element = element.parentNode;\n            parentMatching = selectorMatches(element, selector);\n        }\n        return selectors.length === 0;\n    }\n    function selectorMatches(element, selector) {\n        var nodeName = element.nodeName, classNames = element.getAttribute(\"class\"), id = element.getAttribute(\"id\"), matcher, i;\n        matcher = new RegExp(\"^\" + nodeName, \"i\");\n        selector = selector.replace(matcher, \"\");\n        if (id && selector.length) {\n            matcher = new RegExp(\"#\" + id + \"(?![a-zA-Z\\\\-]+)\", \"i\");\n            selector = selector.replace(matcher, \"\");\n        }\n        if (classNames && selector.length) {\n            classNames = classNames.split(\" \");\n            for (i = classNames.length; i--; ) {\n                matcher = new RegExp(\"\\\\.\" + classNames[i] + \"(?![a-zA-Z\\\\-]+)\", \"i\");\n                selector = selector.replace(matcher, \"\");\n            }\n        }\n        return selector.length === 0;\n    }\n    function elementById(doc, id) {\n        var el;\n        doc.getElementById && (el = doc.getElementById(id));\n        if (el) {\n            return el;\n        }\n        var node, i, len, nodelist = doc.getElementsByTagName(\"*\");\n        for (i = 0, len = nodelist.length; i < len; i++) {\n            node = nodelist[i];\n            if (id === node.getAttribute(\"id\")) {\n                return node;\n            }\n        }\n    }\n    function parseUseDirectives(doc) {\n        var nodelist = _getMultipleNodes(doc, [ \"use\", \"svg:use\" ]), i = 0;\n        while (nodelist.length && i < nodelist.length) {\n            var el = nodelist[i], xlink = el.getAttribute(\"xlink:href\").substr(1), x = el.getAttribute(\"x\") || 0, y = el.getAttribute(\"y\") || 0, el2 = elementById(doc, xlink).cloneNode(true), currentTrans = (el2.getAttribute(\"transform\") || \"\") + \" translate(\" + x + \", \" + y + \")\", parentNode, oldLength = nodelist.length, attr, j, attrs, len;\n            applyViewboxTransform(el2);\n            if (/^svg$/i.test(el2.nodeName)) {\n                var el3 = el2.ownerDocument.createElement(\"g\");\n                for (j = 0, attrs = el2.attributes, len = attrs.length; j < len; j++) {\n                    attr = attrs.item(j);\n                    el3.setAttribute(attr.nodeName, attr.nodeValue);\n                }\n                while (el2.firstChild) {\n                    el3.appendChild(el2.firstChild);\n                }\n                el2 = el3;\n            }\n            for (j = 0, attrs = el.attributes, len = attrs.length; j < len; j++) {\n                attr = attrs.item(j);\n                if (attr.nodeName === \"x\" || attr.nodeName === \"y\" || attr.nodeName === \"xlink:href\") {\n                    continue;\n                }\n                if (attr.nodeName === \"transform\") {\n                    currentTrans = attr.nodeValue + \" \" + currentTrans;\n                } else {\n                    el2.setAttribute(attr.nodeName, attr.nodeValue);\n                }\n            }\n            el2.setAttribute(\"transform\", currentTrans);\n            el2.setAttribute(\"instantiated_by_use\", \"1\");\n            el2.removeAttribute(\"id\");\n            parentNode = el.parentNode;\n            parentNode.replaceChild(el2, el);\n            if (nodelist.length === oldLength) {\n                i++;\n            }\n        }\n    }\n    var reViewBoxAttrValue = new RegExp(\"^\" + \"\\\\s*(\" + fabric.reNum + \"+)\\\\s*,?\" + \"\\\\s*(\" + fabric.reNum + \"+)\\\\s*,?\" + \"\\\\s*(\" + fabric.reNum + \"+)\\\\s*,?\" + \"\\\\s*(\" + fabric.reNum + \"+)\\\\s*\" + \"$\");\n    function applyViewboxTransform(element) {\n        var viewBoxAttr = element.getAttribute(\"viewBox\"), scaleX = 1, scaleY = 1, minX = 0, minY = 0, viewBoxWidth, viewBoxHeight, matrix, el, widthAttr = element.getAttribute(\"width\"), heightAttr = element.getAttribute(\"height\"), x = element.getAttribute(\"x\") || 0, y = element.getAttribute(\"y\") || 0, preserveAspectRatio = element.getAttribute(\"preserveAspectRatio\") || \"\", missingViewBox = !viewBoxAttr || !fabric.svgViewBoxElementsRegEx.test(element.nodeName) || !(viewBoxAttr = viewBoxAttr.match(reViewBoxAttrValue)), missingDimAttr = !widthAttr || !heightAttr || widthAttr === \"100%\" || heightAttr === \"100%\", toBeParsed = missingViewBox && missingDimAttr, parsedDim = {}, translateMatrix = \"\";\n        parsedDim.width = 0;\n        parsedDim.height = 0;\n        parsedDim.toBeParsed = toBeParsed;\n        if (toBeParsed) {\n            return parsedDim;\n        }\n        if (missingViewBox) {\n            parsedDim.width = parseUnit(widthAttr);\n            parsedDim.height = parseUnit(heightAttr);\n            return parsedDim;\n        }\n        minX = -parseFloat(viewBoxAttr[1]);\n        minY = -parseFloat(viewBoxAttr[2]);\n        viewBoxWidth = parseFloat(viewBoxAttr[3]);\n        viewBoxHeight = parseFloat(viewBoxAttr[4]);\n        if (!missingDimAttr) {\n            parsedDim.width = parseUnit(widthAttr);\n            parsedDim.height = parseUnit(heightAttr);\n            scaleX = parsedDim.width / viewBoxWidth;\n            scaleY = parsedDim.height / viewBoxHeight;\n        } else {\n            parsedDim.width = viewBoxWidth;\n            parsedDim.height = viewBoxHeight;\n        }\n        preserveAspectRatio = fabric.util.parsePreserveAspectRatioAttribute(preserveAspectRatio);\n        if (preserveAspectRatio.alignX !== \"none\") {\n            scaleY = scaleX = scaleX > scaleY ? scaleY : scaleX;\n        }\n        if (scaleX === 1 && scaleY === 1 && minX === 0 && minY === 0 && x === 0 && y === 0) {\n            return parsedDim;\n        }\n        if (x || y) {\n            translateMatrix = \" translate(\" + parseUnit(x) + \" \" + parseUnit(y) + \") \";\n        }\n        matrix = translateMatrix + \" matrix(\" + scaleX + \" 0\" + \" 0 \" + scaleY + \" \" + minX * scaleX + \" \" + minY * scaleY + \") \";\n        if (element.nodeName === \"svg\") {\n            el = element.ownerDocument.createElement(\"g\");\n            while (element.firstChild) {\n                el.appendChild(element.firstChild);\n            }\n            element.appendChild(el);\n        } else {\n            el = element;\n            matrix = el.getAttribute(\"transform\") + matrix;\n        }\n        el.setAttribute(\"transform\", matrix);\n        return parsedDim;\n    }\n    function hasAncestorWithNodeName(element, nodeName) {\n        while (element && (element = element.parentNode)) {\n            if (element.nodeName && nodeName.test(element.nodeName.replace(\"svg:\", \"\")) && !element.getAttribute(\"instantiated_by_use\")) {\n                return true;\n            }\n        }\n        return false;\n    }\n    fabric.parseSVGDocument = function(doc, callback, reviver, parsingOptions) {\n        if (!doc) {\n            return;\n        }\n        parseUseDirectives(doc);\n        var svgUid = fabric.Object.__uid++, i, len, options = applyViewboxTransform(doc), descendants = fabric.util.toArray(doc.getElementsByTagName(\"*\"));\n        options.crossOrigin = parsingOptions && parsingOptions.crossOrigin;\n        options.svgUid = svgUid;\n        if (descendants.length === 0 && fabric.isLikelyNode) {\n            descendants = doc.selectNodes('//*[name(.)!=\"svg\"]');\n            var arr = [];\n            for (i = 0, len = descendants.length; i < len; i++) {\n                arr[i] = descendants[i];\n            }\n            descendants = arr;\n        }\n        var elements = descendants.filter(function(el) {\n            applyViewboxTransform(el);\n            return fabric.svgValidTagNamesRegEx.test(el.nodeName.replace(\"svg:\", \"\")) && !hasAncestorWithNodeName(el, fabric.svgInvalidAncestorsRegEx);\n        });\n        if (!elements || elements && !elements.length) {\n            callback && callback([], {});\n            return;\n        }\n        fabric.gradientDefs[svgUid] = fabric.getGradientDefs(doc);\n        fabric.cssRules[svgUid] = fabric.getCSSRules(doc);\n        fabric.parseElements(elements, function(instances, elements) {\n            if (callback) {\n                callback(instances, options, elements, descendants);\n            }\n        }, clone(options), reviver, parsingOptions);\n    };\n    var reFontDeclaration = new RegExp(\"(normal|italic)?\\\\s*(normal|small-caps)?\\\\s*\" + \"(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\\\s*(\" + fabric.reNum + \"(?:px|cm|mm|em|pt|pc|in)*)(?:\\\\/(normal|\" + fabric.reNum + \"))?\\\\s+(.*)\");\n    extend(fabric, {\n        parseFontDeclaration: function(value, oStyle) {\n            var match = value.match(reFontDeclaration);\n            if (!match) {\n                return;\n            }\n            var fontStyle = match[1], fontWeight = match[3], fontSize = match[4], lineHeight = match[5], fontFamily = match[6];\n            if (fontStyle) {\n                oStyle.fontStyle = fontStyle;\n            }\n            if (fontWeight) {\n                oStyle.fontWeight = isNaN(parseFloat(fontWeight)) ? fontWeight : parseFloat(fontWeight);\n            }\n            if (fontSize) {\n                oStyle.fontSize = parseUnit(fontSize);\n            }\n            if (fontFamily) {\n                oStyle.fontFamily = fontFamily;\n            }\n            if (lineHeight) {\n                oStyle.lineHeight = lineHeight === \"normal\" ? 1 : lineHeight;\n            }\n        },\n        getGradientDefs: function(doc) {\n            var tagArray = [ \"linearGradient\", \"radialGradient\", \"svg:linearGradient\", \"svg:radialGradient\" ], elList = _getMultipleNodes(doc, tagArray), el, j = 0, id, xlink, gradientDefs = {}, idsToXlinkMap = {};\n            j = elList.length;\n            while (j--) {\n                el = elList[j];\n                xlink = el.getAttribute(\"xlink:href\");\n                id = el.getAttribute(\"id\");\n                if (xlink) {\n                    idsToXlinkMap[id] = xlink.substr(1);\n                }\n                gradientDefs[id] = el;\n            }\n            for (id in idsToXlinkMap) {\n                var el2 = gradientDefs[idsToXlinkMap[id]].cloneNode(true);\n                el = gradientDefs[id];\n                while (el2.firstChild) {\n                    el.appendChild(el2.firstChild);\n                }\n            }\n            return gradientDefs;\n        },\n        parseAttributes: function(element, attributes, svgUid) {\n            if (!element) {\n                return;\n            }\n            var value, parentAttributes = {}, fontSize;\n            if (typeof svgUid === \"undefined\") {\n                svgUid = element.getAttribute(\"svgUid\");\n            }\n            if (element.parentNode && fabric.svgValidParentsRegEx.test(element.parentNode.nodeName)) {\n                parentAttributes = fabric.parseAttributes(element.parentNode, attributes, svgUid);\n            }\n            fontSize = parentAttributes && parentAttributes.fontSize || element.getAttribute(\"font-size\") || fabric.Text.DEFAULT_SVG_FONT_SIZE;\n            var ownAttributes = attributes.reduce(function(memo, attr) {\n                value = element.getAttribute(attr);\n                if (value) {\n                    memo[attr] = value;\n                }\n                return memo;\n            }, {});\n            ownAttributes = extend(ownAttributes, extend(getGlobalStylesForElement(element, svgUid), fabric.parseStyleAttribute(element)));\n            var normalizedAttr, normalizedValue, normalizedStyle = {};\n            for (var attr in ownAttributes) {\n                normalizedAttr = normalizeAttr(attr);\n                normalizedValue = normalizeValue(normalizedAttr, ownAttributes[attr], parentAttributes, fontSize);\n                normalizedStyle[normalizedAttr] = normalizedValue;\n            }\n            if (normalizedStyle && normalizedStyle.font) {\n                fabric.parseFontDeclaration(normalizedStyle.font, normalizedStyle);\n            }\n            var mergedAttrs = extend(parentAttributes, normalizedStyle);\n            return fabric.svgValidParentsRegEx.test(element.nodeName) ? mergedAttrs : _setStrokeFillOpacity(mergedAttrs);\n        },\n        parseElements: function(elements, callback, options, reviver, parsingOptions) {\n            new fabric.ElementsParser(elements, callback, options, reviver, parsingOptions).parse();\n        },\n        parseStyleAttribute: function(element) {\n            var oStyle = {}, style = element.getAttribute(\"style\");\n            if (!style) {\n                return oStyle;\n            }\n            if (typeof style === \"string\") {\n                parseStyleString(style, oStyle);\n            } else {\n                parseStyleObject(style, oStyle);\n            }\n            return oStyle;\n        },\n        parsePointsAttribute: function(points) {\n            if (!points) {\n                return null;\n            }\n            points = points.replace(/,/g, \" \").trim();\n            points = points.split(/\\s+/);\n            var parsedPoints = [], i, len;\n            for (i = 0, len = points.length; i < len; i += 2) {\n                parsedPoints.push({\n                    x: parseFloat(points[i]),\n                    y: parseFloat(points[i + 1])\n                });\n            }\n            return parsedPoints;\n        },\n        getCSSRules: function(doc) {\n            var styles = doc.getElementsByTagName(\"style\"), i, len, allRules = {}, rules;\n            for (i = 0, len = styles.length; i < len; i++) {\n                var styleContents = styles[i].textContent || styles[i].text;\n                styleContents = styleContents.replace(/\\/\\*[\\s\\S]*?\\*\\//g, \"\");\n                if (styleContents.trim() === \"\") {\n                    continue;\n                }\n                rules = styleContents.match(/[^{]*\\{[\\s\\S]*?\\}/g);\n                rules = rules.map(function(rule) {\n                    return rule.trim();\n                });\n                rules.forEach(function(rule) {\n                    var match = rule.match(/([\\s\\S]*?)\\s*\\{([^}]*)\\}/), ruleObj = {}, declaration = match[2].trim(), propertyValuePairs = declaration.replace(/;$/, \"\").split(/\\s*;\\s*/);\n                    for (i = 0, len = propertyValuePairs.length; i < len; i++) {\n                        var pair = propertyValuePairs[i].split(/\\s*:\\s*/), property = pair[0], value = pair[1];\n                        ruleObj[property] = value;\n                    }\n                    rule = match[1];\n                    rule.split(\",\").forEach(function(_rule) {\n                        _rule = _rule.replace(/^svg/i, \"\").trim();\n                        if (_rule === \"\") {\n                            return;\n                        }\n                        if (allRules[_rule]) {\n                            fabric.util.object.extend(allRules[_rule], ruleObj);\n                        } else {\n                            allRules[_rule] = fabric.util.object.clone(ruleObj);\n                        }\n                    });\n                });\n            }\n            return allRules;\n        },\n        loadSVGFromURL: function(url, callback, reviver, options) {\n            url = url.replace(/^\\n\\s*/, \"\").trim();\n            new fabric.util.request(url, {\n                method: \"get\",\n                onComplete: onComplete\n            });\n            function onComplete(r) {\n                var xml = r.responseXML;\n                if (xml && !xml.documentElement && fabric.window.ActiveXObject && r.responseText) {\n                    xml = new ActiveXObject(\"Microsoft.XMLDOM\");\n                    xml.async = \"false\";\n                    xml.loadXML(r.responseText.replace(/<!DOCTYPE[\\s\\S]*?(\\[[\\s\\S]*\\])*?>/i, \"\"));\n                }\n                if (!xml || !xml.documentElement) {\n                    callback && callback(null);\n                }\n                fabric.parseSVGDocument(xml.documentElement, function(results, _options, elements, allElements) {\n                    callback && callback(results, _options, elements, allElements);\n                }, reviver, options);\n            }\n        },\n        loadSVGFromString: function(string, callback, reviver, options) {\n            string = string.trim();\n            var doc;\n            if (typeof DOMParser !== \"undefined\") {\n                var parser = new DOMParser();\n                if (parser && parser.parseFromString) {\n                    doc = parser.parseFromString(string, \"text/xml\");\n                }\n            } else if (fabric.window.ActiveXObject) {\n                doc = new ActiveXObject(\"Microsoft.XMLDOM\");\n                doc.async = \"false\";\n                doc.loadXML(string.replace(/<!DOCTYPE[\\s\\S]*?(\\[[\\s\\S]*\\])*?>/i, \"\"));\n            }\n            fabric.parseSVGDocument(doc.documentElement, function(results, _options, elements, allElements) {\n                callback(results, _options, elements, allElements);\n            }, reviver, options);\n        }\n    });\n})(typeof exports !== \"undefined\" ? exports : this);\n\nfabric.ElementsParser = function(elements, callback, options, reviver, parsingOptions) {\n    this.elements = elements;\n    this.callback = callback;\n    this.options = options;\n    this.reviver = reviver;\n    this.svgUid = options && options.svgUid || 0;\n    this.parsingOptions = parsingOptions;\n    this.regexUrl = /^url\\(['\"]?#([^'\"]+)['\"]?\\)/g;\n};\n\nfabric.ElementsParser.prototype.parse = function() {\n    this.instances = new Array(this.elements.length);\n    this.numElements = this.elements.length;\n    this.createObjects();\n};\n\nfabric.ElementsParser.prototype.createObjects = function() {\n    for (var i = 0, len = this.elements.length; i < len; i++) {\n        this.elements[i].setAttribute(\"svgUid\", this.svgUid);\n        (function(_obj, i) {\n            setTimeout(function() {\n                _obj.createObject(_obj.elements[i], i);\n            }, 0);\n        })(this, i);\n    }\n};\n\nfabric.ElementsParser.prototype.createObject = function(el, index) {\n    var klass = fabric[fabric.util.string.capitalize(el.tagName.replace(\"svg:\", \"\"))];\n    if (klass && klass.fromElement) {\n        try {\n            this._createObject(klass, el, index);\n        } catch (err) {\n            fabric.log(err);\n        }\n    } else {\n        this.checkIfDone();\n    }\n};\n\nfabric.ElementsParser.prototype._createObject = function(klass, el, index) {\n    klass.fromElement(el, this.createCallback(index, el), this.options);\n};\n\nfabric.ElementsParser.prototype.createCallback = function(index, el) {\n    var _this = this;\n    return function(obj) {\n        var _options;\n        _this.resolveGradient(obj, \"fill\");\n        _this.resolveGradient(obj, \"stroke\");\n        if (obj instanceof fabric.Image) {\n            _options = obj.parsePreserveAspectRatioAttribute(el);\n        }\n        obj._removeTransformMatrix(_options);\n        _this.reviver && _this.reviver(el, obj);\n        _this.instances[index] = obj;\n        _this.checkIfDone();\n    };\n};\n\nfabric.ElementsParser.prototype.resolveGradient = function(obj, property) {\n    var instanceFillValue = obj[property];\n    if (!/^url\\(/.test(instanceFillValue)) {\n        return;\n    }\n    var gradientId = this.regexUrl.exec(instanceFillValue)[1];\n    this.regexUrl.lastIndex = 0;\n    if (fabric.gradientDefs[this.svgUid][gradientId]) {\n        obj.set(property, fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][gradientId], obj));\n    }\n};\n\nfabric.ElementsParser.prototype.checkIfDone = function() {\n    if (--this.numElements === 0) {\n        this.instances = this.instances.filter(function(el) {\n            return el != null;\n        });\n        this.callback(this.instances, this.elements);\n    }\n};\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {});\n    if (fabric.Point) {\n        fabric.warn(\"fabric.Point is already defined\");\n        return;\n    }\n    fabric.Point = Point;\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    Point.prototype = {\n        type: \"point\",\n        constructor: Point,\n        add: function(that) {\n            return new Point(this.x + that.x, this.y + that.y);\n        },\n        addEquals: function(that) {\n            this.x += that.x;\n            this.y += that.y;\n            return this;\n        },\n        scalarAdd: function(scalar) {\n            return new Point(this.x + scalar, this.y + scalar);\n        },\n        scalarAddEquals: function(scalar) {\n            this.x += scalar;\n            this.y += scalar;\n            return this;\n        },\n        subtract: function(that) {\n            return new Point(this.x - that.x, this.y - that.y);\n        },\n        subtractEquals: function(that) {\n            this.x -= that.x;\n            this.y -= that.y;\n            return this;\n        },\n        scalarSubtract: function(scalar) {\n            return new Point(this.x - scalar, this.y - scalar);\n        },\n        scalarSubtractEquals: function(scalar) {\n            this.x -= scalar;\n            this.y -= scalar;\n            return this;\n        },\n        multiply: function(scalar) {\n            return new Point(this.x * scalar, this.y * scalar);\n        },\n        multiplyEquals: function(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            return this;\n        },\n        divide: function(scalar) {\n            return new Point(this.x / scalar, this.y / scalar);\n        },\n        divideEquals: function(scalar) {\n            this.x /= scalar;\n            this.y /= scalar;\n            return this;\n        },\n        eq: function(that) {\n            return this.x === that.x && this.y === that.y;\n        },\n        lt: function(that) {\n            return this.x < that.x && this.y < that.y;\n        },\n        lte: function(that) {\n            return this.x <= that.x && this.y <= that.y;\n        },\n        gt: function(that) {\n            return this.x > that.x && this.y > that.y;\n        },\n        gte: function(that) {\n            return this.x >= that.x && this.y >= that.y;\n        },\n        lerp: function(that, t) {\n            if (typeof t === \"undefined\") {\n                t = .5;\n            }\n            t = Math.max(Math.min(1, t), 0);\n            return new Point(this.x + (that.x - this.x) * t, this.y + (that.y - this.y) * t);\n        },\n        distanceFrom: function(that) {\n            var dx = this.x - that.x, dy = this.y - that.y;\n            return Math.sqrt(dx * dx + dy * dy);\n        },\n        midPointFrom: function(that) {\n            return this.lerp(that);\n        },\n        min: function(that) {\n            return new Point(Math.min(this.x, that.x), Math.min(this.y, that.y));\n        },\n        max: function(that) {\n            return new Point(Math.max(this.x, that.x), Math.max(this.y, that.y));\n        },\n        toString: function() {\n            return this.x + \",\" + this.y;\n        },\n        setXY: function(x, y) {\n            this.x = x;\n            this.y = y;\n            return this;\n        },\n        setX: function(x) {\n            this.x = x;\n            return this;\n        },\n        setY: function(y) {\n            this.y = y;\n            return this;\n        },\n        setFromPoint: function(that) {\n            this.x = that.x;\n            this.y = that.y;\n            return this;\n        },\n        swap: function(that) {\n            var x = this.x, y = this.y;\n            this.x = that.x;\n            this.y = that.y;\n            that.x = x;\n            that.y = y;\n        },\n        clone: function() {\n            return new Point(this.x, this.y);\n        }\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {});\n    if (fabric.Intersection) {\n        fabric.warn(\"fabric.Intersection is already defined\");\n        return;\n    }\n    function Intersection(status) {\n        this.status = status;\n        this.points = [];\n    }\n    fabric.Intersection = Intersection;\n    fabric.Intersection.prototype = {\n        constructor: Intersection,\n        appendPoint: function(point) {\n            this.points.push(point);\n            return this;\n        },\n        appendPoints: function(points) {\n            this.points = this.points.concat(points);\n            return this;\n        }\n    };\n    fabric.Intersection.intersectLineLine = function(a1, a2, b1, b2) {\n        var result, uaT = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x), ubT = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x), uB = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\n        if (uB !== 0) {\n            var ua = uaT / uB, ub = ubT / uB;\n            if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\n                result = new Intersection(\"Intersection\");\n                result.appendPoint(new fabric.Point(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y)));\n            } else {\n                result = new Intersection();\n            }\n        } else {\n            if (uaT === 0 || ubT === 0) {\n                result = new Intersection(\"Coincident\");\n            } else {\n                result = new Intersection(\"Parallel\");\n            }\n        }\n        return result;\n    };\n    fabric.Intersection.intersectLinePolygon = function(a1, a2, points) {\n        var result = new Intersection(), length = points.length, b1, b2, inter, i;\n        for (i = 0; i < length; i++) {\n            b1 = points[i];\n            b2 = points[(i + 1) % length];\n            inter = Intersection.intersectLineLine(a1, a2, b1, b2);\n            result.appendPoints(inter.points);\n        }\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n        return result;\n    };\n    fabric.Intersection.intersectPolygonPolygon = function(points1, points2) {\n        var result = new Intersection(), length = points1.length, i;\n        for (i = 0; i < length; i++) {\n            var a1 = points1[i], a2 = points1[(i + 1) % length], inter = Intersection.intersectLinePolygon(a1, a2, points2);\n            result.appendPoints(inter.points);\n        }\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n        return result;\n    };\n    fabric.Intersection.intersectPolygonRectangle = function(points, r1, r2) {\n        var min = r1.min(r2), max = r1.max(r2), topRight = new fabric.Point(max.x, min.y), bottomLeft = new fabric.Point(min.x, max.y), inter1 = Intersection.intersectLinePolygon(min, topRight, points), inter2 = Intersection.intersectLinePolygon(topRight, max, points), inter3 = Intersection.intersectLinePolygon(max, bottomLeft, points), inter4 = Intersection.intersectLinePolygon(bottomLeft, min, points), result = new Intersection();\n        result.appendPoints(inter1.points);\n        result.appendPoints(inter2.points);\n        result.appendPoints(inter3.points);\n        result.appendPoints(inter4.points);\n        if (result.points.length > 0) {\n            result.status = \"Intersection\";\n        }\n        return result;\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {});\n    if (fabric.Color) {\n        fabric.warn(\"fabric.Color is already defined.\");\n        return;\n    }\n    function Color(color) {\n        if (!color) {\n            this.setSource([ 0, 0, 0, 1 ]);\n        } else {\n            this._tryParsingColor(color);\n        }\n    }\n    fabric.Color = Color;\n    fabric.Color.prototype = {\n        _tryParsingColor: function(color) {\n            var source;\n            if (color in Color.colorNameMap) {\n                color = Color.colorNameMap[color];\n            }\n            if (color === \"transparent\") {\n                source = [ 255, 255, 255, 0 ];\n            }\n            if (!source) {\n                source = Color.sourceFromHex(color);\n            }\n            if (!source) {\n                source = Color.sourceFromRgb(color);\n            }\n            if (!source) {\n                source = Color.sourceFromHsl(color);\n            }\n            if (!source) {\n                source = [ 0, 0, 0, 1 ];\n            }\n            if (source) {\n                this.setSource(source);\n            }\n        },\n        _rgbToHsl: function(r, g, b) {\n            r /= 255;\n            g /= 255;\n            b /= 255;\n            var h, s, l, max = fabric.util.array.max([ r, g, b ]), min = fabric.util.array.min([ r, g, b ]);\n            l = (max + min) / 2;\n            if (max === min) {\n                h = s = 0;\n            } else {\n                var d = max - min;\n                s = l > .5 ? d / (2 - max - min) : d / (max + min);\n                switch (max) {\n                  case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n\n                  case g:\n                    h = (b - r) / d + 2;\n                    break;\n\n                  case b:\n                    h = (r - g) / d + 4;\n                    break;\n                }\n                h /= 6;\n            }\n            return [ Math.round(h * 360), Math.round(s * 100), Math.round(l * 100) ];\n        },\n        getSource: function() {\n            return this._source;\n        },\n        setSource: function(source) {\n            this._source = source;\n        },\n        toRgb: function() {\n            var source = this.getSource();\n            return \"rgb(\" + source[0] + \",\" + source[1] + \",\" + source[2] + \")\";\n        },\n        toRgba: function() {\n            var source = this.getSource();\n            return \"rgba(\" + source[0] + \",\" + source[1] + \",\" + source[2] + \",\" + source[3] + \")\";\n        },\n        toHsl: function() {\n            var source = this.getSource(), hsl = this._rgbToHsl(source[0], source[1], source[2]);\n            return \"hsl(\" + hsl[0] + \",\" + hsl[1] + \"%,\" + hsl[2] + \"%)\";\n        },\n        toHsla: function() {\n            var source = this.getSource(), hsl = this._rgbToHsl(source[0], source[1], source[2]);\n            return \"hsla(\" + hsl[0] + \",\" + hsl[1] + \"%,\" + hsl[2] + \"%,\" + source[3] + \")\";\n        },\n        toHex: function() {\n            var source = this.getSource(), r, g, b;\n            r = source[0].toString(16);\n            r = r.length === 1 ? \"0\" + r : r;\n            g = source[1].toString(16);\n            g = g.length === 1 ? \"0\" + g : g;\n            b = source[2].toString(16);\n            b = b.length === 1 ? \"0\" + b : b;\n            return r.toUpperCase() + g.toUpperCase() + b.toUpperCase();\n        },\n        toHexa: function() {\n            var source = this.getSource(), a;\n            a = Math.round(source[3] * 255);\n            a = a.toString(16);\n            a = a.length === 1 ? \"0\" + a : a;\n            return this.toHex() + a.toUpperCase();\n        },\n        getAlpha: function() {\n            return this.getSource()[3];\n        },\n        setAlpha: function(alpha) {\n            var source = this.getSource();\n            source[3] = alpha;\n            this.setSource(source);\n            return this;\n        },\n        toGrayscale: function() {\n            var source = this.getSource(), average = parseInt((source[0] * .3 + source[1] * .59 + source[2] * .11).toFixed(0), 10), currentAlpha = source[3];\n            this.setSource([ average, average, average, currentAlpha ]);\n            return this;\n        },\n        toBlackWhite: function(threshold) {\n            var source = this.getSource(), average = (source[0] * .3 + source[1] * .59 + source[2] * .11).toFixed(0), currentAlpha = source[3];\n            threshold = threshold || 127;\n            average = Number(average) < Number(threshold) ? 0 : 255;\n            this.setSource([ average, average, average, currentAlpha ]);\n            return this;\n        },\n        overlayWith: function(otherColor) {\n            if (!(otherColor instanceof Color)) {\n                otherColor = new Color(otherColor);\n            }\n            var result = [], alpha = this.getAlpha(), otherAlpha = .5, source = this.getSource(), otherSource = otherColor.getSource(), i;\n            for (i = 0; i < 3; i++) {\n                result.push(Math.round(source[i] * (1 - otherAlpha) + otherSource[i] * otherAlpha));\n            }\n            result[3] = alpha;\n            this.setSource(result);\n            return this;\n        }\n    };\n    fabric.Color.reRGBa = /^rgba?\\(\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*(?:\\s*,\\s*((?:\\d*\\.?\\d+)?)\\s*)?\\)$/;\n    fabric.Color.reHSLa = /^hsla?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}\\%)\\s*,\\s*(\\d{1,3}\\%)\\s*(?:\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/;\n    fabric.Color.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\n    fabric.Color.colorNameMap = {\n        aliceblue: \"#F0F8FF\",\n        antiquewhite: \"#FAEBD7\",\n        aqua: \"#00FFFF\",\n        aquamarine: \"#7FFFD4\",\n        azure: \"#F0FFFF\",\n        beige: \"#F5F5DC\",\n        bisque: \"#FFE4C4\",\n        black: \"#000000\",\n        blanchedalmond: \"#FFEBCD\",\n        blue: \"#0000FF\",\n        blueviolet: \"#8A2BE2\",\n        brown: \"#A52A2A\",\n        burlywood: \"#DEB887\",\n        cadetblue: \"#5F9EA0\",\n        chartreuse: \"#7FFF00\",\n        chocolate: \"#D2691E\",\n        coral: \"#FF7F50\",\n        cornflowerblue: \"#6495ED\",\n        cornsilk: \"#FFF8DC\",\n        crimson: \"#DC143C\",\n        cyan: \"#00FFFF\",\n        darkblue: \"#00008B\",\n        darkcyan: \"#008B8B\",\n        darkgoldenrod: \"#B8860B\",\n        darkgray: \"#A9A9A9\",\n        darkgrey: \"#A9A9A9\",\n        darkgreen: \"#006400\",\n        darkkhaki: \"#BDB76B\",\n        darkmagenta: \"#8B008B\",\n        darkolivegreen: \"#556B2F\",\n        darkorange: \"#FF8C00\",\n        darkorchid: \"#9932CC\",\n        darkred: \"#8B0000\",\n        darksalmon: \"#E9967A\",\n        darkseagreen: \"#8FBC8F\",\n        darkslateblue: \"#483D8B\",\n        darkslategray: \"#2F4F4F\",\n        darkslategrey: \"#2F4F4F\",\n        darkturquoise: \"#00CED1\",\n        darkviolet: \"#9400D3\",\n        deeppink: \"#FF1493\",\n        deepskyblue: \"#00BFFF\",\n        dimgray: \"#696969\",\n        dimgrey: \"#696969\",\n        dodgerblue: \"#1E90FF\",\n        firebrick: \"#B22222\",\n        floralwhite: \"#FFFAF0\",\n        forestgreen: \"#228B22\",\n        fuchsia: \"#FF00FF\",\n        gainsboro: \"#DCDCDC\",\n        ghostwhite: \"#F8F8FF\",\n        gold: \"#FFD700\",\n        goldenrod: \"#DAA520\",\n        gray: \"#808080\",\n        grey: \"#808080\",\n        green: \"#008000\",\n        greenyellow: \"#ADFF2F\",\n        honeydew: \"#F0FFF0\",\n        hotpink: \"#FF69B4\",\n        indianred: \"#CD5C5C\",\n        indigo: \"#4B0082\",\n        ivory: \"#FFFFF0\",\n        khaki: \"#F0E68C\",\n        lavender: \"#E6E6FA\",\n        lavenderblush: \"#FFF0F5\",\n        lawngreen: \"#7CFC00\",\n        lemonchiffon: \"#FFFACD\",\n        lightblue: \"#ADD8E6\",\n        lightcoral: \"#F08080\",\n        lightcyan: \"#E0FFFF\",\n        lightgoldenrodyellow: \"#FAFAD2\",\n        lightgray: \"#D3D3D3\",\n        lightgrey: \"#D3D3D3\",\n        lightgreen: \"#90EE90\",\n        lightpink: \"#FFB6C1\",\n        lightsalmon: \"#FFA07A\",\n        lightseagreen: \"#20B2AA\",\n        lightskyblue: \"#87CEFA\",\n        lightslategray: \"#778899\",\n        lightslategrey: \"#778899\",\n        lightsteelblue: \"#B0C4DE\",\n        lightyellow: \"#FFFFE0\",\n        lime: \"#00FF00\",\n        limegreen: \"#32CD32\",\n        linen: \"#FAF0E6\",\n        magenta: \"#FF00FF\",\n        maroon: \"#800000\",\n        mediumaquamarine: \"#66CDAA\",\n        mediumblue: \"#0000CD\",\n        mediumorchid: \"#BA55D3\",\n        mediumpurple: \"#9370DB\",\n        mediumseagreen: \"#3CB371\",\n        mediumslateblue: \"#7B68EE\",\n        mediumspringgreen: \"#00FA9A\",\n        mediumturquoise: \"#48D1CC\",\n        mediumvioletred: \"#C71585\",\n        midnightblue: \"#191970\",\n        mintcream: \"#F5FFFA\",\n        mistyrose: \"#FFE4E1\",\n        moccasin: \"#FFE4B5\",\n        navajowhite: \"#FFDEAD\",\n        navy: \"#000080\",\n        oldlace: \"#FDF5E6\",\n        olive: \"#808000\",\n        olivedrab: \"#6B8E23\",\n        orange: \"#FFA500\",\n        orangered: \"#FF4500\",\n        orchid: \"#DA70D6\",\n        palegoldenrod: \"#EEE8AA\",\n        palegreen: \"#98FB98\",\n        paleturquoise: \"#AFEEEE\",\n        palevioletred: \"#DB7093\",\n        papayawhip: \"#FFEFD5\",\n        peachpuff: \"#FFDAB9\",\n        peru: \"#CD853F\",\n        pink: \"#FFC0CB\",\n        plum: \"#DDA0DD\",\n        powderblue: \"#B0E0E6\",\n        purple: \"#800080\",\n        rebeccapurple: \"#663399\",\n        red: \"#FF0000\",\n        rosybrown: \"#BC8F8F\",\n        royalblue: \"#4169E1\",\n        saddlebrown: \"#8B4513\",\n        salmon: \"#FA8072\",\n        sandybrown: \"#F4A460\",\n        seagreen: \"#2E8B57\",\n        seashell: \"#FFF5EE\",\n        sienna: \"#A0522D\",\n        silver: \"#C0C0C0\",\n        skyblue: \"#87CEEB\",\n        slateblue: \"#6A5ACD\",\n        slategray: \"#708090\",\n        slategrey: \"#708090\",\n        snow: \"#FFFAFA\",\n        springgreen: \"#00FF7F\",\n        steelblue: \"#4682B4\",\n        tan: \"#D2B48C\",\n        teal: \"#008080\",\n        thistle: \"#D8BFD8\",\n        tomato: \"#FF6347\",\n        turquoise: \"#40E0D0\",\n        violet: \"#EE82EE\",\n        wheat: \"#F5DEB3\",\n        white: \"#FFFFFF\",\n        whitesmoke: \"#F5F5F5\",\n        yellow: \"#FFFF00\",\n        yellowgreen: \"#9ACD32\"\n    };\n    function hue2rgb(p, q, t) {\n        if (t < 0) {\n            t += 1;\n        }\n        if (t > 1) {\n            t -= 1;\n        }\n        if (t < 1 / 6) {\n            return p + (q - p) * 6 * t;\n        }\n        if (t < 1 / 2) {\n            return q;\n        }\n        if (t < 2 / 3) {\n            return p + (q - p) * (2 / 3 - t) * 6;\n        }\n        return p;\n    }\n    fabric.Color.fromRgb = function(color) {\n        return Color.fromSource(Color.sourceFromRgb(color));\n    };\n    fabric.Color.sourceFromRgb = function(color) {\n        var match = color.match(Color.reRGBa);\n        if (match) {\n            var r = parseInt(match[1], 10) / (/%$/.test(match[1]) ? 100 : 1) * (/%$/.test(match[1]) ? 255 : 1), g = parseInt(match[2], 10) / (/%$/.test(match[2]) ? 100 : 1) * (/%$/.test(match[2]) ? 255 : 1), b = parseInt(match[3], 10) / (/%$/.test(match[3]) ? 100 : 1) * (/%$/.test(match[3]) ? 255 : 1);\n            return [ parseInt(r, 10), parseInt(g, 10), parseInt(b, 10), match[4] ? parseFloat(match[4]) : 1 ];\n        }\n    };\n    fabric.Color.fromRgba = Color.fromRgb;\n    fabric.Color.fromHsl = function(color) {\n        return Color.fromSource(Color.sourceFromHsl(color));\n    };\n    fabric.Color.sourceFromHsl = function(color) {\n        var match = color.match(Color.reHSLa);\n        if (!match) {\n            return;\n        }\n        var h = (parseFloat(match[1]) % 360 + 360) % 360 / 360, s = parseFloat(match[2]) / (/%$/.test(match[2]) ? 100 : 1), l = parseFloat(match[3]) / (/%$/.test(match[3]) ? 100 : 1), r, g, b;\n        if (s === 0) {\n            r = g = b = l;\n        } else {\n            var q = l <= .5 ? l * (s + 1) : l + s - l * s, p = l * 2 - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n        return [ Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), match[4] ? parseFloat(match[4]) : 1 ];\n    };\n    fabric.Color.fromHsla = Color.fromHsl;\n    fabric.Color.fromHex = function(color) {\n        return Color.fromSource(Color.sourceFromHex(color));\n    };\n    fabric.Color.sourceFromHex = function(color) {\n        if (color.match(Color.reHex)) {\n            var value = color.slice(color.indexOf(\"#\") + 1), isShortNotation = value.length === 3 || value.length === 4, isRGBa = value.length === 8 || value.length === 4, r = isShortNotation ? value.charAt(0) + value.charAt(0) : value.substring(0, 2), g = isShortNotation ? value.charAt(1) + value.charAt(1) : value.substring(2, 4), b = isShortNotation ? value.charAt(2) + value.charAt(2) : value.substring(4, 6), a = isRGBa ? isShortNotation ? value.charAt(3) + value.charAt(3) : value.substring(6, 8) : \"FF\";\n            return [ parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseFloat((parseInt(a, 16) / 255).toFixed(2)) ];\n        }\n    };\n    fabric.Color.fromSource = function(source) {\n        var oColor = new Color();\n        oColor.setSource(source);\n        return oColor;\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function() {\n    function getColorStop(el) {\n        var style = el.getAttribute(\"style\"), offset = el.getAttribute(\"offset\") || 0, color, colorAlpha, opacity, i;\n        offset = parseFloat(offset) / (/%$/.test(offset) ? 100 : 1);\n        offset = offset < 0 ? 0 : offset > 1 ? 1 : offset;\n        if (style) {\n            var keyValuePairs = style.split(/\\s*;\\s*/);\n            if (keyValuePairs[keyValuePairs.length - 1] === \"\") {\n                keyValuePairs.pop();\n            }\n            for (i = keyValuePairs.length; i--; ) {\n                var split = keyValuePairs[i].split(/\\s*:\\s*/), key = split[0].trim(), value = split[1].trim();\n                if (key === \"stop-color\") {\n                    color = value;\n                } else if (key === \"stop-opacity\") {\n                    opacity = value;\n                }\n            }\n        }\n        if (!color) {\n            color = el.getAttribute(\"stop-color\") || \"rgb(0,0,0)\";\n        }\n        if (!opacity) {\n            opacity = el.getAttribute(\"stop-opacity\");\n        }\n        color = new fabric.Color(color);\n        colorAlpha = color.getAlpha();\n        opacity = isNaN(parseFloat(opacity)) ? 1 : parseFloat(opacity);\n        opacity *= colorAlpha;\n        return {\n            offset: offset,\n            color: color.toRgb(),\n            opacity: opacity\n        };\n    }\n    function getLinearCoords(el) {\n        return {\n            x1: el.getAttribute(\"x1\") || 0,\n            y1: el.getAttribute(\"y1\") || 0,\n            x2: el.getAttribute(\"x2\") || \"100%\",\n            y2: el.getAttribute(\"y2\") || 0\n        };\n    }\n    function getRadialCoords(el) {\n        return {\n            x1: el.getAttribute(\"fx\") || el.getAttribute(\"cx\") || \"50%\",\n            y1: el.getAttribute(\"fy\") || el.getAttribute(\"cy\") || \"50%\",\n            r1: 0,\n            x2: el.getAttribute(\"cx\") || \"50%\",\n            y2: el.getAttribute(\"cy\") || \"50%\",\n            r2: el.getAttribute(\"r\") || \"50%\"\n        };\n    }\n    var clone = fabric.util.object.clone;\n    fabric.Gradient = fabric.util.createClass({\n        offsetX: 0,\n        offsetY: 0,\n        initialize: function(options) {\n            options || (options = {});\n            var coords = {};\n            this.id = fabric.Object.__uid++;\n            this.type = options.type || \"linear\";\n            coords = {\n                x1: options.coords.x1 || 0,\n                y1: options.coords.y1 || 0,\n                x2: options.coords.x2 || 0,\n                y2: options.coords.y2 || 0\n            };\n            if (this.type === \"radial\") {\n                coords.r1 = options.coords.r1 || 0;\n                coords.r2 = options.coords.r2 || 0;\n            }\n            this.coords = coords;\n            this.colorStops = options.colorStops.slice();\n            if (options.gradientTransform) {\n                this.gradientTransform = options.gradientTransform;\n            }\n            this.offsetX = options.offsetX || this.offsetX;\n            this.offsetY = options.offsetY || this.offsetY;\n        },\n        addColorStop: function(colorStops) {\n            for (var position in colorStops) {\n                var color = new fabric.Color(colorStops[position]);\n                this.colorStops.push({\n                    offset: parseFloat(position),\n                    color: color.toRgb(),\n                    opacity: color.getAlpha()\n                });\n            }\n            return this;\n        },\n        toObject: function(propertiesToInclude) {\n            var object = {\n                type: this.type,\n                coords: this.coords,\n                colorStops: this.colorStops,\n                offsetX: this.offsetX,\n                offsetY: this.offsetY,\n                gradientTransform: this.gradientTransform ? this.gradientTransform.concat() : this.gradientTransform\n            };\n            fabric.util.populateWithProperties(this, object, propertiesToInclude);\n            return object;\n        },\n        toSVG: function(object) {\n            var coords = clone(this.coords, true), i, len, markup, commonAttributes, colorStops = clone(this.colorStops, true), needsSwap = coords.r1 > coords.r2, offsetX = object.width / 2, offsetY = object.height / 2;\n            colorStops.sort(function(a, b) {\n                return a.offset - b.offset;\n            });\n            if (object.type === \"path\") {\n                offsetX -= object.pathOffset.x;\n                offsetY -= object.pathOffset.y;\n            }\n            for (var prop in coords) {\n                if (prop === \"x1\" || prop === \"x2\") {\n                    coords[prop] += this.offsetX - offsetX;\n                } else if (prop === \"y1\" || prop === \"y2\") {\n                    coords[prop] += this.offsetY - offsetY;\n                }\n            }\n            commonAttributes = 'id=\"SVGID_' + this.id + '\" gradientUnits=\"userSpaceOnUse\"';\n            if (this.gradientTransform) {\n                commonAttributes += ' gradientTransform=\"matrix(' + this.gradientTransform.join(\" \") + ')\" ';\n            }\n            if (this.type === \"linear\") {\n                markup = [ \"<linearGradient \", commonAttributes, ' x1=\"', coords.x1, '\" y1=\"', coords.y1, '\" x2=\"', coords.x2, '\" y2=\"', coords.y2, '\">\\n' ];\n            } else if (this.type === \"radial\") {\n                markup = [ \"<radialGradient \", commonAttributes, ' cx=\"', needsSwap ? coords.x1 : coords.x2, '\" cy=\"', needsSwap ? coords.y1 : coords.y2, '\" r=\"', needsSwap ? coords.r1 : coords.r2, '\" fx=\"', needsSwap ? coords.x2 : coords.x1, '\" fy=\"', needsSwap ? coords.y2 : coords.y1, '\">\\n' ];\n            }\n            if (this.type === \"radial\") {\n                if (needsSwap) {\n                    colorStops = colorStops.concat();\n                    colorStops.reverse();\n                    for (i = 0, len = colorStops.length; i < len; i++) {\n                        colorStops[i].offset = 1 - colorStops[i].offset;\n                    }\n                }\n                var minRadius = Math.min(coords.r1, coords.r2);\n                if (minRadius > 0) {\n                    var maxRadius = Math.max(coords.r1, coords.r2), percentageShift = minRadius / maxRadius;\n                    for (i = 0, len = colorStops.length; i < len; i++) {\n                        colorStops[i].offset += percentageShift * (1 - colorStops[i].offset);\n                    }\n                }\n            }\n            for (i = 0, len = colorStops.length; i < len; i++) {\n                var colorStop = colorStops[i];\n                markup.push(\"<stop \", 'offset=\"', colorStop.offset * 100 + \"%\", '\" style=\"stop-color:', colorStop.color, typeof colorStop.opacity !== \"undefined\" ? \";stop-opacity: \" + colorStop.opacity : \";\", '\"/>\\n');\n            }\n            markup.push(this.type === \"linear\" ? \"</linearGradient>\\n\" : \"</radialGradient>\\n\");\n            return markup.join(\"\");\n        },\n        toLive: function(ctx) {\n            var gradient, coords = fabric.util.object.clone(this.coords), i, len;\n            if (!this.type) {\n                return;\n            }\n            if (this.type === \"linear\") {\n                gradient = ctx.createLinearGradient(coords.x1, coords.y1, coords.x2, coords.y2);\n            } else if (this.type === \"radial\") {\n                gradient = ctx.createRadialGradient(coords.x1, coords.y1, coords.r1, coords.x2, coords.y2, coords.r2);\n            }\n            for (i = 0, len = this.colorStops.length; i < len; i++) {\n                var color = this.colorStops[i].color, opacity = this.colorStops[i].opacity, offset = this.colorStops[i].offset;\n                if (typeof opacity !== \"undefined\") {\n                    color = new fabric.Color(color).setAlpha(opacity).toRgba();\n                }\n                gradient.addColorStop(offset, color);\n            }\n            return gradient;\n        }\n    });\n    fabric.util.object.extend(fabric.Gradient, {\n        fromElement: function(el, instance) {\n            var colorStopEls = el.getElementsByTagName(\"stop\"), type, gradientUnits = el.getAttribute(\"gradientUnits\") || \"objectBoundingBox\", gradientTransform = el.getAttribute(\"gradientTransform\"), colorStops = [], coords, ellipseMatrix, i;\n            if (el.nodeName === \"linearGradient\" || el.nodeName === \"LINEARGRADIENT\") {\n                type = \"linear\";\n            } else {\n                type = \"radial\";\n            }\n            if (type === \"linear\") {\n                coords = getLinearCoords(el);\n            } else if (type === \"radial\") {\n                coords = getRadialCoords(el);\n            }\n            for (i = colorStopEls.length; i--; ) {\n                colorStops.push(getColorStop(colorStopEls[i]));\n            }\n            ellipseMatrix = _convertPercentUnitsToValues(instance, coords, gradientUnits);\n            var gradient = new fabric.Gradient({\n                type: type,\n                coords: coords,\n                colorStops: colorStops,\n                offsetX: -instance.left,\n                offsetY: -instance.top\n            });\n            if (gradientTransform || ellipseMatrix !== \"\") {\n                gradient.gradientTransform = fabric.parseTransformAttribute((gradientTransform || \"\") + ellipseMatrix);\n            }\n            return gradient;\n        },\n        forObject: function(obj, options) {\n            options || (options = {});\n            _convertPercentUnitsToValues(obj, options.coords, \"userSpaceOnUse\");\n            return new fabric.Gradient(options);\n        }\n    });\n    function _convertPercentUnitsToValues(object, options, gradientUnits) {\n        var propValue, addFactor = 0, multFactor = 1, ellipseMatrix = \"\";\n        for (var prop in options) {\n            if (options[prop] === \"Infinity\") {\n                options[prop] = 1;\n            } else if (options[prop] === \"-Infinity\") {\n                options[prop] = 0;\n            }\n            propValue = parseFloat(options[prop], 10);\n            if (typeof options[prop] === \"string\" && /^(\\d+\\.\\d+)%|(\\d+)%$/.test(options[prop])) {\n                multFactor = .01;\n            } else {\n                multFactor = 1;\n            }\n            if (prop === \"x1\" || prop === \"x2\" || prop === \"r2\") {\n                multFactor *= gradientUnits === \"objectBoundingBox\" ? object.width : 1;\n                addFactor = gradientUnits === \"objectBoundingBox\" ? object.left || 0 : 0;\n            } else if (prop === \"y1\" || prop === \"y2\") {\n                multFactor *= gradientUnits === \"objectBoundingBox\" ? object.height : 1;\n                addFactor = gradientUnits === \"objectBoundingBox\" ? object.top || 0 : 0;\n            }\n            options[prop] = propValue * multFactor + addFactor;\n        }\n        if (object.type === \"ellipse\" && options.r2 !== null && gradientUnits === \"objectBoundingBox\" && object.rx !== object.ry) {\n            var scaleFactor = object.ry / object.rx;\n            ellipseMatrix = \" scale(1, \" + scaleFactor + \")\";\n            if (options.y1) {\n                options.y1 /= scaleFactor;\n            }\n            if (options.y2) {\n                options.y2 /= scaleFactor;\n            }\n        }\n        return ellipseMatrix;\n    }\n})();\n\n(function() {\n    \"use strict\";\n    var toFixed = fabric.util.toFixed;\n    fabric.Pattern = fabric.util.createClass({\n        repeat: \"repeat\",\n        offsetX: 0,\n        offsetY: 0,\n        crossOrigin: \"\",\n        patternTransform: null,\n        initialize: function(options, callback) {\n            options || (options = {});\n            this.id = fabric.Object.__uid++;\n            this.setOptions(options);\n            if (!options.source || options.source && typeof options.source !== \"string\") {\n                callback && callback(this);\n                return;\n            }\n            if (typeof fabric.util.getFunctionBody(options.source) !== \"undefined\") {\n                this.source = new Function(fabric.util.getFunctionBody(options.source));\n                callback && callback(this);\n            } else {\n                var _this = this;\n                this.source = fabric.util.createImage();\n                fabric.util.loadImage(options.source, function(img) {\n                    _this.source = img;\n                    callback && callback(_this);\n                }, null, this.crossOrigin);\n            }\n        },\n        toObject: function(propertiesToInclude) {\n            var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS, source, object;\n            if (typeof this.source === \"function\") {\n                source = String(this.source);\n            } else if (typeof this.source.src === \"string\") {\n                source = this.source.src;\n            } else if (typeof this.source === \"object\" && this.source.toDataURL) {\n                source = this.source.toDataURL();\n            }\n            object = {\n                type: \"pattern\",\n                source: source,\n                repeat: this.repeat,\n                crossOrigin: this.crossOrigin,\n                offsetX: toFixed(this.offsetX, NUM_FRACTION_DIGITS),\n                offsetY: toFixed(this.offsetY, NUM_FRACTION_DIGITS),\n                patternTransform: this.patternTransform ? this.patternTransform.concat() : null\n            };\n            fabric.util.populateWithProperties(this, object, propertiesToInclude);\n            return object;\n        },\n        toSVG: function(object) {\n            var patternSource = typeof this.source === \"function\" ? this.source() : this.source, patternWidth = patternSource.width / object.width, patternHeight = patternSource.height / object.height, patternOffsetX = this.offsetX / object.width, patternOffsetY = this.offsetY / object.height, patternImgSrc = \"\";\n            if (this.repeat === \"repeat-x\" || this.repeat === \"no-repeat\") {\n                patternHeight = 1;\n            }\n            if (this.repeat === \"repeat-y\" || this.repeat === \"no-repeat\") {\n                patternWidth = 1;\n            }\n            if (patternSource.src) {\n                patternImgSrc = patternSource.src;\n            } else if (patternSource.toDataURL) {\n                patternImgSrc = patternSource.toDataURL();\n            }\n            return '<pattern id=\"SVGID_' + this.id + '\" x=\"' + patternOffsetX + '\" y=\"' + patternOffsetY + '\" width=\"' + patternWidth + '\" height=\"' + patternHeight + '\">\\n' + '<image x=\"0\" y=\"0\"' + ' width=\"' + patternSource.width + '\" height=\"' + patternSource.height + '\" xlink:href=\"' + patternImgSrc + '\"></image>\\n' + \"</pattern>\\n\";\n        },\n        setOptions: function(options) {\n            for (var prop in options) {\n                this[prop] = options[prop];\n            }\n        },\n        toLive: function(ctx) {\n            var source = typeof this.source === \"function\" ? this.source() : this.source;\n            if (!source) {\n                return \"\";\n            }\n            if (typeof source.src !== \"undefined\") {\n                if (!source.complete) {\n                    return \"\";\n                }\n                if (source.naturalWidth === 0 || source.naturalHeight === 0) {\n                    return \"\";\n                }\n            }\n            return ctx.createPattern(source, this.repeat);\n        }\n    });\n})();\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), toFixed = fabric.util.toFixed;\n    if (fabric.Shadow) {\n        fabric.warn(\"fabric.Shadow is already defined.\");\n        return;\n    }\n    fabric.Shadow = fabric.util.createClass({\n        color: \"rgb(0,0,0)\",\n        blur: 0,\n        offsetX: 0,\n        offsetY: 0,\n        affectStroke: false,\n        includeDefaultValues: true,\n        initialize: function(options) {\n            if (typeof options === \"string\") {\n                options = this._parseShadow(options);\n            }\n            for (var prop in options) {\n                this[prop] = options[prop];\n            }\n            this.id = fabric.Object.__uid++;\n        },\n        _parseShadow: function(shadow) {\n            var shadowStr = shadow.trim(), offsetsAndBlur = fabric.Shadow.reOffsetsAndBlur.exec(shadowStr) || [], color = shadowStr.replace(fabric.Shadow.reOffsetsAndBlur, \"\") || \"rgb(0,0,0)\";\n            return {\n                color: color.trim(),\n                offsetX: parseInt(offsetsAndBlur[1], 10) || 0,\n                offsetY: parseInt(offsetsAndBlur[2], 10) || 0,\n                blur: parseInt(offsetsAndBlur[3], 10) || 0\n            };\n        },\n        toString: function() {\n            return [ this.offsetX, this.offsetY, this.blur, this.color ].join(\"px \");\n        },\n        toSVG: function(object) {\n            var fBoxX = 40, fBoxY = 40, NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS, offset = fabric.util.rotateVector({\n                x: this.offsetX,\n                y: this.offsetY\n            }, fabric.util.degreesToRadians(-object.angle)), BLUR_BOX = 20;\n            if (object.width && object.height) {\n                fBoxX = toFixed((Math.abs(offset.x) + this.blur) / object.width, NUM_FRACTION_DIGITS) * 100 + BLUR_BOX;\n                fBoxY = toFixed((Math.abs(offset.y) + this.blur) / object.height, NUM_FRACTION_DIGITS) * 100 + BLUR_BOX;\n            }\n            if (object.flipX) {\n                offset.x *= -1;\n            }\n            if (object.flipY) {\n                offset.y *= -1;\n            }\n            return '<filter id=\"SVGID_' + this.id + '\" y=\"-' + fBoxY + '%\" height=\"' + (100 + 2 * fBoxY) + '%\" ' + 'x=\"-' + fBoxX + '%\" width=\"' + (100 + 2 * fBoxX) + '%\" ' + \">\\n\" + '\\t<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"' + toFixed(this.blur ? this.blur / 2 : 0, NUM_FRACTION_DIGITS) + '\"></feGaussianBlur>\\n' + '\\t<feOffset dx=\"' + toFixed(offset.x, NUM_FRACTION_DIGITS) + '\" dy=\"' + toFixed(offset.y, NUM_FRACTION_DIGITS) + '\" result=\"oBlur\" ></feOffset>\\n' + '\\t<feFlood flood-color=\"' + this.color + '\"/>\\n' + '\\t<feComposite in2=\"oBlur\" operator=\"in\" />\\n' + \"\\t<feMerge>\\n\" + \"\\t\\t<feMergeNode></feMergeNode>\\n\" + '\\t\\t<feMergeNode in=\"SourceGraphic\"></feMergeNode>\\n' + \"\\t</feMerge>\\n\" + \"</filter>\\n\";\n        },\n        toObject: function() {\n            if (this.includeDefaultValues) {\n                return {\n                    color: this.color,\n                    blur: this.blur,\n                    offsetX: this.offsetX,\n                    offsetY: this.offsetY,\n                    affectStroke: this.affectStroke\n                };\n            }\n            var obj = {}, proto = fabric.Shadow.prototype;\n            [ \"color\", \"blur\", \"offsetX\", \"offsetY\", \"affectStroke\" ].forEach(function(prop) {\n                if (this[prop] !== proto[prop]) {\n                    obj[prop] = this[prop];\n                }\n            }, this);\n            return obj;\n        }\n    });\n    fabric.Shadow.reOffsetsAndBlur = /(?:\\s|^)(-?\\d+(?:px)?(?:\\s?|$))?(-?\\d+(?:px)?(?:\\s?|$))?(\\d+(?:px)?)?(?:\\s?|$)(?:$|\\s)/;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function() {\n    \"use strict\";\n    if (fabric.StaticCanvas) {\n        fabric.warn(\"fabric.StaticCanvas is already defined.\");\n        return;\n    }\n    var extend = fabric.util.object.extend, getElementOffset = fabric.util.getElementOffset, removeFromArray = fabric.util.removeFromArray, toFixed = fabric.util.toFixed, transformPoint = fabric.util.transformPoint, invertTransform = fabric.util.invertTransform, CANVAS_INIT_ERROR = new Error(\"Could not initialize `canvas` element\");\n    fabric.StaticCanvas = fabric.util.createClass(fabric.CommonMethods, {\n        initialize: function(el, options) {\n            options || (options = {});\n            this.renderAndResetBound = this.renderAndReset.bind(this);\n            this.requestRenderAllBound = this.requestRenderAll.bind(this);\n            this._initStatic(el, options);\n        },\n        backgroundColor: \"\",\n        backgroundImage: null,\n        overlayColor: \"\",\n        overlayImage: null,\n        includeDefaultValues: true,\n        stateful: false,\n        renderOnAddRemove: true,\n        clipTo: null,\n        controlsAboveOverlay: false,\n        allowTouchScrolling: false,\n        imageSmoothingEnabled: true,\n        viewportTransform: fabric.iMatrix.concat(),\n        backgroundVpt: true,\n        overlayVpt: true,\n        onBeforeScaleRotate: function() {},\n        enableRetinaScaling: true,\n        vptCoords: {},\n        skipOffscreen: true,\n        _initStatic: function(el, options) {\n            var cb = this.requestRenderAllBound;\n            this._objects = [];\n            this._createLowerCanvas(el);\n            this._initOptions(options);\n            this._setImageSmoothing();\n            if (!this.interactive) {\n                this._initRetinaScaling();\n            }\n            if (options.overlayImage) {\n                this.setOverlayImage(options.overlayImage, cb);\n            }\n            if (options.backgroundImage) {\n                this.setBackgroundImage(options.backgroundImage, cb);\n            }\n            if (options.backgroundColor) {\n                this.setBackgroundColor(options.backgroundColor, cb);\n            }\n            if (options.overlayColor) {\n                this.setOverlayColor(options.overlayColor, cb);\n            }\n            this.calcOffset();\n        },\n        _isRetinaScaling: function() {\n            return fabric.devicePixelRatio !== 1 && this.enableRetinaScaling;\n        },\n        getRetinaScaling: function() {\n            return this._isRetinaScaling() ? fabric.devicePixelRatio : 1;\n        },\n        _initRetinaScaling: function() {\n            if (!this._isRetinaScaling()) {\n                return;\n            }\n            this.lowerCanvasEl.setAttribute(\"width\", this.width * fabric.devicePixelRatio);\n            this.lowerCanvasEl.setAttribute(\"height\", this.height * fabric.devicePixelRatio);\n            this.contextContainer.scale(fabric.devicePixelRatio, fabric.devicePixelRatio);\n        },\n        calcOffset: function() {\n            this._offset = getElementOffset(this.lowerCanvasEl);\n            return this;\n        },\n        setOverlayImage: function(image, callback, options) {\n            return this.__setBgOverlayImage(\"overlayImage\", image, callback, options);\n        },\n        setBackgroundImage: function(image, callback, options) {\n            return this.__setBgOverlayImage(\"backgroundImage\", image, callback, options);\n        },\n        setOverlayColor: function(overlayColor, callback) {\n            return this.__setBgOverlayColor(\"overlayColor\", overlayColor, callback);\n        },\n        setBackgroundColor: function(backgroundColor, callback) {\n            return this.__setBgOverlayColor(\"backgroundColor\", backgroundColor, callback);\n        },\n        _setImageSmoothing: function() {\n            var ctx = this.getContext();\n            ctx.imageSmoothingEnabled = ctx.imageSmoothingEnabled || ctx.webkitImageSmoothingEnabled || ctx.mozImageSmoothingEnabled || ctx.msImageSmoothingEnabled || ctx.oImageSmoothingEnabled;\n            ctx.imageSmoothingEnabled = this.imageSmoothingEnabled;\n        },\n        __setBgOverlayImage: function(property, image, callback, options) {\n            if (typeof image === \"string\") {\n                fabric.util.loadImage(image, function(img) {\n                    img && (this[property] = new fabric.Image(img, options));\n                    callback && callback(img);\n                }, this, options && options.crossOrigin);\n            } else {\n                options && image.setOptions(options);\n                this[property] = image;\n                callback && callback(image);\n            }\n            return this;\n        },\n        __setBgOverlayColor: function(property, color, callback) {\n            this[property] = color;\n            this._initGradient(color, property);\n            this._initPattern(color, property, callback);\n            return this;\n        },\n        _createCanvasElement: function() {\n            var element = fabric.util.createCanvasElement();\n            if (!element) {\n                throw CANVAS_INIT_ERROR;\n            }\n            if (!element.style) {\n                element.style = {};\n            }\n            if (typeof element.getContext === \"undefined\") {\n                throw CANVAS_INIT_ERROR;\n            }\n            return element;\n        },\n        _initOptions: function(options) {\n            this._setOptions(options);\n            this.width = this.width || parseInt(this.lowerCanvasEl.width, 10) || 0;\n            this.height = this.height || parseInt(this.lowerCanvasEl.height, 10) || 0;\n            if (!this.lowerCanvasEl.style) {\n                return;\n            }\n            this.lowerCanvasEl.width = this.width;\n            this.lowerCanvasEl.height = this.height;\n            this.lowerCanvasEl.style.width = this.width + \"px\";\n            this.lowerCanvasEl.style.height = this.height + \"px\";\n            this.viewportTransform = this.viewportTransform.slice();\n        },\n        _createLowerCanvas: function(canvasEl) {\n            if (canvasEl && canvasEl.getContext) {\n                this.lowerCanvasEl = canvasEl;\n            } else {\n                this.lowerCanvasEl = fabric.util.getById(canvasEl) || this._createCanvasElement();\n            }\n            fabric.util.addClass(this.lowerCanvasEl, \"lower-canvas\");\n            if (this.interactive) {\n                this._applyCanvasStyle(this.lowerCanvasEl);\n            }\n            this.contextContainer = this.lowerCanvasEl.getContext(\"2d\");\n        },\n        getWidth: function() {\n            return this.width;\n        },\n        getHeight: function() {\n            return this.height;\n        },\n        setWidth: function(value, options) {\n            return this.setDimensions({\n                width: value\n            }, options);\n        },\n        setHeight: function(value, options) {\n            return this.setDimensions({\n                height: value\n            }, options);\n        },\n        setDimensions: function(dimensions, options) {\n            var cssValue;\n            options = options || {};\n            for (var prop in dimensions) {\n                cssValue = dimensions[prop];\n                if (!options.cssOnly) {\n                    this._setBackstoreDimension(prop, dimensions[prop]);\n                    cssValue += \"px\";\n                }\n                if (!options.backstoreOnly) {\n                    this._setCssDimension(prop, cssValue);\n                }\n            }\n            if (this._isCurrentlyDrawing) {\n                this.freeDrawingBrush && this.freeDrawingBrush._setBrushStyles();\n            }\n            this._initRetinaScaling();\n            this._setImageSmoothing();\n            this.calcOffset();\n            if (!options.cssOnly) {\n                this.requestRenderAll();\n            }\n            return this;\n        },\n        _setBackstoreDimension: function(prop, value) {\n            this.lowerCanvasEl[prop] = value;\n            if (this.upperCanvasEl) {\n                this.upperCanvasEl[prop] = value;\n            }\n            if (this.cacheCanvasEl) {\n                this.cacheCanvasEl[prop] = value;\n            }\n            this[prop] = value;\n            return this;\n        },\n        _setCssDimension: function(prop, value) {\n            this.lowerCanvasEl.style[prop] = value;\n            if (this.upperCanvasEl) {\n                this.upperCanvasEl.style[prop] = value;\n            }\n            if (this.wrapperEl) {\n                this.wrapperEl.style[prop] = value;\n            }\n            return this;\n        },\n        getZoom: function() {\n            return this.viewportTransform[0];\n        },\n        setViewportTransform: function(vpt) {\n            var activeObject = this._activeObject, object, ignoreVpt = false, skipAbsolute = true, i, len;\n            this.viewportTransform = vpt;\n            for (i = 0, len = this._objects.length; i < len; i++) {\n                object = this._objects[i];\n                object.group || object.setCoords(ignoreVpt, skipAbsolute);\n            }\n            if (activeObject && activeObject.type === \"activeSelection\") {\n                activeObject.setCoords(ignoreVpt, skipAbsolute);\n            }\n            this.calcViewportBoundaries();\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        zoomToPoint: function(point, value) {\n            var before = point, vpt = this.viewportTransform.slice(0);\n            point = transformPoint(point, invertTransform(this.viewportTransform));\n            vpt[0] = value;\n            vpt[3] = value;\n            var after = transformPoint(point, vpt);\n            vpt[4] += before.x - after.x;\n            vpt[5] += before.y - after.y;\n            return this.setViewportTransform(vpt);\n        },\n        setZoom: function(value) {\n            this.zoomToPoint(new fabric.Point(0, 0), value);\n            return this;\n        },\n        absolutePan: function(point) {\n            var vpt = this.viewportTransform.slice(0);\n            vpt[4] = -point.x;\n            vpt[5] = -point.y;\n            return this.setViewportTransform(vpt);\n        },\n        relativePan: function(point) {\n            return this.absolutePan(new fabric.Point(-point.x - this.viewportTransform[4], -point.y - this.viewportTransform[5]));\n        },\n        getElement: function() {\n            return this.lowerCanvasEl;\n        },\n        _onObjectAdded: function(obj) {\n            this.stateful && obj.setupState();\n            obj._set(\"canvas\", this);\n            obj.setCoords();\n            this.fire(\"object:added\", {\n                target: obj\n            });\n            obj.fire(\"added\");\n        },\n        _onObjectRemoved: function(obj) {\n            this.fire(\"object:removed\", {\n                target: obj\n            });\n            obj.fire(\"removed\");\n            delete obj.canvas;\n        },\n        clearContext: function(ctx) {\n            ctx.clearRect(0, 0, this.width, this.height);\n            return this;\n        },\n        getContext: function() {\n            return this.contextContainer;\n        },\n        clear: function() {\n            this._objects.length = 0;\n            this.backgroundImage = null;\n            this.overlayImage = null;\n            this.backgroundColor = \"\";\n            this.overlayColor = \"\";\n            if (this._hasITextHandlers) {\n                this.off(\"mouse:up\", this._mouseUpITextHandler);\n                this._iTextInstances = null;\n                this._hasITextHandlers = false;\n            }\n            this.clearContext(this.contextContainer);\n            this.fire(\"canvas:cleared\");\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        renderAll: function() {\n            var canvasToDrawOn = this.contextContainer;\n            this.renderCanvas(canvasToDrawOn, this._objects);\n            return this;\n        },\n        renderAndReset: function() {\n            this.isRendering = 0;\n            this.renderAll();\n        },\n        requestRenderAll: function() {\n            if (!this.isRendering) {\n                this.isRendering = fabric.util.requestAnimFrame(this.renderAndResetBound);\n            }\n            return this;\n        },\n        calcViewportBoundaries: function() {\n            var points = {}, width = this.width, height = this.height, iVpt = invertTransform(this.viewportTransform);\n            points.tl = transformPoint({\n                x: 0,\n                y: 0\n            }, iVpt);\n            points.br = transformPoint({\n                x: width,\n                y: height\n            }, iVpt);\n            points.tr = new fabric.Point(points.br.x, points.tl.y);\n            points.bl = new fabric.Point(points.tl.x, points.br.y);\n            this.vptCoords = points;\n            return points;\n        },\n        renderCanvas: function(ctx, objects) {\n            var v = this.viewportTransform;\n            if (this.isRendering) {\n                fabric.util.cancelAnimFrame(this.isRendering);\n                this.isRendering = 0;\n            }\n            this.calcViewportBoundaries();\n            this.clearContext(ctx);\n            this.fire(\"before:render\");\n            if (this.clipTo) {\n                fabric.util.clipContext(this, ctx);\n            }\n            this._renderBackground(ctx);\n            ctx.save();\n            ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n            this._renderObjects(ctx, objects);\n            ctx.restore();\n            if (!this.controlsAboveOverlay && this.interactive) {\n                this.drawControls(ctx);\n            }\n            if (this.clipTo) {\n                ctx.restore();\n            }\n            this._renderOverlay(ctx);\n            if (this.controlsAboveOverlay && this.interactive) {\n                this.drawControls(ctx);\n            }\n            this.fire(\"after:render\");\n        },\n        _renderObjects: function(ctx, objects) {\n            var i, len;\n            for (i = 0, len = objects.length; i < len; ++i) {\n                objects[i] && objects[i].render(ctx);\n            }\n        },\n        _renderBackgroundOrOverlay: function(ctx, property) {\n            var object = this[property + \"Color\"], v;\n            if (object) {\n                ctx.fillStyle = object.toLive ? object.toLive(ctx, this) : object;\n                ctx.fillRect(object.offsetX || 0, object.offsetY || 0, this.width, this.height);\n            }\n            object = this[property + \"Image\"];\n            if (object) {\n                if (this[property + \"Vpt\"]) {\n                    v = this.viewportTransform;\n                    ctx.save();\n                    ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n                }\n                object.render(ctx);\n                this[property + \"Vpt\"] && ctx.restore();\n            }\n        },\n        _renderBackground: function(ctx) {\n            this._renderBackgroundOrOverlay(ctx, \"background\");\n        },\n        _renderOverlay: function(ctx) {\n            this._renderBackgroundOrOverlay(ctx, \"overlay\");\n        },\n        getCenter: function() {\n            return {\n                top: this.height / 2,\n                left: this.width / 2\n            };\n        },\n        centerObjectH: function(object) {\n            return this._centerObject(object, new fabric.Point(this.getCenter().left, object.getCenterPoint().y));\n        },\n        centerObjectV: function(object) {\n            return this._centerObject(object, new fabric.Point(object.getCenterPoint().x, this.getCenter().top));\n        },\n        centerObject: function(object) {\n            var center = this.getCenter();\n            return this._centerObject(object, new fabric.Point(center.left, center.top));\n        },\n        viewportCenterObject: function(object) {\n            var vpCenter = this.getVpCenter();\n            return this._centerObject(object, vpCenter);\n        },\n        viewportCenterObjectH: function(object) {\n            var vpCenter = this.getVpCenter();\n            this._centerObject(object, new fabric.Point(vpCenter.x, object.getCenterPoint().y));\n            return this;\n        },\n        viewportCenterObjectV: function(object) {\n            var vpCenter = this.getVpCenter();\n            return this._centerObject(object, new fabric.Point(object.getCenterPoint().x, vpCenter.y));\n        },\n        getVpCenter: function() {\n            var center = this.getCenter(), iVpt = invertTransform(this.viewportTransform);\n            return transformPoint({\n                x: center.left,\n                y: center.top\n            }, iVpt);\n        },\n        _centerObject: function(object, center) {\n            object.setPositionByOrigin(center, \"center\", \"center\");\n            object.setCoords();\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        toDatalessJSON: function(propertiesToInclude) {\n            return this.toDatalessObject(propertiesToInclude);\n        },\n        toObject: function(propertiesToInclude) {\n            return this._toObjectMethod(\"toObject\", propertiesToInclude);\n        },\n        toDatalessObject: function(propertiesToInclude) {\n            return this._toObjectMethod(\"toDatalessObject\", propertiesToInclude);\n        },\n        _toObjectMethod: function(methodName, propertiesToInclude) {\n            var data = {\n                version: fabric.version,\n                objects: this._toObjects(methodName, propertiesToInclude)\n            };\n            extend(data, this.__serializeBgOverlay(methodName, propertiesToInclude));\n            fabric.util.populateWithProperties(this, data, propertiesToInclude);\n            return data;\n        },\n        _toObjects: function(methodName, propertiesToInclude) {\n            return this.getObjects().filter(function(object) {\n                return !object.excludeFromExport;\n            }).map(function(instance) {\n                return this._toObject(instance, methodName, propertiesToInclude);\n            }, this);\n        },\n        _toObject: function(instance, methodName, propertiesToInclude) {\n            var originalValue;\n            if (!this.includeDefaultValues) {\n                originalValue = instance.includeDefaultValues;\n                instance.includeDefaultValues = false;\n            }\n            var object = instance[methodName](propertiesToInclude);\n            if (!this.includeDefaultValues) {\n                instance.includeDefaultValues = originalValue;\n            }\n            return object;\n        },\n        __serializeBgOverlay: function(methodName, propertiesToInclude) {\n            var data = {}, bgImage = this.backgroundImage, overlay = this.overlayImage;\n            if (this.backgroundColor) {\n                data.background = this.backgroundColor.toObject ? this.backgroundColor.toObject(propertiesToInclude) : this.backgroundColor;\n            }\n            if (this.overlayColor) {\n                data.overlay = this.overlayColor.toObject ? this.overlayColor.toObject(propertiesToInclude) : this.overlayColor;\n            }\n            if (bgImage && !bgImage.excludeFromExport) {\n                data.backgroundImage = this._toObject(bgImage, methodName, propertiesToInclude);\n            }\n            if (overlay && !overlay.excludeFromExport) {\n                data.overlayImage = this._toObject(overlay, methodName, propertiesToInclude);\n            }\n            return data;\n        },\n        svgViewportTransformation: true,\n        toSVG: function(options, reviver) {\n            options || (options = {});\n            var markup = [];\n            this._setSVGPreamble(markup, options);\n            this._setSVGHeader(markup, options);\n            this._setSVGBgOverlayColor(markup, \"backgroundColor\");\n            this._setSVGBgOverlayImage(markup, \"backgroundImage\", reviver);\n            this._setSVGObjects(markup, reviver);\n            this._setSVGBgOverlayColor(markup, \"overlayColor\");\n            this._setSVGBgOverlayImage(markup, \"overlayImage\", reviver);\n            markup.push(\"</svg>\");\n            return markup.join(\"\");\n        },\n        _setSVGPreamble: function(markup, options) {\n            if (options.suppressPreamble) {\n                return;\n            }\n            markup.push('<?xml version=\"1.0\" encoding=\"', options.encoding || \"UTF-8\", '\" standalone=\"no\" ?>\\n', '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" ', '\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n');\n        },\n        _setSVGHeader: function(markup, options) {\n            var width = options.width || this.width, height = options.height || this.height, vpt, viewBox = 'viewBox=\"0 0 ' + this.width + \" \" + this.height + '\" ', NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n            if (options.viewBox) {\n                viewBox = 'viewBox=\"' + options.viewBox.x + \" \" + options.viewBox.y + \" \" + options.viewBox.width + \" \" + options.viewBox.height + '\" ';\n            } else {\n                if (this.svgViewportTransformation) {\n                    vpt = this.viewportTransform;\n                    viewBox = 'viewBox=\"' + toFixed(-vpt[4] / vpt[0], NUM_FRACTION_DIGITS) + \" \" + toFixed(-vpt[5] / vpt[3], NUM_FRACTION_DIGITS) + \" \" + toFixed(this.width / vpt[0], NUM_FRACTION_DIGITS) + \" \" + toFixed(this.height / vpt[3], NUM_FRACTION_DIGITS) + '\" ';\n                }\n            }\n            markup.push(\"<svg \", 'xmlns=\"http://www.w3.org/2000/svg\" ', 'xmlns:xlink=\"http://www.w3.org/1999/xlink\" ', 'version=\"1.1\" ', 'width=\"', width, '\" ', 'height=\"', height, '\" ', viewBox, 'xml:space=\"preserve\">\\n', \"<desc>Created with Fabric.js \", fabric.version, \"</desc>\\n\", \"<defs>\\n\", this.createSVGFontFacesMarkup(), this.createSVGRefElementsMarkup(), \"</defs>\\n\");\n        },\n        createSVGRefElementsMarkup: function() {\n            var _this = this, markup = [ \"backgroundColor\", \"overlayColor\" ].map(function(prop) {\n                var fill = _this[prop];\n                if (fill && fill.toLive) {\n                    return fill.toSVG(_this, false);\n                }\n            });\n            return markup.join(\"\");\n        },\n        createSVGFontFacesMarkup: function() {\n            var markup = \"\", fontList = {}, obj, fontFamily, style, row, rowIndex, _char, charIndex, i, len, fontPaths = fabric.fontPaths, objects = this.getObjects();\n            for (i = 0, len = objects.length; i < len; i++) {\n                obj = objects[i];\n                fontFamily = obj.fontFamily;\n                if (obj.type.indexOf(\"text\") === -1 || fontList[fontFamily] || !fontPaths[fontFamily]) {\n                    continue;\n                }\n                fontList[fontFamily] = true;\n                if (!obj.styles) {\n                    continue;\n                }\n                style = obj.styles;\n                for (rowIndex in style) {\n                    row = style[rowIndex];\n                    for (charIndex in row) {\n                        _char = row[charIndex];\n                        fontFamily = _char.fontFamily;\n                        if (!fontList[fontFamily] && fontPaths[fontFamily]) {\n                            fontList[fontFamily] = true;\n                        }\n                    }\n                }\n            }\n            for (var j in fontList) {\n                markup += [ \"\\t\\t@font-face {\\n\", \"\\t\\t\\tfont-family: '\", j, \"';\\n\", \"\\t\\t\\tsrc: url('\", fontPaths[j], \"');\\n\", \"\\t\\t}\\n\" ].join(\"\");\n            }\n            if (markup) {\n                markup = [ '\\t<style type=\"text/css\">', \"<![CDATA[\\n\", markup, \"]]>\", \"</style>\\n\" ].join(\"\");\n            }\n            return markup;\n        },\n        _setSVGObjects: function(markup, reviver) {\n            var instance, i, len, objects = this.getObjects();\n            for (i = 0, len = objects.length; i < len; i++) {\n                instance = objects[i];\n                if (instance.excludeFromExport) {\n                    continue;\n                }\n                this._setSVGObject(markup, instance, reviver);\n            }\n        },\n        _setSVGObject: function(markup, instance, reviver) {\n            markup.push(instance.toSVG(reviver));\n        },\n        _setSVGBgOverlayImage: function(markup, property, reviver) {\n            if (this[property] && this[property].toSVG) {\n                markup.push(this[property].toSVG(reviver));\n            }\n        },\n        _setSVGBgOverlayColor: function(markup, property) {\n            var filler = this[property], vpt = this.viewportTransform, finalWidth = this.width / vpt[0], finalHeight = this.height / vpt[3];\n            if (!filler) {\n                return;\n            }\n            if (filler.toLive) {\n                var repeat = filler.repeat;\n                markup.push('<rect transform=\"translate(', finalWidth / 2, \",\", finalHeight / 2, ')\"', ' x=\"', filler.offsetX - finalWidth / 2, '\" y=\"', filler.offsetY - finalHeight / 2, '\" ', 'width=\"', repeat === \"repeat-y\" || repeat === \"no-repeat\" ? filler.source.width : finalWidth, '\" height=\"', repeat === \"repeat-x\" || repeat === \"no-repeat\" ? filler.source.height : finalHeight, '\" fill=\"url(#SVGID_' + filler.id + ')\"', \"></rect>\\n\");\n            } else {\n                markup.push('<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ', 'fill=\"', this[property], '\"', \"></rect>\\n\");\n            }\n        },\n        sendToBack: function(object) {\n            if (!object) {\n                return this;\n            }\n            var activeSelection = this._activeObject, i, obj, objs;\n            if (object === activeSelection && object.type === \"activeSelection\") {\n                objs = activeSelection._objects;\n                for (i = objs.length; i--; ) {\n                    obj = objs[i];\n                    removeFromArray(this._objects, obj);\n                    this._objects.unshift(obj);\n                }\n            } else {\n                removeFromArray(this._objects, object);\n                this._objects.unshift(object);\n            }\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        bringToFront: function(object) {\n            if (!object) {\n                return this;\n            }\n            var activeSelection = this._activeObject, i, obj, objs;\n            if (object === activeSelection && object.type === \"activeSelection\") {\n                objs = activeSelection._objects;\n                for (i = 0; i < objs.length; i++) {\n                    obj = objs[i];\n                    removeFromArray(this._objects, obj);\n                    this._objects.push(obj);\n                }\n            } else {\n                removeFromArray(this._objects, object);\n                this._objects.push(object);\n            }\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        sendBackwards: function(object, intersecting) {\n            if (!object) {\n                return this;\n            }\n            var activeSelection = this._activeObject, i, obj, idx, newIdx, objs, objsMoved = 0;\n            if (object === activeSelection && object.type === \"activeSelection\") {\n                objs = activeSelection._objects;\n                for (i = 0; i < objs.length; i++) {\n                    obj = objs[i];\n                    idx = this._objects.indexOf(obj);\n                    if (idx > 0 + objsMoved) {\n                        newIdx = idx - 1;\n                        removeFromArray(this._objects, obj);\n                        this._objects.splice(newIdx, 0, obj);\n                    }\n                    objsMoved++;\n                }\n            } else {\n                idx = this._objects.indexOf(object);\n                if (idx !== 0) {\n                    newIdx = this._findNewLowerIndex(object, idx, intersecting);\n                    removeFromArray(this._objects, object);\n                    this._objects.splice(newIdx, 0, object);\n                }\n            }\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        _findNewLowerIndex: function(object, idx, intersecting) {\n            var newIdx, i;\n            if (intersecting) {\n                newIdx = idx;\n                for (i = idx - 1; i >= 0; --i) {\n                    var isIntersecting = object.intersectsWithObject(this._objects[i]) || object.isContainedWithinObject(this._objects[i]) || this._objects[i].isContainedWithinObject(object);\n                    if (isIntersecting) {\n                        newIdx = i;\n                        break;\n                    }\n                }\n            } else {\n                newIdx = idx - 1;\n            }\n            return newIdx;\n        },\n        bringForward: function(object, intersecting) {\n            if (!object) {\n                return this;\n            }\n            var activeSelection = this._activeObject, i, obj, idx, newIdx, objs, objsMoved = 0;\n            if (object === activeSelection && object.type === \"activeSelection\") {\n                objs = activeSelection._objects;\n                for (i = objs.length; i--; ) {\n                    obj = objs[i];\n                    idx = this._objects.indexOf(obj);\n                    if (idx < this._objects.length - 1 - objsMoved) {\n                        newIdx = idx + 1;\n                        removeFromArray(this._objects, obj);\n                        this._objects.splice(newIdx, 0, obj);\n                    }\n                    objsMoved++;\n                }\n            } else {\n                idx = this._objects.indexOf(object);\n                if (idx !== this._objects.length - 1) {\n                    newIdx = this._findNewUpperIndex(object, idx, intersecting);\n                    removeFromArray(this._objects, object);\n                    this._objects.splice(newIdx, 0, object);\n                }\n            }\n            this.renderOnAddRemove && this.requestRenderAll();\n            return this;\n        },\n        _findNewUpperIndex: function(object, idx, intersecting) {\n            var newIdx, i, len;\n            if (intersecting) {\n                newIdx = idx;\n                for (i = idx + 1, len = this._objects.length; i < len; ++i) {\n                    var isIntersecting = object.intersectsWithObject(this._objects[i]) || object.isContainedWithinObject(this._objects[i]) || this._objects[i].isContainedWithinObject(object);\n                    if (isIntersecting) {\n                        newIdx = i;\n                        break;\n                    }\n                }\n            } else {\n                newIdx = idx + 1;\n            }\n            return newIdx;\n        },\n        moveTo: function(object, index) {\n            removeFromArray(this._objects, object);\n            this._objects.splice(index, 0, object);\n            return this.renderOnAddRemove && this.requestRenderAll();\n        },\n        dispose: function() {\n            if (this.isRendering) {\n                fabric.util.cancelAnimFrame(this.isRendering);\n                this.isRendering = 0;\n            }\n            this.forEachObject(function(object) {\n                object.dispose && object.dispose();\n            });\n            this._objects = [];\n            this.backgroundImage = null;\n            this.overlayImage = null;\n            this._iTextInstances = null;\n            this.lowerCanvasEl = null;\n            this.contextContainer = null;\n            return this;\n        },\n        toString: function() {\n            return \"#<fabric.Canvas (\" + this.complexity() + \"): \" + \"{ objects: \" + this.getObjects().length + \" }>\";\n        }\n    });\n    extend(fabric.StaticCanvas.prototype, fabric.Observable);\n    extend(fabric.StaticCanvas.prototype, fabric.Collection);\n    extend(fabric.StaticCanvas.prototype, fabric.DataURLExporter);\n    extend(fabric.StaticCanvas, {\n        EMPTY_JSON: '{\"objects\": [], \"background\": \"white\"}',\n        supports: function(methodName) {\n            var el = fabric.util.createCanvasElement();\n            if (!el || !el.getContext) {\n                return null;\n            }\n            var ctx = el.getContext(\"2d\");\n            if (!ctx) {\n                return null;\n            }\n            switch (methodName) {\n              case \"getImageData\":\n                return typeof ctx.getImageData !== \"undefined\";\n\n              case \"setLineDash\":\n                return typeof ctx.setLineDash !== \"undefined\";\n\n              case \"toDataURL\":\n                return typeof el.toDataURL !== \"undefined\";\n\n              case \"toDataURLWithQuality\":\n                try {\n                    el.toDataURL(\"image/jpeg\", 0);\n                    return true;\n                } catch (e) {}\n                return false;\n\n              default:\n                return null;\n            }\n        }\n    });\n    fabric.StaticCanvas.prototype.toJSON = fabric.StaticCanvas.prototype.toObject;\n    if (fabric.isLikelyNode) {\n        fabric.StaticCanvas.prototype.createPNGStream = function() {\n            var impl = fabric.util.getNodeCanvas(this.lowerCanvasEl);\n            return impl && impl.createPNGStream();\n        };\n        fabric.StaticCanvas.prototype.createJPEGStream = function(opts) {\n            var impl = fabric.util.getNodeCanvas(this.lowerCanvasEl);\n            return impl && impl.createJPEGStream(opts);\n        };\n    }\n})();\n\nfabric.BaseBrush = fabric.util.createClass({\n    color: \"rgb(0, 0, 0)\",\n    width: 1,\n    shadow: null,\n    strokeLineCap: \"round\",\n    strokeLineJoin: \"round\",\n    strokeMiterLimit: 10,\n    strokeDashArray: null,\n    setShadow: function(options) {\n        this.shadow = new fabric.Shadow(options);\n        return this;\n    },\n    _setBrushStyles: function() {\n        var ctx = this.canvas.contextTop;\n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = this.width;\n        ctx.lineCap = this.strokeLineCap;\n        ctx.miterLimit = this.strokeMiterLimit;\n        ctx.lineJoin = this.strokeLineJoin;\n        if (this.strokeDashArray && fabric.StaticCanvas.supports(\"setLineDash\")) {\n            ctx.setLineDash(this.strokeDashArray);\n        }\n    },\n    _saveAndTransform: function(ctx) {\n        var v = this.canvas.viewportTransform;\n        ctx.save();\n        ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n    },\n    _setShadow: function() {\n        if (!this.shadow) {\n            return;\n        }\n        var ctx = this.canvas.contextTop, zoom = this.canvas.getZoom();\n        ctx.shadowColor = this.shadow.color;\n        ctx.shadowBlur = this.shadow.blur * zoom;\n        ctx.shadowOffsetX = this.shadow.offsetX * zoom;\n        ctx.shadowOffsetY = this.shadow.offsetY * zoom;\n    },\n    _resetShadow: function() {\n        var ctx = this.canvas.contextTop;\n        ctx.shadowColor = \"\";\n        ctx.shadowBlur = ctx.shadowOffsetX = ctx.shadowOffsetY = 0;\n    }\n});\n\n(function() {\n    fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, {\n        initialize: function(canvas) {\n            this.canvas = canvas;\n            this._points = [];\n        },\n        _drawSegment: function(ctx, p1, p2) {\n            var midPoint = p1.midPointFrom(p2);\n            ctx.quadraticCurveTo(p1.x, p1.y, midPoint.x, midPoint.y);\n            return midPoint;\n        },\n        onMouseDown: function(pointer) {\n            this._prepareForDrawing(pointer);\n            this._captureDrawingPath(pointer);\n            this._render();\n        },\n        onMouseMove: function(pointer) {\n            if (this._captureDrawingPath(pointer) && this._points.length > 1) {\n                var points = this._points, length = points.length, ctx = this.canvas.contextTop;\n                this._saveAndTransform(ctx);\n                if (this.oldEnd) {\n                    ctx.beginPath();\n                    ctx.moveTo(this.oldEnd.x, this.oldEnd.y);\n                }\n                this.oldEnd = this._drawSegment(ctx, points[length - 2], points[length - 1], true);\n                ctx.stroke();\n                ctx.restore();\n            }\n        },\n        onMouseUp: function() {\n            this.oldEnd = undefined;\n            this._finalizeAndAddPath();\n        },\n        _prepareForDrawing: function(pointer) {\n            var p = new fabric.Point(pointer.x, pointer.y);\n            this._reset();\n            this._addPoint(p);\n            this.canvas.contextTop.moveTo(p.x, p.y);\n        },\n        _addPoint: function(point) {\n            if (this._points.length > 1 && point.eq(this._points[this._points.length - 1])) {\n                return false;\n            }\n            this._points.push(point);\n            return true;\n        },\n        _reset: function() {\n            this._points.length = 0;\n            this._setBrushStyles();\n            this._setShadow();\n        },\n        _captureDrawingPath: function(pointer) {\n            var pointerPoint = new fabric.Point(pointer.x, pointer.y);\n            return this._addPoint(pointerPoint);\n        },\n        _render: function() {\n            var ctx = this.canvas.contextTop, i, len, p1 = this._points[0], p2 = this._points[1];\n            this._saveAndTransform(ctx);\n            ctx.beginPath();\n            if (this._points.length === 2 && p1.x === p2.x && p1.y === p2.y) {\n                var width = this.width / 1e3;\n                p1 = new fabric.Point(p1.x, p1.y);\n                p2 = new fabric.Point(p2.x, p2.y);\n                p1.x -= width;\n                p2.x += width;\n            }\n            ctx.moveTo(p1.x, p1.y);\n            for (i = 1, len = this._points.length; i < len; i++) {\n                this._drawSegment(ctx, p1, p2);\n                p1 = this._points[i];\n                p2 = this._points[i + 1];\n            }\n            ctx.lineTo(p1.x, p1.y);\n            ctx.stroke();\n            ctx.restore();\n        },\n        convertPointsToSVGPath: function(points) {\n            var path = [], i, width = this.width / 1e3, p1 = new fabric.Point(points[0].x, points[0].y), p2 = new fabric.Point(points[1].x, points[1].y), len = points.length, multSignX = 1, multSignY = 1, manyPoints = len > 2;\n            if (manyPoints) {\n                multSignX = points[2].x < p2.x ? -1 : points[2].x === p2.x ? 0 : 1;\n                multSignY = points[2].y < p2.y ? -1 : points[2].y === p2.y ? 0 : 1;\n            }\n            path.push(\"M \", p1.x - multSignX * width, \" \", p1.y - multSignY * width, \" \");\n            for (i = 1; i < len; i++) {\n                if (!p1.eq(p2)) {\n                    var midPoint = p1.midPointFrom(p2);\n                    path.push(\"Q \", p1.x, \" \", p1.y, \" \", midPoint.x, \" \", midPoint.y, \" \");\n                }\n                p1 = points[i];\n                if (i + 1 < points.length) {\n                    p2 = points[i + 1];\n                }\n            }\n            if (manyPoints) {\n                multSignX = p1.x > points[i - 2].x ? 1 : p1.x === points[i - 2].x ? 0 : -1;\n                multSignY = p1.y > points[i - 2].y ? 1 : p1.y === points[i - 2].y ? 0 : -1;\n            }\n            path.push(\"L \", p1.x + multSignX * width, \" \", p1.y + multSignY * width);\n            return path;\n        },\n        createPath: function(pathData) {\n            var path = new fabric.Path(pathData, {\n                fill: null,\n                stroke: this.color,\n                strokeWidth: this.width,\n                strokeLineCap: this.strokeLineCap,\n                strokeMiterLimit: this.strokeMiterLimit,\n                strokeLineJoin: this.strokeLineJoin,\n                strokeDashArray: this.strokeDashArray\n            });\n            var position = new fabric.Point(path.left + path.width / 2, path.top + path.height / 2);\n            position = path.translateToGivenOrigin(position, \"center\", \"center\", path.originX, path.originY);\n            path.top = position.y;\n            path.left = position.x;\n            if (this.shadow) {\n                this.shadow.affectStroke = true;\n                path.setShadow(this.shadow);\n            }\n            return path;\n        },\n        _finalizeAndAddPath: function() {\n            var ctx = this.canvas.contextTop;\n            ctx.closePath();\n            var pathData = this.convertPointsToSVGPath(this._points).join(\"\");\n            if (pathData === \"M 0 0 Q 0 0 0 0 L 0 0\") {\n                this.canvas.requestRenderAll();\n                return;\n            }\n            var path = this.createPath(pathData);\n            this.canvas.clearContext(this.canvas.contextTop);\n            this.canvas.add(path);\n            this.canvas.renderAll();\n            path.setCoords();\n            this._resetShadow();\n            this.canvas.fire(\"path:created\", {\n                path: path\n            });\n        }\n    });\n})();\n\nfabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, {\n    width: 10,\n    initialize: function(canvas) {\n        this.canvas = canvas;\n        this.points = [];\n    },\n    drawDot: function(pointer) {\n        var point = this.addPoint(pointer), ctx = this.canvas.contextTop;\n        this._saveAndTransform(ctx);\n        ctx.fillStyle = point.fill;\n        ctx.beginPath();\n        ctx.arc(point.x, point.y, point.radius, 0, Math.PI * 2, false);\n        ctx.closePath();\n        ctx.fill();\n        ctx.restore();\n    },\n    onMouseDown: function(pointer) {\n        this.points.length = 0;\n        this.canvas.clearContext(this.canvas.contextTop);\n        this._setShadow();\n        this.drawDot(pointer);\n    },\n    _render: function() {\n        var ctx = this.canvas.contextTop, i, len, points = this.points, point;\n        this._saveAndTransform(ctx);\n        for (i = 0, len = points.length; i < len; i++) {\n            point = points[i];\n            ctx.fillStyle = point.fill;\n            ctx.beginPath();\n            ctx.arc(point.x, point.y, point.radius, 0, Math.PI * 2, false);\n            ctx.closePath();\n            ctx.fill();\n        }\n        ctx.restore();\n    },\n    onMouseMove: function(pointer) {\n        this.drawDot(pointer);\n    },\n    onMouseUp: function() {\n        var originalRenderOnAddRemove = this.canvas.renderOnAddRemove, i, len;\n        this.canvas.renderOnAddRemove = false;\n        var circles = [];\n        for (i = 0, len = this.points.length; i < len; i++) {\n            var point = this.points[i], circle = new fabric.Circle({\n                radius: point.radius,\n                left: point.x,\n                top: point.y,\n                originX: \"center\",\n                originY: \"center\",\n                fill: point.fill\n            });\n            this.shadow && circle.setShadow(this.shadow);\n            circles.push(circle);\n        }\n        var group = new fabric.Group(circles, {\n            originX: \"center\",\n            originY: \"center\"\n        });\n        group.canvas = this.canvas;\n        this.canvas.add(group);\n        this.canvas.fire(\"path:created\", {\n            path: group\n        });\n        this.canvas.clearContext(this.canvas.contextTop);\n        this._resetShadow();\n        this.canvas.renderOnAddRemove = originalRenderOnAddRemove;\n        this.canvas.requestRenderAll();\n    },\n    addPoint: function(pointer) {\n        var pointerPoint = new fabric.Point(pointer.x, pointer.y), circleRadius = fabric.util.getRandomInt(Math.max(0, this.width - 20), this.width + 20) / 2, circleColor = new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0, 100) / 100).toRgba();\n        pointerPoint.radius = circleRadius;\n        pointerPoint.fill = circleColor;\n        this.points.push(pointerPoint);\n        return pointerPoint;\n    }\n});\n\nfabric.SprayBrush = fabric.util.createClass(fabric.BaseBrush, {\n    width: 10,\n    density: 20,\n    dotWidth: 1,\n    dotWidthVariance: 1,\n    randomOpacity: false,\n    optimizeOverlapping: true,\n    initialize: function(canvas) {\n        this.canvas = canvas;\n        this.sprayChunks = [];\n    },\n    onMouseDown: function(pointer) {\n        this.sprayChunks.length = 0;\n        this.canvas.clearContext(this.canvas.contextTop);\n        this._setShadow();\n        this.addSprayChunk(pointer);\n        this.render(this.sprayChunkPoints);\n    },\n    onMouseMove: function(pointer) {\n        this.addSprayChunk(pointer);\n        this.render(this.sprayChunkPoints);\n    },\n    onMouseUp: function() {\n        var originalRenderOnAddRemove = this.canvas.renderOnAddRemove;\n        this.canvas.renderOnAddRemove = false;\n        var rects = [];\n        for (var i = 0, ilen = this.sprayChunks.length; i < ilen; i++) {\n            var sprayChunk = this.sprayChunks[i];\n            for (var j = 0, jlen = sprayChunk.length; j < jlen; j++) {\n                var rect = new fabric.Rect({\n                    width: sprayChunk[j].width,\n                    height: sprayChunk[j].width,\n                    left: sprayChunk[j].x + 1,\n                    top: sprayChunk[j].y + 1,\n                    originX: \"center\",\n                    originY: \"center\",\n                    fill: this.color\n                });\n                rects.push(rect);\n            }\n        }\n        if (this.optimizeOverlapping) {\n            rects = this._getOptimizedRects(rects);\n        }\n        var group = new fabric.Group(rects, {\n            originX: \"center\",\n            originY: \"center\"\n        });\n        this.shadow && group.setShadow(this.shadow);\n        this.canvas.add(group);\n        this.canvas.fire(\"path:created\", {\n            path: group\n        });\n        this.canvas.clearContext(this.canvas.contextTop);\n        this._resetShadow();\n        this.canvas.renderOnAddRemove = originalRenderOnAddRemove;\n        this.canvas.requestRenderAll();\n    },\n    _getOptimizedRects: function(rects) {\n        var uniqueRects = {}, key, i, len;\n        for (i = 0, len = rects.length; i < len; i++) {\n            key = rects[i].left + \"\" + rects[i].top;\n            if (!uniqueRects[key]) {\n                uniqueRects[key] = rects[i];\n            }\n        }\n        var uniqueRectsArray = [];\n        for (key in uniqueRects) {\n            uniqueRectsArray.push(uniqueRects[key]);\n        }\n        return uniqueRectsArray;\n    },\n    render: function(sprayChunk) {\n        var ctx = this.canvas.contextTop, i, len;\n        ctx.fillStyle = this.color;\n        this._saveAndTransform(ctx);\n        for (i = 0, len = sprayChunk.length; i < len; i++) {\n            var point = sprayChunk[i];\n            if (typeof point.opacity !== \"undefined\") {\n                ctx.globalAlpha = point.opacity;\n            }\n            ctx.fillRect(point.x, point.y, point.width, point.width);\n        }\n        ctx.restore();\n    },\n    _render: function() {\n        var ctx = this.canvas.contextTop, i, ilen;\n        ctx.fillStyle = this.color;\n        this._saveAndTransform(ctx);\n        for (i = 0, ilen = this.sprayChunks.length; i < ilen; i++) {\n            this.render(this.sprayChunks[i]);\n        }\n        ctx.restore();\n    },\n    addSprayChunk: function(pointer) {\n        this.sprayChunkPoints = [];\n        var x, y, width, radius = this.width / 2, i;\n        for (i = 0; i < this.density; i++) {\n            x = fabric.util.getRandomInt(pointer.x - radius, pointer.x + radius);\n            y = fabric.util.getRandomInt(pointer.y - radius, pointer.y + radius);\n            if (this.dotWidthVariance) {\n                width = fabric.util.getRandomInt(Math.max(1, this.dotWidth - this.dotWidthVariance), this.dotWidth + this.dotWidthVariance);\n            } else {\n                width = this.dotWidth;\n            }\n            var point = new fabric.Point(x, y);\n            point.width = width;\n            if (this.randomOpacity) {\n                point.opacity = fabric.util.getRandomInt(0, 100) / 100;\n            }\n            this.sprayChunkPoints.push(point);\n        }\n        this.sprayChunks.push(this.sprayChunkPoints);\n    }\n});\n\nfabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, {\n    getPatternSrc: function() {\n        var dotWidth = 20, dotDistance = 5, patternCanvas = fabric.document.createElement(\"canvas\"), patternCtx = patternCanvas.getContext(\"2d\");\n        patternCanvas.width = patternCanvas.height = dotWidth + dotDistance;\n        patternCtx.fillStyle = this.color;\n        patternCtx.beginPath();\n        patternCtx.arc(dotWidth / 2, dotWidth / 2, dotWidth / 2, 0, Math.PI * 2, false);\n        patternCtx.closePath();\n        patternCtx.fill();\n        return patternCanvas;\n    },\n    getPatternSrcFunction: function() {\n        return String(this.getPatternSrc).replace(\"this.color\", '\"' + this.color + '\"');\n    },\n    getPattern: function() {\n        return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), \"repeat\");\n    },\n    _setBrushStyles: function() {\n        this.callSuper(\"_setBrushStyles\");\n        this.canvas.contextTop.strokeStyle = this.getPattern();\n    },\n    createPath: function(pathData) {\n        var path = this.callSuper(\"createPath\", pathData), topLeft = path._getLeftTopCoords().scalarAdd(path.strokeWidth / 2);\n        path.stroke = new fabric.Pattern({\n            source: this.source || this.getPatternSrcFunction(),\n            offsetX: -topLeft.x,\n            offsetY: -topLeft.y\n        });\n        return path;\n    }\n});\n\n(function() {\n    var getPointer = fabric.util.getPointer, degreesToRadians = fabric.util.degreesToRadians, radiansToDegrees = fabric.util.radiansToDegrees, atan2 = Math.atan2, abs = Math.abs, supportLineDash = fabric.StaticCanvas.supports(\"setLineDash\"), STROKE_OFFSET = .5;\n    fabric.Canvas = fabric.util.createClass(fabric.StaticCanvas, {\n        initialize: function(el, options) {\n            options || (options = {});\n            this.renderAndResetBound = this.renderAndReset.bind(this);\n            this._initStatic(el, options);\n            this._initInteractive();\n            this._createCacheCanvas();\n        },\n        uniScaleTransform: false,\n        uniScaleKey: \"shiftKey\",\n        centeredScaling: false,\n        centeredRotation: false,\n        centeredKey: \"altKey\",\n        altActionKey: \"shiftKey\",\n        interactive: true,\n        selection: true,\n        selectionKey: \"shiftKey\",\n        altSelectionKey: null,\n        selectionColor: \"rgba(100, 100, 255, 0.3)\",\n        selectionDashArray: [],\n        selectionBorderColor: \"rgba(255, 255, 255, 0.3)\",\n        selectionLineWidth: 1,\n        selectionFullyContained: false,\n        hoverCursor: \"move\",\n        moveCursor: \"move\",\n        defaultCursor: \"default\",\n        freeDrawingCursor: \"crosshair\",\n        rotationCursor: \"crosshair\",\n        notAllowedCursor: \"not-allowed\",\n        containerClass: \"canvas-container\",\n        perPixelTargetFind: false,\n        targetFindTolerance: 0,\n        skipTargetFind: false,\n        isDrawingMode: false,\n        preserveObjectStacking: false,\n        snapAngle: 0,\n        snapThreshold: null,\n        stopContextMenu: false,\n        fireRightClick: false,\n        fireMiddleClick: false,\n        _initInteractive: function() {\n            this._currentTransform = null;\n            this._groupSelector = null;\n            this._initWrapperElement();\n            this._createUpperCanvas();\n            this._initEventListeners();\n            this._initRetinaScaling();\n            this.freeDrawingBrush = fabric.PencilBrush && new fabric.PencilBrush(this);\n            this.calcOffset();\n        },\n        _chooseObjectsToRender: function() {\n            var activeObjects = this.getActiveObjects(), object, objsToRender, activeGroupObjects;\n            if (activeObjects.length > 0 && !this.preserveObjectStacking) {\n                objsToRender = [];\n                activeGroupObjects = [];\n                for (var i = 0, length = this._objects.length; i < length; i++) {\n                    object = this._objects[i];\n                    if (activeObjects.indexOf(object) === -1) {\n                        objsToRender.push(object);\n                    } else {\n                        activeGroupObjects.push(object);\n                    }\n                }\n                if (activeObjects.length > 1) {\n                    this._activeObject._objects = activeGroupObjects;\n                }\n                objsToRender.push.apply(objsToRender, activeGroupObjects);\n            } else {\n                objsToRender = this._objects;\n            }\n            return objsToRender;\n        },\n        renderAll: function() {\n            if (this.contextTopDirty && !this._groupSelector && !this.isDrawingMode) {\n                this.clearContext(this.contextTop);\n                this.contextTopDirty = false;\n            }\n            this.renderTopLayer(this.contextTop);\n            var canvasToDrawOn = this.contextContainer;\n            this.renderCanvas(canvasToDrawOn, this._chooseObjectsToRender());\n            return this;\n        },\n        renderTopLayer: function(ctx) {\n            if (this.isDrawingMode && this._isCurrentlyDrawing) {\n                this.freeDrawingBrush && this.freeDrawingBrush._render();\n            }\n            if (this.selection && this._groupSelector) {\n                this._drawSelection(ctx);\n            }\n        },\n        renderTop: function() {\n            var ctx = this.contextTop;\n            this.clearContext(ctx);\n            this.renderTopLayer(ctx);\n            this.fire(\"after:render\");\n            this.contextTopDirty = true;\n            return this;\n        },\n        _resetCurrentTransform: function() {\n            var t = this._currentTransform;\n            t.target.set({\n                scaleX: t.original.scaleX,\n                scaleY: t.original.scaleY,\n                skewX: t.original.skewX,\n                skewY: t.original.skewY,\n                left: t.original.left,\n                top: t.original.top\n            });\n            if (this._shouldCenterTransform(t.target)) {\n                if (t.originX !== \"center\") {\n                    if (t.originX === \"right\") {\n                        t.mouseXSign = -1;\n                    } else {\n                        t.mouseXSign = 1;\n                    }\n                }\n                if (t.originY !== \"center\") {\n                    if (t.originY === \"bottom\") {\n                        t.mouseYSign = -1;\n                    } else {\n                        t.mouseYSign = 1;\n                    }\n                }\n                t.originX = \"center\";\n                t.originY = \"center\";\n            } else {\n                t.originX = t.original.originX;\n                t.originY = t.original.originY;\n            }\n        },\n        containsPoint: function(e, target, point) {\n            var ignoreZoom = true, pointer = point || this.getPointer(e, ignoreZoom), xy;\n            if (target.group && target.group === this._activeObject && target.group.type === \"activeSelection\") {\n                xy = this._normalizePointer(target.group, pointer);\n            } else {\n                xy = {\n                    x: pointer.x,\n                    y: pointer.y\n                };\n            }\n            return target.containsPoint(xy) || target._findTargetCorner(pointer);\n        },\n        _normalizePointer: function(object, pointer) {\n            var m = object.calcTransformMatrix(), invertedM = fabric.util.invertTransform(m), vptPointer = this.restorePointerVpt(pointer);\n            return fabric.util.transformPoint(vptPointer, invertedM);\n        },\n        isTargetTransparent: function(target, x, y) {\n            var ctx = this.contextCache, originalColor = target.selectionBackgroundColor, v = this.viewportTransform;\n            target.selectionBackgroundColor = \"\";\n            this.clearContext(ctx);\n            ctx.save();\n            ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n            target.render(ctx);\n            ctx.restore();\n            target === this._activeObject && target._renderControls(ctx, {\n                hasBorders: false,\n                transparentCorners: false\n            }, {\n                hasBorders: false\n            });\n            target.selectionBackgroundColor = originalColor;\n            var isTransparent = fabric.util.isTransparent(ctx, x, y, this.targetFindTolerance);\n            return isTransparent;\n        },\n        _isSelectionKeyPressed: function(e) {\n            var selectionKeyPressed = false;\n            if (Object.prototype.toString.call(this.selectionKey) === \"[object Array]\") {\n                selectionKeyPressed = !!this.selectionKey.find(function(key) {\n                    return e[key] === true;\n                });\n            } else {\n                selectionKeyPressed = e[this.selectionKey];\n            }\n            return selectionKeyPressed;\n        },\n        _shouldClearSelection: function(e, target) {\n            var activeObjects = this.getActiveObjects(), activeObject = this._activeObject;\n            return !target || target && activeObject && activeObjects.length > 1 && activeObjects.indexOf(target) === -1 && activeObject !== target && !this._isSelectionKeyPressed(e) || target && !target.evented || target && !target.selectable && activeObject && activeObject !== target;\n        },\n        _shouldCenterTransform: function(target) {\n            if (!target) {\n                return;\n            }\n            var t = this._currentTransform, centerTransform;\n            if (t.action === \"scale\" || t.action === \"scaleX\" || t.action === \"scaleY\") {\n                centerTransform = this.centeredScaling || target.centeredScaling;\n            } else if (t.action === \"rotate\") {\n                centerTransform = this.centeredRotation || target.centeredRotation;\n            }\n            return centerTransform ? !t.altKey : t.altKey;\n        },\n        _getOriginFromCorner: function(target, corner) {\n            var origin = {\n                x: target.originX,\n                y: target.originY\n            };\n            if (corner === \"ml\" || corner === \"tl\" || corner === \"bl\") {\n                origin.x = \"right\";\n            } else if (corner === \"mr\" || corner === \"tr\" || corner === \"br\") {\n                origin.x = \"left\";\n            }\n            if (corner === \"tl\" || corner === \"mt\" || corner === \"tr\") {\n                origin.y = \"bottom\";\n            } else if (corner === \"bl\" || corner === \"mb\" || corner === \"br\") {\n                origin.y = \"top\";\n            }\n            return origin;\n        },\n        _getActionFromCorner: function(target, corner, e) {\n            if (!corner) {\n                return \"drag\";\n            }\n            switch (corner) {\n              case \"mtr\":\n                return \"rotate\";\n\n              case \"ml\":\n              case \"mr\":\n                return e[this.altActionKey] ? \"skewY\" : \"scaleX\";\n\n              case \"mt\":\n              case \"mb\":\n                return e[this.altActionKey] ? \"skewX\" : \"scaleY\";\n\n              default:\n                return \"scale\";\n            }\n        },\n        _setupCurrentTransform: function(e, target) {\n            if (!target) {\n                return;\n            }\n            var pointer = this.getPointer(e), corner = target._findTargetCorner(this.getPointer(e, true)), action = this._getActionFromCorner(target, corner, e), origin = this._getOriginFromCorner(target, corner);\n            this._currentTransform = {\n                target: target,\n                action: action,\n                corner: corner,\n                scaleX: target.scaleX,\n                scaleY: target.scaleY,\n                skewX: target.skewX,\n                skewY: target.skewY,\n                offsetX: pointer.x - target.left,\n                offsetY: pointer.y - target.top,\n                originX: origin.x,\n                originY: origin.y,\n                ex: pointer.x,\n                ey: pointer.y,\n                lastX: pointer.x,\n                lastY: pointer.y,\n                theta: degreesToRadians(target.angle),\n                width: target.width * target.scaleX,\n                mouseXSign: 1,\n                mouseYSign: 1,\n                shiftKey: e.shiftKey,\n                altKey: e[this.centeredKey]\n            };\n            this._currentTransform.original = {\n                left: target.left,\n                top: target.top,\n                scaleX: target.scaleX,\n                scaleY: target.scaleY,\n                skewX: target.skewX,\n                skewY: target.skewY,\n                originX: origin.x,\n                originY: origin.y\n            };\n            this._resetCurrentTransform();\n        },\n        _translateObject: function(x, y) {\n            var transform = this._currentTransform, target = transform.target, newLeft = x - transform.offsetX, newTop = y - transform.offsetY, moveX = !target.get(\"lockMovementX\") && target.left !== newLeft, moveY = !target.get(\"lockMovementY\") && target.top !== newTop;\n            moveX && target.set(\"left\", newLeft);\n            moveY && target.set(\"top\", newTop);\n            return moveX || moveY;\n        },\n        _changeSkewTransformOrigin: function(mouseMove, t, by) {\n            var property = \"originX\", origins = {\n                0: \"center\"\n            }, skew = t.target.skewX, originA = \"left\", originB = \"right\", corner = t.corner === \"mt\" || t.corner === \"ml\" ? 1 : -1, flipSign = 1;\n            mouseMove = mouseMove > 0 ? 1 : -1;\n            if (by === \"y\") {\n                skew = t.target.skewY;\n                originA = \"top\";\n                originB = \"bottom\";\n                property = \"originY\";\n            }\n            origins[-1] = originA;\n            origins[1] = originB;\n            t.target.flipX && (flipSign *= -1);\n            t.target.flipY && (flipSign *= -1);\n            if (skew === 0) {\n                t.skewSign = -corner * mouseMove * flipSign;\n                t[property] = origins[-mouseMove];\n            } else {\n                skew = skew > 0 ? 1 : -1;\n                t.skewSign = skew;\n                t[property] = origins[skew * corner * flipSign];\n            }\n        },\n        _skewObject: function(x, y, by) {\n            var t = this._currentTransform, target = t.target, skewed = false, lockSkewingX = target.get(\"lockSkewingX\"), lockSkewingY = target.get(\"lockSkewingY\");\n            if (lockSkewingX && by === \"x\" || lockSkewingY && by === \"y\") {\n                return false;\n            }\n            var center = target.getCenterPoint(), actualMouseByCenter = target.toLocalPoint(new fabric.Point(x, y), \"center\", \"center\")[by], lastMouseByCenter = target.toLocalPoint(new fabric.Point(t.lastX, t.lastY), \"center\", \"center\")[by], actualMouseByOrigin, constraintPosition, dim = target._getTransformedDimensions();\n            this._changeSkewTransformOrigin(actualMouseByCenter - lastMouseByCenter, t, by);\n            actualMouseByOrigin = target.toLocalPoint(new fabric.Point(x, y), t.originX, t.originY)[by];\n            constraintPosition = target.translateToOriginPoint(center, t.originX, t.originY);\n            skewed = this._setObjectSkew(actualMouseByOrigin, t, by, dim);\n            t.lastX = x;\n            t.lastY = y;\n            target.setPositionByOrigin(constraintPosition, t.originX, t.originY);\n            return skewed;\n        },\n        _setObjectSkew: function(localMouse, transform, by, _dim) {\n            var target = transform.target, newValue, skewed = false, skewSign = transform.skewSign, newDim, dimNoSkew, otherBy, _otherBy, _by, newDimMouse, skewX, skewY;\n            if (by === \"x\") {\n                otherBy = \"y\";\n                _otherBy = \"Y\";\n                _by = \"X\";\n                skewX = 0;\n                skewY = target.skewY;\n            } else {\n                otherBy = \"x\";\n                _otherBy = \"X\";\n                _by = \"Y\";\n                skewX = target.skewX;\n                skewY = 0;\n            }\n            dimNoSkew = target._getTransformedDimensions(skewX, skewY);\n            newDimMouse = 2 * Math.abs(localMouse) - dimNoSkew[by];\n            if (newDimMouse <= 2) {\n                newValue = 0;\n            } else {\n                newValue = skewSign * Math.atan(newDimMouse / target[\"scale\" + _by] / (dimNoSkew[otherBy] / target[\"scale\" + _otherBy]));\n                newValue = fabric.util.radiansToDegrees(newValue);\n            }\n            skewed = target[\"skew\" + _by] !== newValue;\n            target.set(\"skew\" + _by, newValue);\n            if (target[\"skew\" + _otherBy] !== 0) {\n                newDim = target._getTransformedDimensions();\n                newValue = _dim[otherBy] / newDim[otherBy] * target[\"scale\" + _otherBy];\n                target.set(\"scale\" + _otherBy, newValue);\n            }\n            return skewed;\n        },\n        _scaleObject: function(x, y, by) {\n            var t = this._currentTransform, target = t.target, lockScalingX = target.lockScalingX, lockScalingY = target.lockScalingY, lockScalingFlip = target.lockScalingFlip;\n            if (lockScalingX && lockScalingY) {\n                return false;\n            }\n            var constraintPosition = target.translateToOriginPoint(target.getCenterPoint(), t.originX, t.originY), localMouse = target.toLocalPoint(new fabric.Point(x, y), t.originX, t.originY), dim = target._getTransformedDimensions(), scaled = false;\n            this._setLocalMouse(localMouse, t);\n            scaled = this._setObjectScale(localMouse, t, lockScalingX, lockScalingY, by, lockScalingFlip, dim);\n            target.setPositionByOrigin(constraintPosition, t.originX, t.originY);\n            return scaled;\n        },\n        _setObjectScale: function(localMouse, transform, lockScalingX, lockScalingY, by, lockScalingFlip, _dim) {\n            var target = transform.target, forbidScalingX = false, forbidScalingY = false, scaled = false, changeX, changeY, scaleX, scaleY;\n            scaleX = localMouse.x * target.scaleX / _dim.x;\n            scaleY = localMouse.y * target.scaleY / _dim.y;\n            changeX = target.scaleX !== scaleX;\n            changeY = target.scaleY !== scaleY;\n            if (lockScalingFlip && scaleX <= 0 && scaleX < target.scaleX) {\n                forbidScalingX = true;\n                localMouse.x = 0;\n            }\n            if (lockScalingFlip && scaleY <= 0 && scaleY < target.scaleY) {\n                forbidScalingY = true;\n                localMouse.y = 0;\n            }\n            if (by === \"equally\" && !lockScalingX && !lockScalingY) {\n                scaled = this._scaleObjectEqually(localMouse, target, transform, _dim);\n            } else if (!by) {\n                forbidScalingX || lockScalingX || target.set(\"scaleX\", scaleX) && (scaled = scaled || changeX);\n                forbidScalingY || lockScalingY || target.set(\"scaleY\", scaleY) && (scaled = scaled || changeY);\n            } else if (by === \"x\" && !target.get(\"lockUniScaling\")) {\n                forbidScalingX || lockScalingX || target.set(\"scaleX\", scaleX) && (scaled = scaled || changeX);\n            } else if (by === \"y\" && !target.get(\"lockUniScaling\")) {\n                forbidScalingY || lockScalingY || target.set(\"scaleY\", scaleY) && (scaled = scaled || changeY);\n            }\n            transform.newScaleX = scaleX;\n            transform.newScaleY = scaleY;\n            forbidScalingX || forbidScalingY || this._flipObject(transform, by);\n            return scaled;\n        },\n        _scaleObjectEqually: function(localMouse, target, transform, _dim) {\n            var dist = localMouse.y + localMouse.x, lastDist = _dim.y * transform.original.scaleY / target.scaleY + _dim.x * transform.original.scaleX / target.scaleX, scaled, signX = localMouse.x < 0 ? -1 : 1, signY = localMouse.y < 0 ? -1 : 1;\n            transform.newScaleX = signX * Math.abs(transform.original.scaleX * dist / lastDist);\n            transform.newScaleY = signY * Math.abs(transform.original.scaleY * dist / lastDist);\n            scaled = transform.newScaleX !== target.scaleX || transform.newScaleY !== target.scaleY;\n            target.set(\"scaleX\", transform.newScaleX);\n            target.set(\"scaleY\", transform.newScaleY);\n            return scaled;\n        },\n        _flipObject: function(transform, by) {\n            if (transform.newScaleX < 0 && by !== \"y\") {\n                if (transform.originX === \"left\") {\n                    transform.originX = \"right\";\n                } else if (transform.originX === \"right\") {\n                    transform.originX = \"left\";\n                }\n            }\n            if (transform.newScaleY < 0 && by !== \"x\") {\n                if (transform.originY === \"top\") {\n                    transform.originY = \"bottom\";\n                } else if (transform.originY === \"bottom\") {\n                    transform.originY = \"top\";\n                }\n            }\n        },\n        _setLocalMouse: function(localMouse, t) {\n            var target = t.target, zoom = this.getZoom(), padding = target.padding / zoom;\n            if (t.originX === \"right\") {\n                localMouse.x *= -1;\n            } else if (t.originX === \"center\") {\n                localMouse.x *= t.mouseXSign * 2;\n                if (localMouse.x < 0) {\n                    t.mouseXSign = -t.mouseXSign;\n                }\n            }\n            if (t.originY === \"bottom\") {\n                localMouse.y *= -1;\n            } else if (t.originY === \"center\") {\n                localMouse.y *= t.mouseYSign * 2;\n                if (localMouse.y < 0) {\n                    t.mouseYSign = -t.mouseYSign;\n                }\n            }\n            if (abs(localMouse.x) > padding) {\n                if (localMouse.x < 0) {\n                    localMouse.x += padding;\n                } else {\n                    localMouse.x -= padding;\n                }\n            } else {\n                localMouse.x = 0;\n            }\n            if (abs(localMouse.y) > padding) {\n                if (localMouse.y < 0) {\n                    localMouse.y += padding;\n                } else {\n                    localMouse.y -= padding;\n                }\n            } else {\n                localMouse.y = 0;\n            }\n        },\n        _rotateObject: function(x, y) {\n            var t = this._currentTransform, target = t.target, constraintPosition, constraintPosition = target.translateToOriginPoint(target.getCenterPoint(), t.originX, t.originY);\n            if (target.lockRotation) {\n                return false;\n            }\n            var lastAngle = atan2(t.ey - constraintPosition.y, t.ex - constraintPosition.x), curAngle = atan2(y - constraintPosition.y, x - constraintPosition.x), angle = radiansToDegrees(curAngle - lastAngle + t.theta), hasRotated = true;\n            if (target.snapAngle > 0) {\n                var snapAngle = target.snapAngle, snapThreshold = target.snapThreshold || snapAngle, rightAngleLocked = Math.ceil(angle / snapAngle) * snapAngle, leftAngleLocked = Math.floor(angle / snapAngle) * snapAngle;\n                if (Math.abs(angle - leftAngleLocked) < snapThreshold) {\n                    angle = leftAngleLocked;\n                } else if (Math.abs(angle - rightAngleLocked) < snapThreshold) {\n                    angle = rightAngleLocked;\n                }\n            }\n            if (angle < 0) {\n                angle = 360 + angle;\n            }\n            angle %= 360;\n            if (target.angle === angle) {\n                hasRotated = false;\n            } else {\n                target.angle = angle;\n                target.setPositionByOrigin(constraintPosition, t.originX, t.originY);\n            }\n            return hasRotated;\n        },\n        setCursor: function(value) {\n            this.upperCanvasEl.style.cursor = value;\n        },\n        _resetObjectTransform: function(target) {\n            target.scaleX = 1;\n            target.scaleY = 1;\n            target.skewX = 0;\n            target.skewY = 0;\n            target.rotate(0);\n        },\n        _drawSelection: function(ctx) {\n            var groupSelector = this._groupSelector, left = groupSelector.left, top = groupSelector.top, aleft = abs(left), atop = abs(top);\n            if (this.selectionColor) {\n                ctx.fillStyle = this.selectionColor;\n                ctx.fillRect(groupSelector.ex - (left > 0 ? 0 : -left), groupSelector.ey - (top > 0 ? 0 : -top), aleft, atop);\n            }\n            if (!this.selectionLineWidth || !this.selectionBorderColor) {\n                return;\n            }\n            ctx.lineWidth = this.selectionLineWidth;\n            ctx.strokeStyle = this.selectionBorderColor;\n            if (this.selectionDashArray.length > 1 && !supportLineDash) {\n                var px = groupSelector.ex + STROKE_OFFSET - (left > 0 ? 0 : aleft), py = groupSelector.ey + STROKE_OFFSET - (top > 0 ? 0 : atop);\n                ctx.beginPath();\n                fabric.util.drawDashedLine(ctx, px, py, px + aleft, py, this.selectionDashArray);\n                fabric.util.drawDashedLine(ctx, px, py + atop - 1, px + aleft, py + atop - 1, this.selectionDashArray);\n                fabric.util.drawDashedLine(ctx, px, py, px, py + atop, this.selectionDashArray);\n                fabric.util.drawDashedLine(ctx, px + aleft - 1, py, px + aleft - 1, py + atop, this.selectionDashArray);\n                ctx.closePath();\n                ctx.stroke();\n            } else {\n                fabric.Object.prototype._setLineDash.call(this, ctx, this.selectionDashArray);\n                ctx.strokeRect(groupSelector.ex + STROKE_OFFSET - (left > 0 ? 0 : aleft), groupSelector.ey + STROKE_OFFSET - (top > 0 ? 0 : atop), aleft, atop);\n            }\n        },\n        findTarget: function(e, skipGroup) {\n            if (this.skipTargetFind) {\n                return;\n            }\n            var ignoreZoom = true, pointer = this.getPointer(e, ignoreZoom), activeObject = this._activeObject, aObjects = this.getActiveObjects(), activeTarget, activeTargetSubs;\n            this.targets = [];\n            if (aObjects.length > 1 && !skipGroup && activeObject === this._searchPossibleTargets([ activeObject ], pointer)) {\n                return activeObject;\n            }\n            if (aObjects.length === 1 && activeObject._findTargetCorner(pointer)) {\n                return activeObject;\n            }\n            if (aObjects.length === 1 && activeObject === this._searchPossibleTargets([ activeObject ], pointer)) {\n                if (!this.preserveObjectStacking) {\n                    return activeObject;\n                } else {\n                    activeTarget = activeObject;\n                    activeTargetSubs = this.targets;\n                    this.targets = [];\n                }\n            }\n            var target = this._searchPossibleTargets(this._objects, pointer);\n            if (e[this.altSelectionKey] && target && activeTarget && target !== activeTarget) {\n                target = activeTarget;\n                this.targets = activeTargetSubs;\n            }\n            return target;\n        },\n        _checkTarget: function(pointer, obj) {\n            if (obj && obj.visible && obj.evented && this.containsPoint(null, obj, pointer)) {\n                if ((this.perPixelTargetFind || obj.perPixelTargetFind) && !obj.isEditing) {\n                    var isTransparent = this.isTargetTransparent(obj, pointer.x, pointer.y);\n                    if (!isTransparent) {\n                        return true;\n                    }\n                } else {\n                    return true;\n                }\n            }\n        },\n        _searchPossibleTargets: function(objects, pointer) {\n            var target, i = objects.length, normalizedPointer, subTarget;\n            while (i--) {\n                if (this._checkTarget(pointer, objects[i])) {\n                    target = objects[i];\n                    if (target.subTargetCheck && target instanceof fabric.Group) {\n                        normalizedPointer = this._normalizePointer(target, pointer);\n                        subTarget = this._searchPossibleTargets(target._objects, normalizedPointer);\n                        subTarget && this.targets.push(subTarget);\n                    }\n                    break;\n                }\n            }\n            return target;\n        },\n        restorePointerVpt: function(pointer) {\n            return fabric.util.transformPoint(pointer, fabric.util.invertTransform(this.viewportTransform));\n        },\n        getPointer: function(e, ignoreZoom, upperCanvasEl) {\n            if (!upperCanvasEl) {\n                upperCanvasEl = this.upperCanvasEl;\n            }\n            var pointer = getPointer(e), bounds = upperCanvasEl.getBoundingClientRect(), boundsWidth = bounds.width || 0, boundsHeight = bounds.height || 0, cssScale;\n            if (!boundsWidth || !boundsHeight) {\n                if (\"top\" in bounds && \"bottom\" in bounds) {\n                    boundsHeight = Math.abs(bounds.top - bounds.bottom);\n                }\n                if (\"right\" in bounds && \"left\" in bounds) {\n                    boundsWidth = Math.abs(bounds.right - bounds.left);\n                }\n            }\n            this.calcOffset();\n            pointer.x = pointer.x - this._offset.left;\n            pointer.y = pointer.y - this._offset.top;\n            if (!ignoreZoom) {\n                pointer = this.restorePointerVpt(pointer);\n            }\n            if (boundsWidth === 0 || boundsHeight === 0) {\n                cssScale = {\n                    width: 1,\n                    height: 1\n                };\n            } else {\n                cssScale = {\n                    width: upperCanvasEl.width / boundsWidth,\n                    height: upperCanvasEl.height / boundsHeight\n                };\n            }\n            return {\n                x: pointer.x * cssScale.width,\n                y: pointer.y * cssScale.height\n            };\n        },\n        _createUpperCanvas: function() {\n            var lowerCanvasClass = this.lowerCanvasEl.className.replace(/\\s*lower-canvas\\s*/, \"\");\n            if (this.upperCanvasEl) {\n                this.upperCanvasEl.className = \"\";\n            } else {\n                this.upperCanvasEl = this._createCanvasElement();\n            }\n            fabric.util.addClass(this.upperCanvasEl, \"upper-canvas \" + lowerCanvasClass);\n            this.wrapperEl.appendChild(this.upperCanvasEl);\n            this._copyCanvasStyle(this.lowerCanvasEl, this.upperCanvasEl);\n            this._applyCanvasStyle(this.upperCanvasEl);\n            this.contextTop = this.upperCanvasEl.getContext(\"2d\");\n        },\n        _createCacheCanvas: function() {\n            this.cacheCanvasEl = this._createCanvasElement();\n            this.cacheCanvasEl.setAttribute(\"width\", this.width);\n            this.cacheCanvasEl.setAttribute(\"height\", this.height);\n            this.contextCache = this.cacheCanvasEl.getContext(\"2d\");\n        },\n        _initWrapperElement: function() {\n            this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, \"div\", {\n                class: this.containerClass\n            });\n            fabric.util.setStyle(this.wrapperEl, {\n                width: this.width + \"px\",\n                height: this.height + \"px\",\n                position: \"relative\"\n            });\n            fabric.util.makeElementUnselectable(this.wrapperEl);\n        },\n        _applyCanvasStyle: function(element) {\n            var width = this.width || element.width, height = this.height || element.height;\n            fabric.util.setStyle(element, {\n                position: \"absolute\",\n                width: width + \"px\",\n                height: height + \"px\",\n                left: 0,\n                top: 0,\n                \"touch-action\": \"none\"\n            });\n            element.width = width;\n            element.height = height;\n            fabric.util.makeElementUnselectable(element);\n        },\n        _copyCanvasStyle: function(fromEl, toEl) {\n            toEl.style.cssText = fromEl.style.cssText;\n        },\n        getSelectionContext: function() {\n            return this.contextTop;\n        },\n        getSelectionElement: function() {\n            return this.upperCanvasEl;\n        },\n        getActiveObject: function() {\n            return this._activeObject;\n        },\n        getActiveObjects: function() {\n            var active = this._activeObject;\n            if (active) {\n                if (active.type === \"activeSelection\" && active._objects) {\n                    return active._objects.slice(0);\n                } else {\n                    return [ active ];\n                }\n            }\n            return [];\n        },\n        _onObjectRemoved: function(obj) {\n            if (obj === this._activeObject) {\n                this.fire(\"before:selection:cleared\", {\n                    target: obj\n                });\n                this._discardActiveObject();\n                this.fire(\"selection:cleared\", {\n                    target: obj\n                });\n                obj.fire(\"deselected\");\n            }\n            if (this._hoveredTarget === obj) {\n                this._hoveredTarget = null;\n            }\n            this.callSuper(\"_onObjectRemoved\", obj);\n        },\n        _fireSelectionEvents: function(oldObjects, e) {\n            var somethingChanged = false, objects = this.getActiveObjects(), added = [], removed = [], opt = {\n                e: e\n            };\n            oldObjects.forEach(function(oldObject) {\n                if (objects.indexOf(oldObject) === -1) {\n                    somethingChanged = true;\n                    oldObject.fire(\"deselected\", opt);\n                    removed.push(oldObject);\n                }\n            });\n            objects.forEach(function(object) {\n                if (oldObjects.indexOf(object) === -1) {\n                    somethingChanged = true;\n                    object.fire(\"selected\", opt);\n                    added.push(object);\n                }\n            });\n            if (oldObjects.length > 0 && objects.length > 0) {\n                opt.selected = added;\n                opt.deselected = removed;\n                opt.updated = added[0] || removed[0];\n                opt.target = this._activeObject;\n                somethingChanged && this.fire(\"selection:updated\", opt);\n            } else if (objects.length > 0) {\n                if (objects.length === 1) {\n                    opt.target = added[0];\n                    this.fire(\"object:selected\", opt);\n                }\n                opt.selected = added;\n                opt.target = this._activeObject;\n                this.fire(\"selection:created\", opt);\n            } else if (oldObjects.length > 0) {\n                opt.deselected = removed;\n                this.fire(\"selection:cleared\", opt);\n            }\n        },\n        setActiveObject: function(object, e) {\n            var currentActives = this.getActiveObjects();\n            this._setActiveObject(object, e);\n            this._fireSelectionEvents(currentActives, e);\n            return this;\n        },\n        _setActiveObject: function(object, e) {\n            if (this._activeObject === object) {\n                return false;\n            }\n            if (!this._discardActiveObject(e, object)) {\n                return false;\n            }\n            if (object.onSelect({\n                e: e\n            })) {\n                return false;\n            }\n            this._activeObject = object;\n            return true;\n        },\n        _discardActiveObject: function(e, object) {\n            var obj = this._activeObject;\n            if (obj) {\n                if (obj.onDeselect({\n                    e: e,\n                    object: object\n                })) {\n                    return false;\n                }\n                this._activeObject = null;\n            }\n            return true;\n        },\n        discardActiveObject: function(e) {\n            var currentActives = this.getActiveObjects();\n            if (currentActives.length) {\n                this.fire(\"before:selection:cleared\", {\n                    target: currentActives[0],\n                    e: e\n                });\n            }\n            this._discardActiveObject(e);\n            this._fireSelectionEvents(currentActives, e);\n            return this;\n        },\n        dispose: function() {\n            var wrapper = this.wrapperEl;\n            this.removeListeners();\n            wrapper.removeChild(this.upperCanvasEl);\n            wrapper.removeChild(this.lowerCanvasEl);\n            this.upperCanvasEl = null;\n            this.cacheCanvasEl = null;\n            this.contextCache = null;\n            this.contextTop = null;\n            if (wrapper.parentNode) {\n                wrapper.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl);\n            }\n            delete this.wrapperEl;\n            fabric.StaticCanvas.prototype.dispose.call(this);\n            return this;\n        },\n        clear: function() {\n            this.discardActiveObject();\n            this.clearContext(this.contextTop);\n            return this.callSuper(\"clear\");\n        },\n        drawControls: function(ctx) {\n            var activeObject = this._activeObject;\n            if (activeObject) {\n                activeObject._renderControls(ctx);\n            }\n        },\n        _toObject: function(instance, methodName, propertiesToInclude) {\n            var originalProperties = this._realizeGroupTransformOnObject(instance), object = this.callSuper(\"_toObject\", instance, methodName, propertiesToInclude);\n            this._unwindGroupTransformOnObject(instance, originalProperties);\n            return object;\n        },\n        _realizeGroupTransformOnObject: function(instance) {\n            if (instance.group && instance.group.type === \"activeSelection\" && this._activeObject === instance.group) {\n                var layoutProps = [ \"angle\", \"flipX\", \"flipY\", \"left\", \"scaleX\", \"scaleY\", \"skewX\", \"skewY\", \"top\" ];\n                var originalValues = {};\n                layoutProps.forEach(function(prop) {\n                    originalValues[prop] = instance[prop];\n                });\n                this._activeObject.realizeTransform(instance);\n                return originalValues;\n            } else {\n                return null;\n            }\n        },\n        _unwindGroupTransformOnObject: function(instance, originalValues) {\n            if (originalValues) {\n                instance.set(originalValues);\n            }\n        },\n        _setSVGObject: function(markup, instance, reviver) {\n            var originalProperties = this._realizeGroupTransformOnObject(instance);\n            this.callSuper(\"_setSVGObject\", markup, instance, reviver);\n            this._unwindGroupTransformOnObject(instance, originalProperties);\n        }\n    });\n    for (var prop in fabric.StaticCanvas) {\n        if (prop !== \"prototype\") {\n            fabric.Canvas[prop] = fabric.StaticCanvas[prop];\n        }\n    }\n    if (fabric.isTouchSupported) {\n        fabric.Canvas.prototype._setCursorFromEvent = function() {};\n    }\n})();\n\n(function() {\n    var cursorOffset = {\n        mt: 0,\n        tr: 1,\n        mr: 2,\n        br: 3,\n        mb: 4,\n        bl: 5,\n        ml: 6,\n        tl: 7\n    }, addListener = fabric.util.addListener, removeListener = fabric.util.removeListener, RIGHT_CLICK = 3, MIDDLE_CLICK = 2, LEFT_CLICK = 1, addEventOptions = {\n        passive: false\n    };\n    function checkClick(e, value) {\n        return \"which\" in e ? e.which === value : e.button === value - 1;\n    }\n    fabric.util.object.extend(fabric.Canvas.prototype, {\n        cursorMap: [ \"n-resize\", \"ne-resize\", \"e-resize\", \"se-resize\", \"s-resize\", \"sw-resize\", \"w-resize\", \"nw-resize\" ],\n        _initEventListeners: function() {\n            this.removeListeners();\n            this._bindEvents();\n            addListener(fabric.window, \"resize\", this._onResize);\n            addListener(this.upperCanvasEl, \"mousedown\", this._onMouseDown);\n            addListener(this.upperCanvasEl, \"dblclick\", this._onDoubleClick);\n            addListener(this.upperCanvasEl, \"mousemove\", this._onMouseMove);\n            addListener(this.upperCanvasEl, \"mouseout\", this._onMouseOut);\n            addListener(this.upperCanvasEl, \"mouseenter\", this._onMouseEnter);\n            addListener(this.upperCanvasEl, \"wheel\", this._onMouseWheel);\n            addListener(this.upperCanvasEl, \"contextmenu\", this._onContextMenu);\n            addListener(this.upperCanvasEl, \"dragover\", this._onDragOver);\n            addListener(this.upperCanvasEl, \"dragenter\", this._onDragEnter);\n            addListener(this.upperCanvasEl, \"dragleave\", this._onDragLeave);\n            addListener(this.upperCanvasEl, \"drop\", this._onDrop);\n            addListener(this.upperCanvasEl, \"touchstart\", this._onMouseDown, addEventOptions);\n            addListener(this.upperCanvasEl, \"touchmove\", this._onMouseMove, addEventOptions);\n            if (typeof eventjs !== \"undefined\" && \"add\" in eventjs) {\n                eventjs.add(this.upperCanvasEl, \"gesture\", this._onGesture);\n                eventjs.add(this.upperCanvasEl, \"drag\", this._onDrag);\n                eventjs.add(this.upperCanvasEl, \"orientation\", this._onOrientationChange);\n                eventjs.add(this.upperCanvasEl, \"shake\", this._onShake);\n                eventjs.add(this.upperCanvasEl, \"longpress\", this._onLongPress);\n            }\n        },\n        _bindEvents: function() {\n            if (this.eventsBound) {\n                return;\n            }\n            this._onMouseDown = this._onMouseDown.bind(this);\n            this._onMouseMove = this._onMouseMove.bind(this);\n            this._onMouseUp = this._onMouseUp.bind(this);\n            this._onResize = this._onResize.bind(this);\n            this._onGesture = this._onGesture.bind(this);\n            this._onDrag = this._onDrag.bind(this);\n            this._onShake = this._onShake.bind(this);\n            this._onLongPress = this._onLongPress.bind(this);\n            this._onOrientationChange = this._onOrientationChange.bind(this);\n            this._onMouseWheel = this._onMouseWheel.bind(this);\n            this._onMouseOut = this._onMouseOut.bind(this);\n            this._onMouseEnter = this._onMouseEnter.bind(this);\n            this._onContextMenu = this._onContextMenu.bind(this);\n            this._onDoubleClick = this._onDoubleClick.bind(this);\n            this._onDragOver = this._onDragOver.bind(this);\n            this._onDragEnter = this._simpleEventHandler.bind(this, \"dragenter\");\n            this._onDragLeave = this._simpleEventHandler.bind(this, \"dragleave\");\n            this._onDrop = this._simpleEventHandler.bind(this, \"drop\");\n            this.eventsBound = true;\n        },\n        removeListeners: function() {\n            removeListener(fabric.window, \"resize\", this._onResize);\n            removeListener(this.upperCanvasEl, \"mousedown\", this._onMouseDown);\n            removeListener(this.upperCanvasEl, \"mousemove\", this._onMouseMove);\n            removeListener(this.upperCanvasEl, \"mouseout\", this._onMouseOut);\n            removeListener(this.upperCanvasEl, \"mouseenter\", this._onMouseEnter);\n            removeListener(this.upperCanvasEl, \"wheel\", this._onMouseWheel);\n            removeListener(this.upperCanvasEl, \"contextmenu\", this._onContextMenu);\n            removeListener(this.upperCanvasEl, \"doubleclick\", this._onDoubleClick);\n            removeListener(this.upperCanvasEl, \"touchstart\", this._onMouseDown);\n            removeListener(this.upperCanvasEl, \"touchmove\", this._onMouseMove);\n            removeListener(this.upperCanvasEl, \"dragover\", this._onDragOver);\n            removeListener(this.upperCanvasEl, \"dragenter\", this._onDragEnter);\n            removeListener(this.upperCanvasEl, \"dragleave\", this._onDragLeave);\n            removeListener(this.upperCanvasEl, \"drop\", this._onDrop);\n            if (typeof eventjs !== \"undefined\" && \"remove\" in eventjs) {\n                eventjs.remove(this.upperCanvasEl, \"gesture\", this._onGesture);\n                eventjs.remove(this.upperCanvasEl, \"drag\", this._onDrag);\n                eventjs.remove(this.upperCanvasEl, \"orientation\", this._onOrientationChange);\n                eventjs.remove(this.upperCanvasEl, \"shake\", this._onShake);\n                eventjs.remove(this.upperCanvasEl, \"longpress\", this._onLongPress);\n            }\n        },\n        _onGesture: function(e, self) {\n            this.__onTransformGesture && this.__onTransformGesture(e, self);\n        },\n        _onDrag: function(e, self) {\n            this.__onDrag && this.__onDrag(e, self);\n        },\n        _onMouseWheel: function(e) {\n            this.__onMouseWheel(e);\n        },\n        _onMouseOut: function(e) {\n            var target = this._hoveredTarget;\n            this.fire(\"mouse:out\", {\n                target: target,\n                e: e\n            });\n            this._hoveredTarget = null;\n            target && target.fire(\"mouseout\", {\n                e: e\n            });\n            if (this._iTextInstances) {\n                this._iTextInstances.forEach(function(obj) {\n                    if (obj.isEditing) {\n                        obj.hiddenTextarea.focus();\n                    }\n                });\n            }\n        },\n        _onMouseEnter: function(e) {\n            if (!this.findTarget(e)) {\n                this.fire(\"mouse:over\", {\n                    target: null,\n                    e: e\n                });\n                this._hoveredTarget = null;\n            }\n        },\n        _onOrientationChange: function(e, self) {\n            this.__onOrientationChange && this.__onOrientationChange(e, self);\n        },\n        _onShake: function(e, self) {\n            this.__onShake && this.__onShake(e, self);\n        },\n        _onLongPress: function(e, self) {\n            this.__onLongPress && this.__onLongPress(e, self);\n        },\n        _onDragOver: function(e) {\n            e.preventDefault();\n            var target = this._simpleEventHandler(\"dragover\", e);\n            this._fireEnterLeaveEvents(target, e);\n        },\n        _onContextMenu: function(e) {\n            if (this.stopContextMenu) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n            return false;\n        },\n        _onDoubleClick: function(e) {\n            this._handleEvent(e, \"dblclick\");\n        },\n        _onMouseDown: function(e) {\n            this.__onMouseDown(e);\n            addListener(fabric.document, \"touchend\", this._onMouseUp, addEventOptions);\n            addListener(fabric.document, \"touchmove\", this._onMouseMove, addEventOptions);\n            removeListener(this.upperCanvasEl, \"mousemove\", this._onMouseMove);\n            removeListener(this.upperCanvasEl, \"touchmove\", this._onMouseMove, addEventOptions);\n            if (e.type === \"touchstart\") {\n                removeListener(this.upperCanvasEl, \"mousedown\", this._onMouseDown);\n            } else {\n                addListener(fabric.document, \"mouseup\", this._onMouseUp);\n                addListener(fabric.document, \"mousemove\", this._onMouseMove);\n            }\n        },\n        _onMouseUp: function(e) {\n            this.__onMouseUp(e);\n            removeListener(fabric.document, \"mouseup\", this._onMouseUp);\n            removeListener(fabric.document, \"touchend\", this._onMouseUp, addEventOptions);\n            removeListener(fabric.document, \"mousemove\", this._onMouseMove);\n            removeListener(fabric.document, \"touchmove\", this._onMouseMove, addEventOptions);\n            addListener(this.upperCanvasEl, \"mousemove\", this._onMouseMove);\n            addListener(this.upperCanvasEl, \"touchmove\", this._onMouseMove, addEventOptions);\n            if (e.type === \"touchend\") {\n                var _this = this;\n                setTimeout(function() {\n                    addListener(_this.upperCanvasEl, \"mousedown\", _this._onMouseDown);\n                }, 400);\n            }\n        },\n        _onMouseMove: function(e) {\n            !this.allowTouchScrolling && e.preventDefault && e.preventDefault();\n            this.__onMouseMove(e);\n        },\n        _onResize: function() {\n            this.calcOffset();\n        },\n        _shouldRender: function(target, pointer) {\n            var activeObject = this._activeObject;\n            if (activeObject && activeObject.isEditing && target === activeObject) {\n                return false;\n            }\n            return !!(target && (target.isMoving || target !== activeObject) || !target && !!activeObject || !target && !activeObject && !this._groupSelector || pointer && this._previousPointer && this.selection && (pointer.x !== this._previousPointer.x || pointer.y !== this._previousPointer.y));\n        },\n        __onMouseUp: function(e) {\n            var target, searchTarget = true, transform = this._currentTransform, groupSelector = this._groupSelector, isClick = !groupSelector || groupSelector.left === 0 && groupSelector.top === 0;\n            if (checkClick(e, RIGHT_CLICK)) {\n                if (this.fireRightClick) {\n                    this._handleEvent(e, \"up\", target, RIGHT_CLICK, isClick);\n                }\n                return;\n            }\n            if (checkClick(e, MIDDLE_CLICK)) {\n                if (this.fireMiddleClick) {\n                    this._handleEvent(e, \"up\", target, MIDDLE_CLICK, isClick);\n                }\n                return;\n            }\n            if (this.isDrawingMode && this._isCurrentlyDrawing) {\n                this._onMouseUpInDrawingMode(e);\n                return;\n            }\n            if (transform) {\n                this._finalizeCurrentTransform(e);\n                searchTarget = !transform.actionPerformed;\n            }\n            target = searchTarget ? this.findTarget(e, true) : transform.target;\n            var shouldRender = this._shouldRender(target, this.getPointer(e));\n            if (target || !isClick) {\n                this._maybeGroupObjects(e);\n            } else {\n                this._groupSelector = null;\n                this._currentTransform = null;\n            }\n            if (target) {\n                target.isMoving = false;\n            }\n            this._setCursorFromEvent(e, target);\n            this._handleEvent(e, \"up\", target ? target : null, LEFT_CLICK, isClick);\n            target && (target.__corner = 0);\n            shouldRender && this.requestRenderAll();\n        },\n        _simpleEventHandler: function(eventType, e) {\n            var target = this.findTarget(e), targets = this.targets, options = {\n                e: e,\n                target: target,\n                subTargets: targets\n            };\n            this.fire(eventType, options);\n            target && target.fire(eventType, options);\n            if (!targets) {\n                return target;\n            }\n            for (var i = 0; i < targets.length; i++) {\n                targets[i].fire(eventType, options);\n            }\n            return target;\n        },\n        _handleEvent: function(e, eventType, targetObj, button, isClick) {\n            var target = typeof targetObj === \"undefined\" ? this.findTarget(e) : targetObj, targets = this.targets || [], options = {\n                e: e,\n                target: target,\n                subTargets: targets,\n                button: button || LEFT_CLICK,\n                isClick: isClick || false\n            };\n            this.fire(\"mouse:\" + eventType, options);\n            target && target.fire(\"mouse\" + eventType, options);\n            for (var i = 0; i < targets.length; i++) {\n                targets[i].fire(\"mouse\" + eventType, options);\n            }\n        },\n        _finalizeCurrentTransform: function(e) {\n            var transform = this._currentTransform, target = transform.target;\n            if (target._scaling) {\n                target._scaling = false;\n            }\n            target.setCoords();\n            if (transform.actionPerformed || this.stateful && target.hasStateChanged()) {\n                this.fire(\"object:modified\", {\n                    target: target,\n                    e: e\n                });\n                target.fire(\"modified\", {\n                    e: e\n                });\n            }\n        },\n        _onMouseDownInDrawingMode: function(e) {\n            this._isCurrentlyDrawing = true;\n            if (this.getActiveObject()) {\n                this.discardActiveObject(e).requestRenderAll();\n            }\n            if (this.clipTo) {\n                fabric.util.clipContext(this, this.contextTop);\n            }\n            var pointer = this.getPointer(e);\n            this.freeDrawingBrush.onMouseDown(pointer);\n            this._handleEvent(e, \"down\");\n        },\n        _onMouseMoveInDrawingMode: function(e) {\n            if (this._isCurrentlyDrawing) {\n                var pointer = this.getPointer(e);\n                this.freeDrawingBrush.onMouseMove(pointer);\n            }\n            this.setCursor(this.freeDrawingCursor);\n            this._handleEvent(e, \"move\");\n        },\n        _onMouseUpInDrawingMode: function(e) {\n            this._isCurrentlyDrawing = false;\n            if (this.clipTo) {\n                this.contextTop.restore();\n            }\n            this.freeDrawingBrush.onMouseUp();\n            this._handleEvent(e, \"up\");\n        },\n        __onMouseDown: function(e) {\n            var target = this.findTarget(e) || null;\n            if (checkClick(e, RIGHT_CLICK)) {\n                if (this.fireRightClick) {\n                    this._handleEvent(e, \"down\", target, RIGHT_CLICK);\n                }\n                return;\n            }\n            if (checkClick(e, MIDDLE_CLICK)) {\n                if (this.fireMiddleClick) {\n                    this._handleEvent(e, \"down\", target, MIDDLE_CLICK);\n                }\n                return;\n            }\n            if (this.isDrawingMode) {\n                this._onMouseDownInDrawingMode(e);\n                return;\n            }\n            if (this._currentTransform) {\n                return;\n            }\n            var pointer = this.getPointer(e, true);\n            this._previousPointer = pointer;\n            var shouldRender = this._shouldRender(target, pointer), shouldGroup = this._shouldGroup(e, target);\n            if (this._shouldClearSelection(e, target)) {\n                this.discardActiveObject(e);\n            } else if (shouldGroup) {\n                this._handleGrouping(e, target);\n                target = this._activeObject;\n            }\n            if (this.selection && (!target || !target.selectable && !target.isEditing && target !== this._activeObject)) {\n                this._groupSelector = {\n                    ex: pointer.x,\n                    ey: pointer.y,\n                    top: 0,\n                    left: 0\n                };\n            }\n            if (target) {\n                if (target.selectable) {\n                    this.setActiveObject(target, e);\n                }\n                if (target === this._activeObject && (target.__corner || !shouldGroup)) {\n                    this._beforeTransform(e, target);\n                    this._setupCurrentTransform(e, target);\n                }\n            }\n            this._handleEvent(e, \"down\", target);\n            shouldRender && this.requestRenderAll();\n        },\n        _beforeTransform: function(e, target) {\n            this.stateful && target.saveState();\n            if (target._findTargetCorner(this.getPointer(e, true))) {\n                this.onBeforeScaleRotate(target);\n            }\n        },\n        __onMouseMove: function(e) {\n            var target, pointer;\n            if (this.isDrawingMode) {\n                this._onMouseMoveInDrawingMode(e);\n                return;\n            }\n            if (typeof e.touches !== \"undefined\" && e.touches.length > 1) {\n                return;\n            }\n            var groupSelector = this._groupSelector;\n            if (groupSelector) {\n                pointer = this.getPointer(e, true);\n                groupSelector.left = pointer.x - groupSelector.ex;\n                groupSelector.top = pointer.y - groupSelector.ey;\n                this.renderTop();\n            } else if (!this._currentTransform) {\n                target = this.findTarget(e) || null;\n                this._setCursorFromEvent(e, target);\n                this._fireOverOutEvents(target, e);\n            } else {\n                this._transformObject(e);\n            }\n            this._handleEvent(e, \"move\", this._currentTransform ? null : target);\n        },\n        _fireOverOutEvents: function(target, e) {\n            this.fireSynteticInOutEvents(target, e, {\n                targetName: \"_hoveredTarget\",\n                canvasEvtOut: \"mouse:out\",\n                evtOut: \"mouseout\",\n                canvasEvtIn: \"mouse:over\",\n                evtIn: \"mouseover\"\n            });\n        },\n        _fireEnterLeaveEvents: function(target, e) {\n            this.fireSynteticInOutEvents(target, e, {\n                targetName: \"_draggedoverTarget\",\n                evtOut: \"dragleave\",\n                evtIn: \"dragenter\"\n            });\n        },\n        fireSynteticInOutEvents: function(target, e, config) {\n            var inOpt, outOpt, oldTarget = this[config.targetName], outFires, inFires, targetChanged = oldTarget !== target, canvasEvtIn = config.canvasEvtIn, canvasEvtOut = config.canvasEvtOut;\n            if (targetChanged) {\n                inOpt = {\n                    e: e,\n                    target: target,\n                    previousTarget: oldTarget\n                };\n                outOpt = {\n                    e: e,\n                    target: oldTarget,\n                    nextTarget: target\n                };\n                this[config.targetName] = target;\n            }\n            inFires = target && targetChanged;\n            outFires = oldTarget && targetChanged;\n            if (outFires) {\n                canvasEvtOut && this.fire(canvasEvtOut, outOpt);\n                oldTarget.fire(config.evtOut, outOpt);\n            }\n            if (inFires) {\n                canvasEvtIn && this.fire(canvasEvtIn, inOpt);\n                target.fire(config.evtIn, inOpt);\n            }\n        },\n        __onMouseWheel: function(e) {\n            this._handleEvent(e, \"wheel\");\n        },\n        _transformObject: function(e) {\n            var pointer = this.getPointer(e), transform = this._currentTransform;\n            transform.reset = false;\n            transform.target.isMoving = true;\n            transform.shiftKey = e.shiftKey;\n            transform.altKey = e[this.centeredKey];\n            this._beforeScaleTransform(e, transform);\n            this._performTransformAction(e, transform, pointer);\n            transform.actionPerformed && this.requestRenderAll();\n        },\n        _performTransformAction: function(e, transform, pointer) {\n            var x = pointer.x, y = pointer.y, target = transform.target, action = transform.action, actionPerformed = false;\n            if (action === \"rotate\") {\n                (actionPerformed = this._rotateObject(x, y)) && this._fire(\"rotating\", target, e);\n            } else if (action === \"scale\") {\n                (actionPerformed = this._onScale(e, transform, x, y)) && this._fire(\"scaling\", target, e);\n            } else if (action === \"scaleX\") {\n                (actionPerformed = this._scaleObject(x, y, \"x\")) && this._fire(\"scaling\", target, e);\n            } else if (action === \"scaleY\") {\n                (actionPerformed = this._scaleObject(x, y, \"y\")) && this._fire(\"scaling\", target, e);\n            } else if (action === \"skewX\") {\n                (actionPerformed = this._skewObject(x, y, \"x\")) && this._fire(\"skewing\", target, e);\n            } else if (action === \"skewY\") {\n                (actionPerformed = this._skewObject(x, y, \"y\")) && this._fire(\"skewing\", target, e);\n            } else {\n                actionPerformed = this._translateObject(x, y);\n                if (actionPerformed) {\n                    this._fire(\"moving\", target, e);\n                    this.setCursor(target.moveCursor || this.moveCursor);\n                }\n            }\n            transform.actionPerformed = transform.actionPerformed || actionPerformed;\n        },\n        _fire: function(eventName, target, e) {\n            this.fire(\"object:\" + eventName, {\n                target: target,\n                e: e\n            });\n            target.fire(eventName, {\n                e: e\n            });\n        },\n        _beforeScaleTransform: function(e, transform) {\n            if (transform.action === \"scale\" || transform.action === \"scaleX\" || transform.action === \"scaleY\") {\n                var centerTransform = this._shouldCenterTransform(transform.target);\n                if (centerTransform && (transform.originX !== \"center\" || transform.originY !== \"center\") || !centerTransform && transform.originX === \"center\" && transform.originY === \"center\") {\n                    this._resetCurrentTransform();\n                    transform.reset = true;\n                }\n            }\n        },\n        _onScale: function(e, transform, x, y) {\n            if (this._isUniscalePossible(e, transform.target)) {\n                transform.currentAction = \"scale\";\n                return this._scaleObject(x, y);\n            } else {\n                if (!transform.reset && transform.currentAction === \"scale\") {\n                    this._resetCurrentTransform();\n                }\n                transform.currentAction = \"scaleEqually\";\n                return this._scaleObject(x, y, \"equally\");\n            }\n        },\n        _isUniscalePossible: function(e, target) {\n            return (e[this.uniScaleKey] || this.uniScaleTransform) && !target.get(\"lockUniScaling\");\n        },\n        _setCursorFromEvent: function(e, target) {\n            if (!target) {\n                this.setCursor(this.defaultCursor);\n                return false;\n            }\n            var hoverCursor = target.hoverCursor || this.hoverCursor, activeSelection = this._activeObject && this._activeObject.type === \"activeSelection\" ? this._activeObject : null, corner = (!activeSelection || !activeSelection.contains(target)) && target._findTargetCorner(this.getPointer(e, true));\n            if (!corner) {\n                this.setCursor(hoverCursor);\n            } else {\n                this.setCursor(this.getCornerCursor(corner, target, e));\n            }\n        },\n        getCornerCursor: function(corner, target, e) {\n            if (this.actionIsDisabled(corner, target, e)) {\n                return this.notAllowedCursor;\n            } else if (corner in cursorOffset) {\n                return this._getRotatedCornerCursor(corner, target, e);\n            } else if (corner === \"mtr\" && target.hasRotatingPoint) {\n                return this.rotationCursor;\n            } else {\n                return this.defaultCursor;\n            }\n        },\n        actionIsDisabled: function(corner, target, e) {\n            if (corner === \"mt\" || corner === \"mb\") {\n                return e[this.altActionKey] ? target.lockSkewingX : target.lockScalingY;\n            } else if (corner === \"ml\" || corner === \"mr\") {\n                return e[this.altActionKey] ? target.lockSkewingY : target.lockScalingX;\n            } else if (corner === \"mtr\") {\n                return target.lockRotation;\n            } else {\n                return this._isUniscalePossible(e, target) ? target.lockScalingX && target.lockScalingY : target.lockScalingX || target.lockScalingY;\n            }\n        },\n        _getRotatedCornerCursor: function(corner, target, e) {\n            var n = Math.round(target.angle % 360 / 45);\n            if (n < 0) {\n                n += 8;\n            }\n            n += cursorOffset[corner];\n            if (e[this.altActionKey] && cursorOffset[corner] % 2 === 0) {\n                n += 2;\n            }\n            n %= 8;\n            return this.cursorMap[n];\n        }\n    });\n})();\n\n(function() {\n    var min = Math.min, max = Math.max;\n    fabric.util.object.extend(fabric.Canvas.prototype, {\n        _shouldGroup: function(e, target) {\n            var activeObject = this._activeObject;\n            return activeObject && this._isSelectionKeyPressed(e) && target && target.selectable && this.selection && (activeObject !== target || activeObject.type === \"activeSelection\");\n        },\n        _handleGrouping: function(e, target) {\n            var activeObject = this._activeObject;\n            if (activeObject.__corner) {\n                return;\n            }\n            if (target === activeObject) {\n                target = this.findTarget(e, true);\n                if (!target) {\n                    return;\n                }\n            }\n            if (activeObject && activeObject.type === \"activeSelection\") {\n                this._updateActiveSelection(target, e);\n            } else {\n                this._createActiveSelection(target, e);\n            }\n        },\n        _updateActiveSelection: function(target, e) {\n            var activeSelection = this._activeObject, currentActiveObjects = activeSelection._objects.slice(0);\n            if (activeSelection.contains(target)) {\n                activeSelection.removeWithUpdate(target);\n                this._hoveredTarget = target;\n                if (activeSelection.size() === 1) {\n                    this._setActiveObject(activeSelection.item(0), e);\n                }\n            } else {\n                activeSelection.addWithUpdate(target);\n                this._hoveredTarget = activeSelection;\n            }\n            this._fireSelectionEvents(currentActiveObjects, e);\n        },\n        _createActiveSelection: function(target, e) {\n            var currentActives = this.getActiveObjects(), group = this._createGroup(target);\n            this._hoveredTarget = group;\n            this._setActiveObject(group, e);\n            this._fireSelectionEvents(currentActives, e);\n        },\n        _createGroup: function(target) {\n            var objects = this.getObjects(), isActiveLower = objects.indexOf(this._activeObject) < objects.indexOf(target), groupObjects = isActiveLower ? [ this._activeObject, target ] : [ target, this._activeObject ];\n            this._activeObject.isEditing && this._activeObject.exitEditing();\n            return new fabric.ActiveSelection(groupObjects, {\n                canvas: this\n            });\n        },\n        _groupSelectedObjects: function(e) {\n            var group = this._collectObjects(), aGroup;\n            if (group.length === 1) {\n                this.setActiveObject(group[0], e);\n            } else if (group.length > 1) {\n                aGroup = new fabric.ActiveSelection(group.reverse(), {\n                    canvas: this\n                });\n                this.setActiveObject(aGroup, e);\n            }\n        },\n        _collectObjects: function() {\n            var group = [], currentObject, x1 = this._groupSelector.ex, y1 = this._groupSelector.ey, x2 = x1 + this._groupSelector.left, y2 = y1 + this._groupSelector.top, selectionX1Y1 = new fabric.Point(min(x1, x2), min(y1, y2)), selectionX2Y2 = new fabric.Point(max(x1, x2), max(y1, y2)), allowIntersect = !this.selectionFullyContained, isClick = x1 === x2 && y1 === y2;\n            for (var i = this._objects.length; i--; ) {\n                currentObject = this._objects[i];\n                if (!currentObject || !currentObject.selectable || !currentObject.visible) {\n                    continue;\n                }\n                if (allowIntersect && currentObject.intersectsWithRect(selectionX1Y1, selectionX2Y2) || currentObject.isContainedWithinRect(selectionX1Y1, selectionX2Y2) || allowIntersect && currentObject.containsPoint(selectionX1Y1) || allowIntersect && currentObject.containsPoint(selectionX2Y2)) {\n                    group.push(currentObject);\n                    if (isClick) {\n                        break;\n                    }\n                }\n            }\n            return group;\n        },\n        _maybeGroupObjects: function(e) {\n            if (this.selection && this._groupSelector) {\n                this._groupSelectedObjects(e);\n            }\n            this.setCursor(this.defaultCursor);\n            this._groupSelector = null;\n            this._currentTransform = null;\n        }\n    });\n})();\n\n(function() {\n    var supportQuality = fabric.StaticCanvas.supports(\"toDataURLWithQuality\");\n    fabric.util.object.extend(fabric.StaticCanvas.prototype, {\n        toDataURL: function(options) {\n            options || (options = {});\n            var format = options.format || \"png\", quality = options.quality || 1, multiplier = (options.multiplier || 1) * (options.enableRetinaScaling ? 1 : 1 / this.getRetinaScaling()), cropping = {\n                left: options.left || 0,\n                top: options.top || 0,\n                width: options.width || 0,\n                height: options.height || 0\n            };\n            return this.__toDataURLWithMultiplier(format, quality, cropping, multiplier);\n        },\n        __toDataURLWithMultiplier: function(format, quality, cropping, multiplier) {\n            var origWidth = this.width, origHeight = this.height, scaledWidth = (cropping.width || this.width) * multiplier, scaledHeight = (cropping.height || this.height) * multiplier, zoom = this.getZoom(), newZoom = zoom * multiplier, vp = this.viewportTransform, translateX = (vp[4] - cropping.left) * multiplier, translateY = (vp[5] - cropping.top) * multiplier, newVp = [ newZoom, 0, 0, newZoom, translateX, translateY ], originalInteractive = this.interactive, originalSkipOffScreen = this.skipOffscreen, needsResize = origWidth !== scaledWidth || origHeight !== scaledHeight;\n            this.viewportTransform = newVp;\n            this.skipOffscreen = false;\n            this.interactive = false;\n            if (needsResize) {\n                this.setDimensions({\n                    width: scaledWidth,\n                    height: scaledHeight\n                }, {\n                    backstoreOnly: true\n                });\n            }\n            this.renderAll();\n            var data = this.__toDataURL(format, quality, cropping);\n            this.interactive = originalInteractive;\n            this.skipOffscreen = originalSkipOffScreen;\n            this.viewportTransform = vp;\n            if (needsResize) {\n                this.setDimensions({\n                    width: origWidth,\n                    height: origHeight\n                }, {\n                    backstoreOnly: true\n                });\n            }\n            this.renderAll();\n            return data;\n        },\n        __toDataURL: function(format, quality) {\n            var canvasEl = this.contextContainer.canvas;\n            if (format === \"jpg\") {\n                format = \"jpeg\";\n            }\n            var data = supportQuality ? canvasEl.toDataURL(\"image/\" + format, quality) : canvasEl.toDataURL(\"image/\" + format);\n            return data;\n        }\n    });\n})();\n\nfabric.util.object.extend(fabric.StaticCanvas.prototype, {\n    loadFromDatalessJSON: function(json, callback, reviver) {\n        return this.loadFromJSON(json, callback, reviver);\n    },\n    loadFromJSON: function(json, callback, reviver) {\n        if (!json) {\n            return;\n        }\n        var serialized = typeof json === \"string\" ? JSON.parse(json) : fabric.util.object.clone(json);\n        var _this = this, renderOnAddRemove = this.renderOnAddRemove;\n        this.renderOnAddRemove = false;\n        this._enlivenObjects(serialized.objects, function(enlivenedObjects) {\n            _this.clear();\n            _this._setBgOverlay(serialized, function() {\n                enlivenedObjects.forEach(function(obj, index) {\n                    _this.insertAt(obj, index);\n                });\n                _this.renderOnAddRemove = renderOnAddRemove;\n                delete serialized.objects;\n                delete serialized.backgroundImage;\n                delete serialized.overlayImage;\n                delete serialized.background;\n                delete serialized.overlay;\n                _this._setOptions(serialized);\n                _this.renderAll();\n                callback && callback();\n            });\n        }, reviver);\n        return this;\n    },\n    _setBgOverlay: function(serialized, callback) {\n        var loaded = {\n            backgroundColor: false,\n            overlayColor: false,\n            backgroundImage: false,\n            overlayImage: false\n        };\n        if (!serialized.backgroundImage && !serialized.overlayImage && !serialized.background && !serialized.overlay) {\n            callback && callback();\n            return;\n        }\n        var cbIfLoaded = function() {\n            if (loaded.backgroundImage && loaded.overlayImage && loaded.backgroundColor && loaded.overlayColor) {\n                callback && callback();\n            }\n        };\n        this.__setBgOverlay(\"backgroundImage\", serialized.backgroundImage, loaded, cbIfLoaded);\n        this.__setBgOverlay(\"overlayImage\", serialized.overlayImage, loaded, cbIfLoaded);\n        this.__setBgOverlay(\"backgroundColor\", serialized.background, loaded, cbIfLoaded);\n        this.__setBgOverlay(\"overlayColor\", serialized.overlay, loaded, cbIfLoaded);\n    },\n    __setBgOverlay: function(property, value, loaded, callback) {\n        var _this = this;\n        if (!value) {\n            loaded[property] = true;\n            callback && callback();\n            return;\n        }\n        if (property === \"backgroundImage\" || property === \"overlayImage\") {\n            fabric.util.enlivenObjects([ value ], function(enlivedObject) {\n                _this[property] = enlivedObject[0];\n                loaded[property] = true;\n                callback && callback();\n            });\n        } else {\n            this[\"set\" + fabric.util.string.capitalize(property, true)](value, function() {\n                loaded[property] = true;\n                callback && callback();\n            });\n        }\n    },\n    _enlivenObjects: function(objects, callback, reviver) {\n        if (!objects || objects.length === 0) {\n            callback && callback([]);\n            return;\n        }\n        fabric.util.enlivenObjects(objects, function(enlivenedObjects) {\n            callback && callback(enlivenedObjects);\n        }, null, reviver);\n    },\n    _toDataURL: function(format, callback) {\n        this.clone(function(clone) {\n            callback(clone.toDataURL(format));\n        });\n    },\n    _toDataURLWithMultiplier: function(format, multiplier, callback) {\n        this.clone(function(clone) {\n            callback(clone.toDataURLWithMultiplier(format, multiplier));\n        });\n    },\n    clone: function(callback, properties) {\n        var data = JSON.stringify(this.toJSON(properties));\n        this.cloneWithoutData(function(clone) {\n            clone.loadFromJSON(data, function() {\n                callback && callback(clone);\n            });\n        });\n    },\n    cloneWithoutData: function(callback) {\n        var el = fabric.document.createElement(\"canvas\");\n        el.width = this.width;\n        el.height = this.height;\n        var clone = new fabric.Canvas(el);\n        clone.clipTo = this.clipTo;\n        if (this.backgroundImage) {\n            clone.setBackgroundImage(this.backgroundImage.src, function() {\n                clone.renderAll();\n                callback && callback(clone);\n            });\n            clone.backgroundImageOpacity = this.backgroundImageOpacity;\n            clone.backgroundImageStretch = this.backgroundImageStretch;\n        } else {\n            callback && callback(clone);\n        }\n    }\n});\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, clone = fabric.util.object.clone, toFixed = fabric.util.toFixed, capitalize = fabric.util.string.capitalize, degreesToRadians = fabric.util.degreesToRadians, supportsLineDash = fabric.StaticCanvas.supports(\"setLineDash\"), objectCaching = !fabric.isLikelyNode, ALIASING_LIMIT = 2;\n    if (fabric.Object) {\n        return;\n    }\n    fabric.Object = fabric.util.createClass(fabric.CommonMethods, {\n        type: \"object\",\n        originX: \"left\",\n        originY: \"top\",\n        top: 0,\n        left: 0,\n        width: 0,\n        height: 0,\n        scaleX: 1,\n        scaleY: 1,\n        flipX: false,\n        flipY: false,\n        opacity: 1,\n        angle: 0,\n        skewX: 0,\n        skewY: 0,\n        cornerSize: 13,\n        transparentCorners: true,\n        hoverCursor: null,\n        moveCursor: null,\n        padding: 0,\n        borderColor: \"rgba(102,153,255,0.75)\",\n        borderDashArray: null,\n        cornerColor: \"rgba(102,153,255,0.5)\",\n        cornerStrokeColor: null,\n        cornerStyle: \"rect\",\n        cornerDashArray: null,\n        centeredScaling: false,\n        centeredRotation: true,\n        fill: \"rgb(0,0,0)\",\n        fillRule: \"nonzero\",\n        globalCompositeOperation: \"source-over\",\n        backgroundColor: \"\",\n        selectionBackgroundColor: \"\",\n        stroke: null,\n        strokeWidth: 1,\n        strokeDashArray: null,\n        strokeLineCap: \"butt\",\n        strokeLineJoin: \"miter\",\n        strokeMiterLimit: 10,\n        shadow: null,\n        borderOpacityWhenMoving: .4,\n        borderScaleFactor: 1,\n        transformMatrix: null,\n        minScaleLimit: 0,\n        selectable: true,\n        evented: true,\n        visible: true,\n        hasControls: true,\n        hasBorders: true,\n        hasRotatingPoint: true,\n        rotatingPointOffset: 40,\n        perPixelTargetFind: false,\n        includeDefaultValues: true,\n        clipTo: null,\n        lockMovementX: false,\n        lockMovementY: false,\n        lockRotation: false,\n        lockScalingX: false,\n        lockScalingY: false,\n        lockUniScaling: false,\n        lockSkewingX: false,\n        lockSkewingY: false,\n        lockScalingFlip: false,\n        excludeFromExport: false,\n        objectCaching: objectCaching,\n        statefullCache: false,\n        noScaleCache: true,\n        dirty: true,\n        __corner: 0,\n        paintFirst: \"fill\",\n        stateProperties: (\"top left width height scaleX scaleY flipX flipY originX originY transformMatrix \" + \"stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit \" + \"angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor \" + \"skewX skewY fillRule paintFirst\").split(\" \"),\n        cacheProperties: (\"fill stroke strokeWidth strokeDashArray width height paintFirst\" + \" strokeLineCap strokeLineJoin strokeMiterLimit backgroundColor\").split(\" \"),\n        initialize: function(options) {\n            if (options) {\n                this.setOptions(options);\n            }\n        },\n        _createCacheCanvas: function() {\n            this._cacheProperties = {};\n            this._cacheCanvas = fabric.document.createElement(\"canvas\");\n            this._cacheContext = this._cacheCanvas.getContext(\"2d\");\n            this._updateCacheCanvas();\n        },\n        _limitCacheSize: function(dims) {\n            var perfLimitSizeTotal = fabric.perfLimitSizeTotal, width = dims.width, height = dims.height, max = fabric.maxCacheSideLimit, min = fabric.minCacheSideLimit;\n            if (width <= max && height <= max && width * height <= perfLimitSizeTotal) {\n                if (width < min) {\n                    dims.width = min;\n                }\n                if (height < min) {\n                    dims.height = min;\n                }\n                return dims;\n            }\n            var ar = width / height, limitedDims = fabric.util.limitDimsByArea(ar, perfLimitSizeTotal), capValue = fabric.util.capValue, x = capValue(min, limitedDims.x, max), y = capValue(min, limitedDims.y, max);\n            if (width > x) {\n                dims.zoomX /= width / x;\n                dims.width = x;\n                dims.capped = true;\n            }\n            if (height > y) {\n                dims.zoomY /= height / y;\n                dims.height = y;\n                dims.capped = true;\n            }\n            return dims;\n        },\n        _getCacheCanvasDimensions: function() {\n            var zoom = this.canvas && this.canvas.getZoom() || 1, objectScale = this.getObjectScaling(), retina = this.canvas && this.canvas._isRetinaScaling() ? fabric.devicePixelRatio : 1, dim = this._getNonTransformedDimensions(), zoomX = objectScale.scaleX * zoom * retina, zoomY = objectScale.scaleY * zoom * retina, width = dim.x * zoomX, height = dim.y * zoomY;\n            return {\n                width: width + ALIASING_LIMIT,\n                height: height + ALIASING_LIMIT,\n                zoomX: zoomX,\n                zoomY: zoomY,\n                x: dim.x,\n                y: dim.y\n            };\n        },\n        _updateCacheCanvas: function() {\n            if (this.noScaleCache && this.canvas && this.canvas._currentTransform) {\n                var target = this.canvas._currentTransform.target, action = this.canvas._currentTransform.action;\n                if (this === target && action.slice && action.slice(0, 5) === \"scale\") {\n                    return false;\n                }\n            }\n            var canvas = this._cacheCanvas, dims = this._limitCacheSize(this._getCacheCanvasDimensions()), minCacheSize = fabric.minCacheSideLimit, width = dims.width, height = dims.height, drawingWidth, drawingHeight, zoomX = dims.zoomX, zoomY = dims.zoomY, dimensionsChanged = width !== this.cacheWidth || height !== this.cacheHeight, zoomChanged = this.zoomX !== zoomX || this.zoomY !== zoomY, shouldRedraw = dimensionsChanged || zoomChanged, additionalWidth = 0, additionalHeight = 0, shouldResizeCanvas = false;\n            if (dimensionsChanged) {\n                var canvasWidth = this._cacheCanvas.width, canvasHeight = this._cacheCanvas.height, sizeGrowing = width > canvasWidth || height > canvasHeight, sizeShrinking = (width < canvasWidth * .9 || height < canvasHeight * .9) && canvasWidth > minCacheSize && canvasHeight > minCacheSize;\n                shouldResizeCanvas = sizeGrowing || sizeShrinking;\n                if (sizeGrowing && !dims.capped && (width > minCacheSize || height > minCacheSize)) {\n                    additionalWidth = width * .1;\n                    additionalHeight = height * .1;\n                }\n            }\n            if (shouldRedraw) {\n                if (shouldResizeCanvas) {\n                    canvas.width = Math.ceil(width + additionalWidth);\n                    canvas.height = Math.ceil(height + additionalHeight);\n                } else {\n                    this._cacheContext.setTransform(1, 0, 0, 1, 0, 0);\n                    this._cacheContext.clearRect(0, 0, canvas.width, canvas.height);\n                }\n                drawingWidth = dims.x * zoomX / 2;\n                drawingHeight = dims.y * zoomY / 2;\n                this.cacheTranslationX = Math.round(canvas.width / 2 - drawingWidth) + drawingWidth;\n                this.cacheTranslationY = Math.round(canvas.height / 2 - drawingHeight) + drawingHeight;\n                this.cacheWidth = width;\n                this.cacheHeight = height;\n                this._cacheContext.translate(this.cacheTranslationX, this.cacheTranslationY);\n                this._cacheContext.scale(zoomX, zoomY);\n                this.zoomX = zoomX;\n                this.zoomY = zoomY;\n                return true;\n            }\n            return false;\n        },\n        setOptions: function(options) {\n            this._setOptions(options);\n            this._initGradient(options.fill, \"fill\");\n            this._initGradient(options.stroke, \"stroke\");\n            this._initClipping(options);\n            this._initPattern(options.fill, \"fill\");\n            this._initPattern(options.stroke, \"stroke\");\n        },\n        transform: function(ctx) {\n            var m;\n            if (this.group && !this.group._transformDone) {\n                m = this.calcTransformMatrix();\n            } else {\n                m = this.calcOwnMatrix();\n            }\n            ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        },\n        toObject: function(propertiesToInclude) {\n            var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS, object = {\n                type: this.type,\n                version: fabric.version,\n                originX: this.originX,\n                originY: this.originY,\n                left: toFixed(this.left, NUM_FRACTION_DIGITS),\n                top: toFixed(this.top, NUM_FRACTION_DIGITS),\n                width: toFixed(this.width, NUM_FRACTION_DIGITS),\n                height: toFixed(this.height, NUM_FRACTION_DIGITS),\n                fill: this.fill && this.fill.toObject ? this.fill.toObject() : this.fill,\n                stroke: this.stroke && this.stroke.toObject ? this.stroke.toObject() : this.stroke,\n                strokeWidth: toFixed(this.strokeWidth, NUM_FRACTION_DIGITS),\n                strokeDashArray: this.strokeDashArray ? this.strokeDashArray.concat() : this.strokeDashArray,\n                strokeLineCap: this.strokeLineCap,\n                strokeLineJoin: this.strokeLineJoin,\n                strokeMiterLimit: toFixed(this.strokeMiterLimit, NUM_FRACTION_DIGITS),\n                scaleX: toFixed(this.scaleX, NUM_FRACTION_DIGITS),\n                scaleY: toFixed(this.scaleY, NUM_FRACTION_DIGITS),\n                angle: toFixed(this.angle, NUM_FRACTION_DIGITS),\n                flipX: this.flipX,\n                flipY: this.flipY,\n                opacity: toFixed(this.opacity, NUM_FRACTION_DIGITS),\n                shadow: this.shadow && this.shadow.toObject ? this.shadow.toObject() : this.shadow,\n                visible: this.visible,\n                clipTo: this.clipTo && String(this.clipTo),\n                backgroundColor: this.backgroundColor,\n                fillRule: this.fillRule,\n                paintFirst: this.paintFirst,\n                globalCompositeOperation: this.globalCompositeOperation,\n                transformMatrix: this.transformMatrix ? this.transformMatrix.concat() : null,\n                skewX: toFixed(this.skewX, NUM_FRACTION_DIGITS),\n                skewY: toFixed(this.skewY, NUM_FRACTION_DIGITS)\n            };\n            fabric.util.populateWithProperties(this, object, propertiesToInclude);\n            if (!this.includeDefaultValues) {\n                object = this._removeDefaultValues(object);\n            }\n            return object;\n        },\n        toDatalessObject: function(propertiesToInclude) {\n            return this.toObject(propertiesToInclude);\n        },\n        _removeDefaultValues: function(object) {\n            var prototype = fabric.util.getKlass(object.type).prototype, stateProperties = prototype.stateProperties;\n            stateProperties.forEach(function(prop) {\n                if (object[prop] === prototype[prop]) {\n                    delete object[prop];\n                }\n                var isArray = Object.prototype.toString.call(object[prop]) === \"[object Array]\" && Object.prototype.toString.call(prototype[prop]) === \"[object Array]\";\n                if (isArray && object[prop].length === 0 && prototype[prop].length === 0) {\n                    delete object[prop];\n                }\n            });\n            return object;\n        },\n        toString: function() {\n            return \"#<fabric.\" + capitalize(this.type) + \">\";\n        },\n        getObjectScaling: function() {\n            var scaleX = this.scaleX, scaleY = this.scaleY;\n            if (this.group) {\n                var scaling = this.group.getObjectScaling();\n                scaleX *= scaling.scaleX;\n                scaleY *= scaling.scaleY;\n            }\n            return {\n                scaleX: scaleX,\n                scaleY: scaleY\n            };\n        },\n        getObjectOpacity: function() {\n            var opacity = this.opacity;\n            if (this.group) {\n                opacity *= this.group.getObjectOpacity();\n            }\n            return opacity;\n        },\n        _set: function(key, value) {\n            var shouldConstrainValue = key === \"scaleX\" || key === \"scaleY\", isChanged = this[key] !== value, groupNeedsUpdate = false;\n            if (shouldConstrainValue) {\n                value = this._constrainScale(value);\n            }\n            if (key === \"scaleX\" && value < 0) {\n                this.flipX = !this.flipX;\n                value *= -1;\n            } else if (key === \"scaleY\" && value < 0) {\n                this.flipY = !this.flipY;\n                value *= -1;\n            } else if (key === \"shadow\" && value && !(value instanceof fabric.Shadow)) {\n                value = new fabric.Shadow(value);\n            } else if (key === \"dirty\" && this.group) {\n                this.group.set(\"dirty\", value);\n            }\n            this[key] = value;\n            if (isChanged) {\n                groupNeedsUpdate = this.group && this.group.isOnACache();\n                if (this.cacheProperties.indexOf(key) > -1) {\n                    this.dirty = true;\n                    groupNeedsUpdate && this.group.set(\"dirty\", true);\n                } else if (groupNeedsUpdate && this.stateProperties.indexOf(key) > -1) {\n                    this.group.set(\"dirty\", true);\n                }\n            }\n            return this;\n        },\n        setOnGroup: function() {},\n        getViewportTransform: function() {\n            if (this.canvas && this.canvas.viewportTransform) {\n                return this.canvas.viewportTransform;\n            }\n            return fabric.iMatrix.concat();\n        },\n        isNotVisible: function() {\n            return this.opacity === 0 || this.width === 0 && this.height === 0 || !this.visible;\n        },\n        render: function(ctx) {\n            if (this.isNotVisible()) {\n                return;\n            }\n            if (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen()) {\n                return;\n            }\n            ctx.save();\n            this._setupCompositeOperation(ctx);\n            this.drawSelectionBackground(ctx);\n            this.transform(ctx);\n            this._setOpacity(ctx);\n            this._setShadow(ctx, this);\n            if (this.transformMatrix) {\n                ctx.transform.apply(ctx, this.transformMatrix);\n            }\n            this.clipTo && fabric.util.clipContext(this, ctx);\n            if (this.shouldCache()) {\n                if (!this._cacheCanvas) {\n                    this._createCacheCanvas();\n                }\n                if (this.isCacheDirty()) {\n                    this.statefullCache && this.saveState({\n                        propertySet: \"cacheProperties\"\n                    });\n                    this.drawObject(this._cacheContext);\n                    this.dirty = false;\n                }\n                this.drawCacheOnCanvas(ctx);\n            } else {\n                this._removeCacheCanvas();\n                this.dirty = false;\n                this.drawObject(ctx);\n                if (this.objectCaching && this.statefullCache) {\n                    this.saveState({\n                        propertySet: \"cacheProperties\"\n                    });\n                }\n            }\n            this.clipTo && ctx.restore();\n            ctx.restore();\n        },\n        _removeCacheCanvas: function() {\n            this._cacheCanvas = null;\n            this.cacheWidth = 0;\n            this.cacheHeight = 0;\n        },\n        needsItsOwnCache: function() {\n            if (this.paintFirst === \"stroke\" && typeof this.shadow === \"object\") {\n                return true;\n            }\n            return false;\n        },\n        shouldCache: function() {\n            this.ownCaching = this.objectCaching && (!this.group || this.needsItsOwnCache() || !this.group.isOnACache());\n            return this.ownCaching;\n        },\n        willDrawShadow: function() {\n            return !!this.shadow && (this.shadow.offsetX !== 0 || this.shadow.offsetY !== 0);\n        },\n        drawObject: function(ctx) {\n            this._renderBackground(ctx);\n            this._setStrokeStyles(ctx, this);\n            this._setFillStyles(ctx, this);\n            this._render(ctx);\n        },\n        drawCacheOnCanvas: function(ctx) {\n            ctx.scale(1 / this.zoomX, 1 / this.zoomY);\n            ctx.drawImage(this._cacheCanvas, -this.cacheTranslationX, -this.cacheTranslationY);\n        },\n        isCacheDirty: function(skipCanvas) {\n            if (this.isNotVisible()) {\n                return false;\n            }\n            if (this._cacheCanvas && !skipCanvas && this._updateCacheCanvas()) {\n                return true;\n            } else {\n                if (this.dirty || this.statefullCache && this.hasStateChanged(\"cacheProperties\")) {\n                    if (this._cacheCanvas && !skipCanvas) {\n                        var width = this.cacheWidth / this.zoomX;\n                        var height = this.cacheHeight / this.zoomY;\n                        this._cacheContext.clearRect(-width / 2, -height / 2, width, height);\n                    }\n                    return true;\n                }\n            }\n            return false;\n        },\n        _renderBackground: function(ctx) {\n            if (!this.backgroundColor) {\n                return;\n            }\n            var dim = this._getNonTransformedDimensions();\n            ctx.fillStyle = this.backgroundColor;\n            ctx.fillRect(-dim.x / 2, -dim.y / 2, dim.x, dim.y);\n            this._removeShadow(ctx);\n        },\n        _setOpacity: function(ctx) {\n            if (this.group && !this.group._transformDone) {\n                ctx.globalAlpha = this.getObjectOpacity();\n            } else {\n                ctx.globalAlpha *= this.opacity;\n            }\n        },\n        _setStrokeStyles: function(ctx, decl) {\n            if (decl.stroke) {\n                ctx.lineWidth = decl.strokeWidth;\n                ctx.lineCap = decl.strokeLineCap;\n                ctx.lineJoin = decl.strokeLineJoin;\n                ctx.miterLimit = decl.strokeMiterLimit;\n                ctx.strokeStyle = decl.stroke.toLive ? decl.stroke.toLive(ctx, this) : decl.stroke;\n            }\n        },\n        _setFillStyles: function(ctx, decl) {\n            if (decl.fill) {\n                ctx.fillStyle = decl.fill.toLive ? decl.fill.toLive(ctx, this) : decl.fill;\n            }\n        },\n        _setLineDash: function(ctx, dashArray, alternative) {\n            if (!dashArray) {\n                return;\n            }\n            if (1 & dashArray.length) {\n                dashArray.push.apply(dashArray, dashArray);\n            }\n            if (supportsLineDash) {\n                ctx.setLineDash(dashArray);\n            } else {\n                alternative && alternative(ctx);\n            }\n        },\n        _renderControls: function(ctx, styleOverride) {\n            var vpt = this.getViewportTransform(), matrix = this.calcTransformMatrix(), options, drawBorders, drawControls;\n            styleOverride = styleOverride || {};\n            drawBorders = typeof styleOverride.hasBorders !== \"undefined\" ? styleOverride.hasBorders : this.hasBorders;\n            drawControls = typeof styleOverride.hasControls !== \"undefined\" ? styleOverride.hasControls : this.hasControls;\n            matrix = fabric.util.multiplyTransformMatrices(vpt, matrix);\n            options = fabric.util.qrDecompose(matrix);\n            ctx.save();\n            ctx.translate(options.translateX, options.translateY);\n            ctx.lineWidth = 1 * this.borderScaleFactor;\n            if (!this.group) {\n                ctx.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;\n            }\n            if (styleOverride.forActiveSelection) {\n                ctx.rotate(degreesToRadians(options.angle));\n                drawBorders && this.drawBordersInGroup(ctx, options, styleOverride);\n            } else {\n                ctx.rotate(degreesToRadians(this.angle));\n                drawBorders && this.drawBorders(ctx, styleOverride);\n            }\n            drawControls && this.drawControls(ctx, styleOverride);\n            ctx.restore();\n        },\n        _setShadow: function(ctx) {\n            if (!this.shadow) {\n                return;\n            }\n            var multX = this.canvas && this.canvas.viewportTransform[0] || 1, multY = this.canvas && this.canvas.viewportTransform[3] || 1, scaling = this.getObjectScaling();\n            if (this.canvas && this.canvas._isRetinaScaling()) {\n                multX *= fabric.devicePixelRatio;\n                multY *= fabric.devicePixelRatio;\n            }\n            ctx.shadowColor = this.shadow.color;\n            ctx.shadowBlur = this.shadow.blur * fabric.browserShadowBlurConstant * (multX + multY) * (scaling.scaleX + scaling.scaleY) / 4;\n            ctx.shadowOffsetX = this.shadow.offsetX * multX * scaling.scaleX;\n            ctx.shadowOffsetY = this.shadow.offsetY * multY * scaling.scaleY;\n        },\n        _removeShadow: function(ctx) {\n            if (!this.shadow) {\n                return;\n            }\n            ctx.shadowColor = \"\";\n            ctx.shadowBlur = ctx.shadowOffsetX = ctx.shadowOffsetY = 0;\n        },\n        _applyPatternGradientTransform: function(ctx, filler) {\n            if (!filler || !filler.toLive) {\n                return {\n                    offsetX: 0,\n                    offsetY: 0\n                };\n            }\n            var t = filler.gradientTransform || filler.patternTransform;\n            var offsetX = -this.width / 2 + filler.offsetX || 0, offsetY = -this.height / 2 + filler.offsetY || 0;\n            ctx.translate(offsetX, offsetY);\n            if (t) {\n                ctx.transform(t[0], t[1], t[2], t[3], t[4], t[5]);\n            }\n            return {\n                offsetX: offsetX,\n                offsetY: offsetY\n            };\n        },\n        _renderPaintInOrder: function(ctx) {\n            if (this.paintFirst === \"stroke\") {\n                this._renderStroke(ctx);\n                this._renderFill(ctx);\n            } else {\n                this._renderFill(ctx);\n                this._renderStroke(ctx);\n            }\n        },\n        _renderFill: function(ctx) {\n            if (!this.fill) {\n                return;\n            }\n            ctx.save();\n            this._applyPatternGradientTransform(ctx, this.fill);\n            if (this.fillRule === \"evenodd\") {\n                ctx.fill(\"evenodd\");\n            } else {\n                ctx.fill();\n            }\n            ctx.restore();\n        },\n        _renderStroke: function(ctx) {\n            if (!this.stroke || this.strokeWidth === 0) {\n                return;\n            }\n            if (this.shadow && !this.shadow.affectStroke) {\n                this._removeShadow(ctx);\n            }\n            ctx.save();\n            this._setLineDash(ctx, this.strokeDashArray, this._renderDashedStroke);\n            this._applyPatternGradientTransform(ctx, this.stroke);\n            ctx.stroke();\n            ctx.restore();\n        },\n        _findCenterFromElement: function() {\n            return {\n                x: this.left + this.width / 2,\n                y: this.top + this.height / 2\n            };\n        },\n        _assignTransformMatrixProps: function() {\n            if (this.transformMatrix) {\n                var options = fabric.util.qrDecompose(this.transformMatrix);\n                this.flipX = false;\n                this.flipY = false;\n                this.set(\"scaleX\", options.scaleX);\n                this.set(\"scaleY\", options.scaleY);\n                this.angle = options.angle;\n                this.skewX = options.skewX;\n                this.skewY = 0;\n            }\n        },\n        _removeTransformMatrix: function(preserveAspectRatioOptions) {\n            var center = this._findCenterFromElement();\n            if (this.transformMatrix) {\n                this._assignTransformMatrixProps();\n                center = fabric.util.transformPoint(center, this.transformMatrix);\n            }\n            this.transformMatrix = null;\n            if (preserveAspectRatioOptions) {\n                this.scaleX *= preserveAspectRatioOptions.scaleX;\n                this.scaleY *= preserveAspectRatioOptions.scaleY;\n                this.cropX = preserveAspectRatioOptions.cropX;\n                this.cropY = preserveAspectRatioOptions.cropY;\n                center.x += preserveAspectRatioOptions.offsetLeft;\n                center.y += preserveAspectRatioOptions.offsetTop;\n                this.width = preserveAspectRatioOptions.width;\n                this.height = preserveAspectRatioOptions.height;\n            }\n            this.setPositionByOrigin(center, \"center\", \"center\");\n        },\n        clone: function(callback, propertiesToInclude) {\n            var objectForm = this.toObject(propertiesToInclude);\n            if (this.constructor.fromObject) {\n                this.constructor.fromObject(objectForm, callback);\n            } else {\n                fabric.Object._fromObject(\"Object\", objectForm, callback);\n            }\n        },\n        cloneAsImage: function(callback, options) {\n            var dataUrl = this.toDataURL(options);\n            fabric.util.loadImage(dataUrl, function(img) {\n                if (callback) {\n                    callback(new fabric.Image(img));\n                }\n            });\n            return this;\n        },\n        toDataURL: function(options) {\n            options || (options = {});\n            var el = fabric.util.createCanvasElement(), boundingRect = this.getBoundingRect();\n            el.width = boundingRect.width;\n            el.height = boundingRect.height;\n            fabric.util.wrapElement(el, \"div\");\n            var canvas = new fabric.StaticCanvas(el, {\n                enableRetinaScaling: options.enableRetinaScaling,\n                renderOnAddRemove: false,\n                skipOffscreen: false\n            });\n            if (options.format === \"jpg\") {\n                options.format = \"jpeg\";\n            }\n            if (options.format === \"jpeg\") {\n                canvas.backgroundColor = \"#fff\";\n            }\n            var origParams = {\n                left: this.left,\n                top: this.top\n            };\n            this.setPositionByOrigin(new fabric.Point(canvas.width / 2, canvas.height / 2), \"center\", \"center\");\n            var originalCanvas = this.canvas;\n            canvas.add(this);\n            var data = canvas.toDataURL(options);\n            this.set(origParams).setCoords();\n            this.canvas = originalCanvas;\n            canvas._objects = [];\n            canvas.dispose();\n            canvas = null;\n            return data;\n        },\n        isType: function(type) {\n            return this.type === type;\n        },\n        complexity: function() {\n            return 1;\n        },\n        toJSON: function(propertiesToInclude) {\n            return this.toObject(propertiesToInclude);\n        },\n        setGradient: function(property, options) {\n            options || (options = {});\n            var gradient = {\n                colorStops: []\n            };\n            gradient.type = options.type || (options.r1 || options.r2 ? \"radial\" : \"linear\");\n            gradient.coords = {\n                x1: options.x1,\n                y1: options.y1,\n                x2: options.x2,\n                y2: options.y2\n            };\n            if (options.r1 || options.r2) {\n                gradient.coords.r1 = options.r1;\n                gradient.coords.r2 = options.r2;\n            }\n            gradient.gradientTransform = options.gradientTransform;\n            fabric.Gradient.prototype.addColorStop.call(gradient, options.colorStops);\n            return this.set(property, fabric.Gradient.forObject(this, gradient));\n        },\n        setPatternFill: function(options) {\n            return this.set(\"fill\", new fabric.Pattern(options));\n        },\n        setShadow: function(options) {\n            return this.set(\"shadow\", options ? new fabric.Shadow(options) : null);\n        },\n        setColor: function(color) {\n            this.set(\"fill\", color);\n            return this;\n        },\n        rotate: function(angle) {\n            var shouldCenterOrigin = (this.originX !== \"center\" || this.originY !== \"center\") && this.centeredRotation;\n            if (shouldCenterOrigin) {\n                this._setOriginToCenter();\n            }\n            this.set(\"angle\", angle);\n            if (shouldCenterOrigin) {\n                this._resetOrigin();\n            }\n            return this;\n        },\n        centerH: function() {\n            this.canvas && this.canvas.centerObjectH(this);\n            return this;\n        },\n        viewportCenterH: function() {\n            this.canvas && this.canvas.viewportCenterObjectH(this);\n            return this;\n        },\n        centerV: function() {\n            this.canvas && this.canvas.centerObjectV(this);\n            return this;\n        },\n        viewportCenterV: function() {\n            this.canvas && this.canvas.viewportCenterObjectV(this);\n            return this;\n        },\n        center: function() {\n            this.canvas && this.canvas.centerObject(this);\n            return this;\n        },\n        viewportCenter: function() {\n            this.canvas && this.canvas.viewportCenterObject(this);\n            return this;\n        },\n        getLocalPointer: function(e, pointer) {\n            pointer = pointer || this.canvas.getPointer(e);\n            var pClicked = new fabric.Point(pointer.x, pointer.y), objectLeftTop = this._getLeftTopCoords();\n            if (this.angle) {\n                pClicked = fabric.util.rotatePoint(pClicked, objectLeftTop, degreesToRadians(-this.angle));\n            }\n            return {\n                x: pClicked.x - objectLeftTop.x,\n                y: pClicked.y - objectLeftTop.y\n            };\n        },\n        _setupCompositeOperation: function(ctx) {\n            if (this.globalCompositeOperation) {\n                ctx.globalCompositeOperation = this.globalCompositeOperation;\n            }\n        }\n    });\n    fabric.util.createAccessors && fabric.util.createAccessors(fabric.Object);\n    extend(fabric.Object.prototype, fabric.Observable);\n    fabric.Object.NUM_FRACTION_DIGITS = 2;\n    fabric.Object._fromObject = function(className, object, callback, extraParam) {\n        var klass = fabric[className];\n        object = clone(object, true);\n        fabric.util.enlivenPatterns([ object.fill, object.stroke ], function(patterns) {\n            if (typeof patterns[0] !== \"undefined\") {\n                object.fill = patterns[0];\n            }\n            if (typeof patterns[1] !== \"undefined\") {\n                object.stroke = patterns[1];\n            }\n            var instance = extraParam ? new klass(object[extraParam], object) : new klass(object);\n            callback && callback(instance);\n        });\n    };\n    fabric.Object.__uid = 0;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function() {\n    var degreesToRadians = fabric.util.degreesToRadians, originXOffset = {\n        left: -.5,\n        center: 0,\n        right: .5\n    }, originYOffset = {\n        top: -.5,\n        center: 0,\n        bottom: .5\n    };\n    fabric.util.object.extend(fabric.Object.prototype, {\n        translateToGivenOrigin: function(point, fromOriginX, fromOriginY, toOriginX, toOriginY) {\n            var x = point.x, y = point.y, offsetX, offsetY, dim;\n            if (typeof fromOriginX === \"string\") {\n                fromOriginX = originXOffset[fromOriginX];\n            } else {\n                fromOriginX -= .5;\n            }\n            if (typeof toOriginX === \"string\") {\n                toOriginX = originXOffset[toOriginX];\n            } else {\n                toOriginX -= .5;\n            }\n            offsetX = toOriginX - fromOriginX;\n            if (typeof fromOriginY === \"string\") {\n                fromOriginY = originYOffset[fromOriginY];\n            } else {\n                fromOriginY -= .5;\n            }\n            if (typeof toOriginY === \"string\") {\n                toOriginY = originYOffset[toOriginY];\n            } else {\n                toOriginY -= .5;\n            }\n            offsetY = toOriginY - fromOriginY;\n            if (offsetX || offsetY) {\n                dim = this._getTransformedDimensions();\n                x = point.x + offsetX * dim.x;\n                y = point.y + offsetY * dim.y;\n            }\n            return new fabric.Point(x, y);\n        },\n        translateToCenterPoint: function(point, originX, originY) {\n            var p = this.translateToGivenOrigin(point, originX, originY, \"center\", \"center\");\n            if (this.angle) {\n                return fabric.util.rotatePoint(p, point, degreesToRadians(this.angle));\n            }\n            return p;\n        },\n        translateToOriginPoint: function(center, originX, originY) {\n            var p = this.translateToGivenOrigin(center, \"center\", \"center\", originX, originY);\n            if (this.angle) {\n                return fabric.util.rotatePoint(p, center, degreesToRadians(this.angle));\n            }\n            return p;\n        },\n        getCenterPoint: function() {\n            var leftTop = new fabric.Point(this.left, this.top);\n            return this.translateToCenterPoint(leftTop, this.originX, this.originY);\n        },\n        getPointByOrigin: function(originX, originY) {\n            var center = this.getCenterPoint();\n            return this.translateToOriginPoint(center, originX, originY);\n        },\n        toLocalPoint: function(point, originX, originY) {\n            var center = this.getCenterPoint(), p, p2;\n            if (typeof originX !== \"undefined\" && typeof originY !== \"undefined\") {\n                p = this.translateToGivenOrigin(center, \"center\", \"center\", originX, originY);\n            } else {\n                p = new fabric.Point(this.left, this.top);\n            }\n            p2 = new fabric.Point(point.x, point.y);\n            if (this.angle) {\n                p2 = fabric.util.rotatePoint(p2, center, -degreesToRadians(this.angle));\n            }\n            return p2.subtractEquals(p);\n        },\n        setPositionByOrigin: function(pos, originX, originY) {\n            var center = this.translateToCenterPoint(pos, originX, originY), position = this.translateToOriginPoint(center, this.originX, this.originY);\n            this.set(\"left\", position.x);\n            this.set(\"top\", position.y);\n        },\n        adjustPosition: function(to) {\n            var angle = degreesToRadians(this.angle), hypotFull = this.getScaledWidth(), xFull = fabric.util.cos(angle) * hypotFull, yFull = fabric.util.sin(angle) * hypotFull, offsetFrom, offsetTo;\n            if (typeof this.originX === \"string\") {\n                offsetFrom = originXOffset[this.originX];\n            } else {\n                offsetFrom = this.originX - .5;\n            }\n            if (typeof to === \"string\") {\n                offsetTo = originXOffset[to];\n            } else {\n                offsetTo = to - .5;\n            }\n            this.left += xFull * (offsetTo - offsetFrom);\n            this.top += yFull * (offsetTo - offsetFrom);\n            this.setCoords();\n            this.originX = to;\n        },\n        _setOriginToCenter: function() {\n            this._originalOriginX = this.originX;\n            this._originalOriginY = this.originY;\n            var center = this.getCenterPoint();\n            this.originX = \"center\";\n            this.originY = \"center\";\n            this.left = center.x;\n            this.top = center.y;\n        },\n        _resetOrigin: function() {\n            var originPoint = this.translateToOriginPoint(this.getCenterPoint(), this._originalOriginX, this._originalOriginY);\n            this.originX = this._originalOriginX;\n            this.originY = this._originalOriginY;\n            this.left = originPoint.x;\n            this.top = originPoint.y;\n            this._originalOriginX = null;\n            this._originalOriginY = null;\n        },\n        _getLeftTopCoords: function() {\n            return this.translateToOriginPoint(this.getCenterPoint(), \"left\", \"top\");\n        },\n        onDeselect: function() {}\n    });\n})();\n\n(function() {\n    function getCoords(coords) {\n        return [ new fabric.Point(coords.tl.x, coords.tl.y), new fabric.Point(coords.tr.x, coords.tr.y), new fabric.Point(coords.br.x, coords.br.y), new fabric.Point(coords.bl.x, coords.bl.y) ];\n    }\n    var degreesToRadians = fabric.util.degreesToRadians, multiplyMatrices = fabric.util.multiplyTransformMatrices, transformPoint = fabric.util.transformPoint;\n    fabric.util.object.extend(fabric.Object.prototype, {\n        oCoords: null,\n        aCoords: null,\n        ownMatrixCache: null,\n        matrixCache: null,\n        getCoords: function(absolute, calculate) {\n            if (!this.oCoords) {\n                this.setCoords();\n            }\n            var coords = absolute ? this.aCoords : this.oCoords;\n            return getCoords(calculate ? this.calcCoords(absolute) : coords);\n        },\n        intersectsWithRect: function(pointTL, pointBR, absolute, calculate) {\n            var coords = this.getCoords(absolute, calculate), intersection = fabric.Intersection.intersectPolygonRectangle(coords, pointTL, pointBR);\n            return intersection.status === \"Intersection\";\n        },\n        intersectsWithObject: function(other, absolute, calculate) {\n            var intersection = fabric.Intersection.intersectPolygonPolygon(this.getCoords(absolute, calculate), other.getCoords(absolute, calculate));\n            return intersection.status === \"Intersection\" || other.isContainedWithinObject(this, absolute, calculate) || this.isContainedWithinObject(other, absolute, calculate);\n        },\n        isContainedWithinObject: function(other, absolute, calculate) {\n            var points = this.getCoords(absolute, calculate), i = 0, lines = other._getImageLines(calculate ? other.calcCoords(absolute) : absolute ? other.aCoords : other.oCoords);\n            for (;i < 4; i++) {\n                if (!other.containsPoint(points[i], lines)) {\n                    return false;\n                }\n            }\n            return true;\n        },\n        isContainedWithinRect: function(pointTL, pointBR, absolute, calculate) {\n            var boundingRect = this.getBoundingRect(absolute, calculate);\n            return boundingRect.left >= pointTL.x && boundingRect.left + boundingRect.width <= pointBR.x && boundingRect.top >= pointTL.y && boundingRect.top + boundingRect.height <= pointBR.y;\n        },\n        containsPoint: function(point, lines, absolute, calculate) {\n            var lines = lines || this._getImageLines(calculate ? this.calcCoords(absolute) : absolute ? this.aCoords : this.oCoords), xPoints = this._findCrossPoints(point, lines);\n            return xPoints !== 0 && xPoints % 2 === 1;\n        },\n        isOnScreen: function(calculate) {\n            if (!this.canvas) {\n                return false;\n            }\n            var pointTL = this.canvas.vptCoords.tl, pointBR = this.canvas.vptCoords.br;\n            var points = this.getCoords(true, calculate), point;\n            for (var i = 0; i < 4; i++) {\n                point = points[i];\n                if (point.x <= pointBR.x && point.x >= pointTL.x && point.y <= pointBR.y && point.y >= pointTL.y) {\n                    return true;\n                }\n            }\n            if (this.intersectsWithRect(pointTL, pointBR, true, calculate)) {\n                return true;\n            }\n            var centerPoint = {\n                x: (pointTL.x + pointBR.x) / 2,\n                y: (pointTL.y + pointBR.y) / 2\n            };\n            if (this.containsPoint(centerPoint, null, true, calculate)) {\n                return true;\n            }\n            return false;\n        },\n        _getImageLines: function(oCoords) {\n            return {\n                topline: {\n                    o: oCoords.tl,\n                    d: oCoords.tr\n                },\n                rightline: {\n                    o: oCoords.tr,\n                    d: oCoords.br\n                },\n                bottomline: {\n                    o: oCoords.br,\n                    d: oCoords.bl\n                },\n                leftline: {\n                    o: oCoords.bl,\n                    d: oCoords.tl\n                }\n            };\n        },\n        _findCrossPoints: function(point, lines) {\n            var b1, b2, a1, a2, xi, xcount = 0, iLine;\n            for (var lineKey in lines) {\n                iLine = lines[lineKey];\n                if (iLine.o.y < point.y && iLine.d.y < point.y) {\n                    continue;\n                }\n                if (iLine.o.y >= point.y && iLine.d.y >= point.y) {\n                    continue;\n                }\n                if (iLine.o.x === iLine.d.x && iLine.o.x >= point.x) {\n                    xi = iLine.o.x;\n                } else {\n                    b1 = 0;\n                    b2 = (iLine.d.y - iLine.o.y) / (iLine.d.x - iLine.o.x);\n                    a1 = point.y - b1 * point.x;\n                    a2 = iLine.o.y - b2 * iLine.o.x;\n                    xi = -(a1 - a2) / (b1 - b2);\n                }\n                if (xi >= point.x) {\n                    xcount += 1;\n                }\n                if (xcount === 2) {\n                    break;\n                }\n            }\n            return xcount;\n        },\n        getBoundingRect: function(absolute, calculate) {\n            var coords = this.getCoords(absolute, calculate);\n            return fabric.util.makeBoundingBoxFromPoints(coords);\n        },\n        getScaledWidth: function() {\n            return this._getTransformedDimensions().x;\n        },\n        getScaledHeight: function() {\n            return this._getTransformedDimensions().y;\n        },\n        _constrainScale: function(value) {\n            if (Math.abs(value) < this.minScaleLimit) {\n                if (value < 0) {\n                    return -this.minScaleLimit;\n                } else {\n                    return this.minScaleLimit;\n                }\n            } else if (value === 0) {\n                return 1e-4;\n            }\n            return value;\n        },\n        scale: function(value) {\n            this._set(\"scaleX\", value);\n            this._set(\"scaleY\", value);\n            return this.setCoords();\n        },\n        scaleToWidth: function(value, absolute) {\n            var boundingRectFactor = this.getBoundingRect(absolute).width / this.getScaledWidth();\n            return this.scale(value / this.width / boundingRectFactor);\n        },\n        scaleToHeight: function(value, absolute) {\n            var boundingRectFactor = this.getBoundingRect(absolute).height / this.getScaledHeight();\n            return this.scale(value / this.height / boundingRectFactor);\n        },\n        calcCoords: function(absolute) {\n            var rotateMatrix = this._calcRotateMatrix(), translateMatrix = this._calcTranslateMatrix(), startMatrix = multiplyMatrices(translateMatrix, rotateMatrix), vpt = this.getViewportTransform(), finalMatrix = absolute ? startMatrix : multiplyMatrices(vpt, startMatrix), dim = this._getTransformedDimensions(), w = dim.x / 2, h = dim.y / 2, tl = transformPoint({\n                x: -w,\n                y: -h\n            }, finalMatrix), tr = transformPoint({\n                x: w,\n                y: -h\n            }, finalMatrix), bl = transformPoint({\n                x: -w,\n                y: h\n            }, finalMatrix), br = transformPoint({\n                x: w,\n                y: h\n            }, finalMatrix);\n            if (!absolute) {\n                var padding = this.padding, angle = degreesToRadians(this.angle), cos = fabric.util.cos(angle), sin = fabric.util.sin(angle), cosP = cos * padding, sinP = sin * padding, cosPSinP = cosP + sinP, cosPMinusSinP = cosP - sinP;\n                if (padding) {\n                    tl.x -= cosPMinusSinP;\n                    tl.y -= cosPSinP;\n                    tr.x += cosPSinP;\n                    tr.y -= cosPMinusSinP;\n                    bl.x -= cosPSinP;\n                    bl.y += cosPMinusSinP;\n                    br.x += cosPMinusSinP;\n                    br.y += cosPSinP;\n                }\n                var ml = new fabric.Point((tl.x + bl.x) / 2, (tl.y + bl.y) / 2), mt = new fabric.Point((tr.x + tl.x) / 2, (tr.y + tl.y) / 2), mr = new fabric.Point((br.x + tr.x) / 2, (br.y + tr.y) / 2), mb = new fabric.Point((br.x + bl.x) / 2, (br.y + bl.y) / 2), mtr = new fabric.Point(mt.x + sin * this.rotatingPointOffset, mt.y - cos * this.rotatingPointOffset);\n            }\n            var coords = {\n                tl: tl,\n                tr: tr,\n                br: br,\n                bl: bl\n            };\n            if (!absolute) {\n                coords.ml = ml;\n                coords.mt = mt;\n                coords.mr = mr;\n                coords.mb = mb;\n                coords.mtr = mtr;\n            }\n            return coords;\n        },\n        setCoords: function(ignoreZoom, skipAbsolute) {\n            this.oCoords = this.calcCoords(ignoreZoom);\n            if (!skipAbsolute) {\n                this.aCoords = this.calcCoords(true);\n            }\n            ignoreZoom || this._setCornerCoords && this._setCornerCoords();\n            return this;\n        },\n        _calcRotateMatrix: function() {\n            if (this.angle) {\n                var theta = degreesToRadians(this.angle), cos = fabric.util.cos(theta), sin = fabric.util.sin(theta);\n                return [ cos, sin, -sin, cos, 0, 0 ];\n            }\n            return fabric.iMatrix.concat();\n        },\n        _calcTranslateMatrix: function() {\n            var center = this.getCenterPoint();\n            return [ 1, 0, 0, 1, center.x, center.y ];\n        },\n        transformMatrixKey: function(skipGroup) {\n            var sep = \"_\", prefix = \"\";\n            if (!skipGroup && this.group) {\n                prefix = this.group.transformMatrixKey(skipGroup) + sep;\n            }\n            return prefix + this.top + sep + this.left + sep + this.scaleX + sep + this.scaleY + sep + this.skewX + sep + this.skewY + sep + this.angle + sep + this.originX + sep + this.originY + sep + this.width + sep + this.height + sep + this.strokeWidth + this.flipX + this.flipY;\n        },\n        calcTransformMatrix: function(skipGroup) {\n            if (skipGroup) {\n                return this.calcOwnMatrix();\n            }\n            var key = this.transformMatrixKey(), cache = this.matrixCache || (this.matrixCache = {});\n            if (cache.key === key) {\n                return cache.value;\n            }\n            var matrix = this.calcOwnMatrix();\n            if (this.group) {\n                matrix = multiplyMatrices(this.group.calcTransformMatrix(), matrix);\n            }\n            cache.key = key;\n            cache.value = matrix;\n            return matrix;\n        },\n        calcOwnMatrix: function() {\n            var key = this.transformMatrixKey(true), cache = this.ownMatrixCache || (this.ownMatrixCache = {});\n            if (cache.key === key) {\n                return cache.value;\n            }\n            var matrix = this._calcTranslateMatrix(), rotateMatrix, dimensionMatrix = this._calcDimensionsTransformMatrix(this.skewX, this.skewY, true);\n            if (this.angle) {\n                rotateMatrix = this._calcRotateMatrix();\n                matrix = multiplyMatrices(matrix, rotateMatrix);\n            }\n            matrix = multiplyMatrices(matrix, dimensionMatrix);\n            cache.key = key;\n            cache.value = matrix;\n            return matrix;\n        },\n        _calcDimensionsTransformMatrix: function(skewX, skewY, flipping) {\n            var skewMatrix, scaleX = this.scaleX * (flipping && this.flipX ? -1 : 1), scaleY = this.scaleY * (flipping && this.flipY ? -1 : 1), scaleMatrix = [ scaleX, 0, 0, scaleY, 0, 0 ];\n            if (skewX) {\n                skewMatrix = [ 1, 0, Math.tan(degreesToRadians(skewX)), 1 ];\n                scaleMatrix = multiplyMatrices(scaleMatrix, skewMatrix, true);\n            }\n            if (skewY) {\n                skewMatrix = [ 1, Math.tan(degreesToRadians(skewY)), 0, 1 ];\n                scaleMatrix = multiplyMatrices(scaleMatrix, skewMatrix, true);\n            }\n            return scaleMatrix;\n        },\n        _getNonTransformedDimensions: function() {\n            var strokeWidth = this.strokeWidth, w = this.width + strokeWidth, h = this.height + strokeWidth;\n            return {\n                x: w,\n                y: h\n            };\n        },\n        _getTransformedDimensions: function(skewX, skewY) {\n            if (typeof skewX === \"undefined\") {\n                skewX = this.skewX;\n            }\n            if (typeof skewY === \"undefined\") {\n                skewY = this.skewY;\n            }\n            var dimensions = this._getNonTransformedDimensions();\n            if (skewX === 0 && skewY === 0) {\n                return {\n                    x: dimensions.x * this.scaleX,\n                    y: dimensions.y * this.scaleY\n                };\n            }\n            var dimX = dimensions.x / 2, dimY = dimensions.y / 2, points = [ {\n                x: -dimX,\n                y: -dimY\n            }, {\n                x: dimX,\n                y: -dimY\n            }, {\n                x: -dimX,\n                y: dimY\n            }, {\n                x: dimX,\n                y: dimY\n            } ], i, transformMatrix = this._calcDimensionsTransformMatrix(skewX, skewY, false), bbox;\n            for (i = 0; i < points.length; i++) {\n                points[i] = fabric.util.transformPoint(points[i], transformMatrix);\n            }\n            bbox = fabric.util.makeBoundingBoxFromPoints(points);\n            return {\n                x: bbox.width,\n                y: bbox.height\n            };\n        },\n        _calculateCurrentDimensions: function() {\n            var vpt = this.getViewportTransform(), dim = this._getTransformedDimensions(), p = fabric.util.transformPoint(dim, vpt, true);\n            return p.scalarAdd(2 * this.padding);\n        }\n    });\n})();\n\nfabric.util.object.extend(fabric.Object.prototype, {\n    sendToBack: function() {\n        if (this.group) {\n            fabric.StaticCanvas.prototype.sendToBack.call(this.group, this);\n        } else {\n            this.canvas.sendToBack(this);\n        }\n        return this;\n    },\n    bringToFront: function() {\n        if (this.group) {\n            fabric.StaticCanvas.prototype.bringToFront.call(this.group, this);\n        } else {\n            this.canvas.bringToFront(this);\n        }\n        return this;\n    },\n    sendBackwards: function(intersecting) {\n        if (this.group) {\n            fabric.StaticCanvas.prototype.sendBackwards.call(this.group, this, intersecting);\n        } else {\n            this.canvas.sendBackwards(this, intersecting);\n        }\n        return this;\n    },\n    bringForward: function(intersecting) {\n        if (this.group) {\n            fabric.StaticCanvas.prototype.bringForward.call(this.group, this, intersecting);\n        } else {\n            this.canvas.bringForward(this, intersecting);\n        }\n        return this;\n    },\n    moveTo: function(index) {\n        if (this.group && this.group.type !== \"activeSelection\") {\n            fabric.StaticCanvas.prototype.moveTo.call(this.group, this, index);\n        } else {\n            this.canvas.moveTo(this, index);\n        }\n        return this;\n    }\n});\n\n(function() {\n    function getSvgColorString(prop, value) {\n        if (!value) {\n            return prop + \": none; \";\n        } else if (value.toLive) {\n            return prop + \": url(#SVGID_\" + value.id + \"); \";\n        } else {\n            var color = new fabric.Color(value), str = prop + \": \" + color.toRgb() + \"; \", opacity = color.getAlpha();\n            if (opacity !== 1) {\n                str += prop + \"-opacity: \" + opacity.toString() + \"; \";\n            }\n            return str;\n        }\n    }\n    var toFixed = fabric.util.toFixed;\n    fabric.util.object.extend(fabric.Object.prototype, {\n        getSvgStyles: function(skipShadow) {\n            var fillRule = this.fillRule, strokeWidth = this.strokeWidth ? this.strokeWidth : \"0\", strokeDashArray = this.strokeDashArray ? this.strokeDashArray.join(\" \") : \"none\", strokeLineCap = this.strokeLineCap ? this.strokeLineCap : \"butt\", strokeLineJoin = this.strokeLineJoin ? this.strokeLineJoin : \"miter\", strokeMiterLimit = this.strokeMiterLimit ? this.strokeMiterLimit : \"4\", opacity = typeof this.opacity !== \"undefined\" ? this.opacity : \"1\", visibility = this.visible ? \"\" : \" visibility: hidden;\", filter = skipShadow ? \"\" : this.getSvgFilter(), fill = getSvgColorString(\"fill\", this.fill), stroke = getSvgColorString(\"stroke\", this.stroke);\n            return [ stroke, \"stroke-width: \", strokeWidth, \"; \", \"stroke-dasharray: \", strokeDashArray, \"; \", \"stroke-linecap: \", strokeLineCap, \"; \", \"stroke-linejoin: \", strokeLineJoin, \"; \", \"stroke-miterlimit: \", strokeMiterLimit, \"; \", fill, \"fill-rule: \", fillRule, \"; \", \"opacity: \", opacity, \";\", filter, visibility ].join(\"\");\n        },\n        getSvgSpanStyles: function(style, useWhiteSpace) {\n            var term = \"; \";\n            var fontFamily = style.fontFamily ? \"font-family: \" + (style.fontFamily.indexOf(\"'\") === -1 && style.fontFamily.indexOf('\"') === -1 ? \"'\" + style.fontFamily + \"'\" : style.fontFamily) + term : \"\";\n            var strokeWidth = style.strokeWidth ? \"stroke-width: \" + style.strokeWidth + term : \"\", fontFamily = fontFamily, fontSize = style.fontSize ? \"font-size: \" + style.fontSize + \"px\" + term : \"\", fontStyle = style.fontStyle ? \"font-style: \" + style.fontStyle + term : \"\", fontWeight = style.fontWeight ? \"font-weight: \" + style.fontWeight + term : \"\", fill = style.fill ? getSvgColorString(\"fill\", style.fill) : \"\", stroke = style.stroke ? getSvgColorString(\"stroke\", style.stroke) : \"\", textDecoration = this.getSvgTextDecoration(style), deltaY = style.deltaY ? \"baseline-shift: \" + -style.deltaY + \"; \" : \"\";\n            if (textDecoration) {\n                textDecoration = \"text-decoration: \" + textDecoration + term;\n            }\n            return [ stroke, strokeWidth, fontFamily, fontSize, fontStyle, fontWeight, textDecoration, fill, deltaY, useWhiteSpace ? \"white-space: pre; \" : \"\" ].join(\"\");\n        },\n        getSvgTextDecoration: function(style) {\n            if (\"overline\" in style || \"underline\" in style || \"linethrough\" in style) {\n                return (style.overline ? \"overline \" : \"\") + (style.underline ? \"underline \" : \"\") + (style.linethrough ? \"line-through \" : \"\");\n            }\n            return \"\";\n        },\n        getSvgFilter: function() {\n            return this.shadow ? \"filter: url(#SVGID_\" + this.shadow.id + \");\" : \"\";\n        },\n        getSvgId: function() {\n            return this.id ? 'id=\"' + this.id + '\" ' : \"\";\n        },\n        getSvgTransform: function() {\n            var angle = this.angle, skewX = this.skewX % 360, skewY = this.skewY % 360, center = this.getCenterPoint(), NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS, translatePart = \"translate(\" + toFixed(center.x, NUM_FRACTION_DIGITS) + \" \" + toFixed(center.y, NUM_FRACTION_DIGITS) + \")\", anglePart = angle !== 0 ? \" rotate(\" + toFixed(angle, NUM_FRACTION_DIGITS) + \")\" : \"\", scalePart = this.scaleX === 1 && this.scaleY === 1 ? \"\" : \" scale(\" + toFixed(this.scaleX, NUM_FRACTION_DIGITS) + \" \" + toFixed(this.scaleY, NUM_FRACTION_DIGITS) + \")\", skewXPart = skewX !== 0 ? \" skewX(\" + toFixed(skewX, NUM_FRACTION_DIGITS) + \")\" : \"\", skewYPart = skewY !== 0 ? \" skewY(\" + toFixed(skewY, NUM_FRACTION_DIGITS) + \")\" : \"\", flipXPart = this.flipX ? \" matrix(-1 0 0 1 0 0) \" : \"\", flipYPart = this.flipY ? \" matrix(1 0 0 -1 0 0)\" : \"\";\n            return [ translatePart, anglePart, scalePart, flipXPart, flipYPart, skewXPart, skewYPart ].join(\"\");\n        },\n        getSvgTransformMatrix: function() {\n            return this.transformMatrix ? \" matrix(\" + this.transformMatrix.join(\" \") + \") \" : \"\";\n        },\n        _setSVGBg: function(textBgRects) {\n            if (this.backgroundColor) {\n                var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n                textBgRects.push(\"\\t\\t<rect \", this._getFillAttributes(this.backgroundColor), ' x=\"', toFixed(-this.width / 2, NUM_FRACTION_DIGITS), '\" y=\"', toFixed(-this.height / 2, NUM_FRACTION_DIGITS), '\" width=\"', toFixed(this.width, NUM_FRACTION_DIGITS), '\" height=\"', toFixed(this.height, NUM_FRACTION_DIGITS), '\"></rect>\\n');\n            }\n        },\n        _createBaseSVGMarkup: function() {\n            var markup = [];\n            if (this.fill && this.fill.toLive) {\n                markup.push(this.fill.toSVG(this, false));\n            }\n            if (this.stroke && this.stroke.toLive) {\n                markup.push(this.stroke.toSVG(this, false));\n            }\n            if (this.shadow) {\n                markup.push(this.shadow.toSVG(this));\n            }\n            return markup;\n        },\n        addPaintOrder: function() {\n            return this.paintFirst !== \"fill\" ? ' paint-order=\"' + this.paintFirst + '\" ' : \"\";\n        }\n    });\n})();\n\n(function() {\n    var extend = fabric.util.object.extend, originalSet = \"stateProperties\";\n    function saveProps(origin, destination, props) {\n        var tmpObj = {}, deep = true;\n        props.forEach(function(prop) {\n            tmpObj[prop] = origin[prop];\n        });\n        extend(origin[destination], tmpObj, deep);\n    }\n    function _isEqual(origValue, currentValue, firstPass) {\n        if (origValue === currentValue) {\n            return true;\n        } else if (Array.isArray(origValue)) {\n            if (origValue.length !== currentValue.length) {\n                return false;\n            }\n            for (var i = 0, len = origValue.length; i < len; i++) {\n                if (!_isEqual(origValue[i], currentValue[i])) {\n                    return false;\n                }\n            }\n            return true;\n        } else if (origValue && typeof origValue === \"object\") {\n            var keys = Object.keys(origValue), key;\n            if (!firstPass && keys.length !== Object.keys(currentValue).length) {\n                return false;\n            }\n            for (var i = 0, len = keys.length; i < len; i++) {\n                key = keys[i];\n                if (!_isEqual(origValue[key], currentValue[key])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n    fabric.util.object.extend(fabric.Object.prototype, {\n        hasStateChanged: function(propertySet) {\n            propertySet = propertySet || originalSet;\n            var dashedPropertySet = \"_\" + propertySet;\n            if (Object.keys(this[dashedPropertySet]).length < this[propertySet].length) {\n                return true;\n            }\n            return !_isEqual(this[dashedPropertySet], this, true);\n        },\n        saveState: function(options) {\n            var propertySet = options && options.propertySet || originalSet, destination = \"_\" + propertySet;\n            if (!this[destination]) {\n                return this.setupState(options);\n            }\n            saveProps(this, destination, this[propertySet]);\n            if (options && options.stateProperties) {\n                saveProps(this, destination, options.stateProperties);\n            }\n            return this;\n        },\n        setupState: function(options) {\n            options = options || {};\n            var propertySet = options.propertySet || originalSet;\n            options.propertySet = propertySet;\n            this[\"_\" + propertySet] = {};\n            this.saveState(options);\n            return this;\n        }\n    });\n})();\n\n(function() {\n    var degreesToRadians = fabric.util.degreesToRadians;\n    fabric.util.object.extend(fabric.Object.prototype, {\n        _controlsVisibility: null,\n        _findTargetCorner: function(pointer) {\n            if (!this.hasControls || this.group || (!this.canvas || this.canvas._activeObject !== this)) {\n                return false;\n            }\n            var ex = pointer.x, ey = pointer.y, xPoints, lines;\n            this.__corner = 0;\n            for (var i in this.oCoords) {\n                if (!this.isControlVisible(i)) {\n                    continue;\n                }\n                if (i === \"mtr\" && !this.hasRotatingPoint) {\n                    continue;\n                }\n                if (this.get(\"lockUniScaling\") && (i === \"mt\" || i === \"mr\" || i === \"mb\" || i === \"ml\")) {\n                    continue;\n                }\n                lines = this._getImageLines(this.oCoords[i].corner);\n                xPoints = this._findCrossPoints({\n                    x: ex,\n                    y: ey\n                }, lines);\n                if (xPoints !== 0 && xPoints % 2 === 1) {\n                    this.__corner = i;\n                    return i;\n                }\n            }\n            return false;\n        },\n        _setCornerCoords: function() {\n            var coords = this.oCoords, newTheta = degreesToRadians(45 - this.angle), cornerHypotenuse = this.cornerSize * .707106, cosHalfOffset = cornerHypotenuse * fabric.util.cos(newTheta), sinHalfOffset = cornerHypotenuse * fabric.util.sin(newTheta), x, y;\n            for (var point in coords) {\n                x = coords[point].x;\n                y = coords[point].y;\n                coords[point].corner = {\n                    tl: {\n                        x: x - sinHalfOffset,\n                        y: y - cosHalfOffset\n                    },\n                    tr: {\n                        x: x + cosHalfOffset,\n                        y: y - sinHalfOffset\n                    },\n                    bl: {\n                        x: x - cosHalfOffset,\n                        y: y + sinHalfOffset\n                    },\n                    br: {\n                        x: x + sinHalfOffset,\n                        y: y + cosHalfOffset\n                    }\n                };\n            }\n        },\n        drawSelectionBackground: function(ctx) {\n            if (!this.selectionBackgroundColor || this.canvas && !this.canvas.interactive || this.canvas && this.canvas._activeObject !== this) {\n                return this;\n            }\n            ctx.save();\n            var center = this.getCenterPoint(), wh = this._calculateCurrentDimensions(), vpt = this.canvas.viewportTransform;\n            ctx.translate(center.x, center.y);\n            ctx.scale(1 / vpt[0], 1 / vpt[3]);\n            ctx.rotate(degreesToRadians(this.angle));\n            ctx.fillStyle = this.selectionBackgroundColor;\n            ctx.fillRect(-wh.x / 2, -wh.y / 2, wh.x, wh.y);\n            ctx.restore();\n            return this;\n        },\n        drawBorders: function(ctx, styleOverride) {\n            styleOverride = styleOverride || {};\n            var wh = this._calculateCurrentDimensions(), strokeWidth = 1 / this.borderScaleFactor, width = wh.x + strokeWidth, height = wh.y + strokeWidth, drawRotatingPoint = typeof styleOverride.hasRotatingPoint !== \"undefined\" ? styleOverride.hasRotatingPoint : this.hasRotatingPoint, hasControls = typeof styleOverride.hasControls !== \"undefined\" ? styleOverride.hasControls : this.hasControls, rotatingPointOffset = typeof styleOverride.rotatingPointOffset !== \"undefined\" ? styleOverride.rotatingPointOffset : this.rotatingPointOffset;\n            ctx.save();\n            ctx.strokeStyle = styleOverride.borderColor || this.borderColor;\n            this._setLineDash(ctx, styleOverride.borderDashArray || this.borderDashArray, null);\n            ctx.strokeRect(-width / 2, -height / 2, width, height);\n            if (drawRotatingPoint && this.isControlVisible(\"mtr\") && hasControls) {\n                var rotateHeight = -height / 2;\n                ctx.beginPath();\n                ctx.moveTo(0, rotateHeight);\n                ctx.lineTo(0, rotateHeight - rotatingPointOffset);\n                ctx.stroke();\n            }\n            ctx.restore();\n            return this;\n        },\n        drawBordersInGroup: function(ctx, options, styleOverride) {\n            styleOverride = styleOverride || {};\n            var p = this._getNonTransformedDimensions(), matrix = fabric.util.customTransformMatrix(options.scaleX, options.scaleY, options.skewX), wh = fabric.util.transformPoint(p, matrix), strokeWidth = 1 / this.borderScaleFactor, width = wh.x + strokeWidth, height = wh.y + strokeWidth;\n            ctx.save();\n            this._setLineDash(ctx, styleOverride.borderDashArray || this.borderDashArray, null);\n            ctx.strokeStyle = styleOverride.borderColor || this.borderColor;\n            ctx.strokeRect(-width / 2, -height / 2, width, height);\n            ctx.restore();\n            return this;\n        },\n        drawControls: function(ctx, styleOverride) {\n            styleOverride = styleOverride || {};\n            var wh = this._calculateCurrentDimensions(), width = wh.x, height = wh.y, scaleOffset = styleOverride.cornerSize || this.cornerSize, left = -(width + scaleOffset) / 2, top = -(height + scaleOffset) / 2, transparentCorners = typeof styleOverride.transparentCorners !== \"undefined\" ? styleOverride.transparentCorners : this.transparentCorners, hasRotatingPoint = typeof styleOverride.hasRotatingPoint !== \"undefined\" ? styleOverride.hasRotatingPoint : this.hasRotatingPoint, methodName = transparentCorners ? \"stroke\" : \"fill\";\n            ctx.save();\n            ctx.strokeStyle = ctx.fillStyle = styleOverride.cornerColor || this.cornerColor;\n            if (!this.transparentCorners) {\n                ctx.strokeStyle = styleOverride.cornerStrokeColor || this.cornerStrokeColor;\n            }\n            this._setLineDash(ctx, styleOverride.cornerDashArray || this.cornerDashArray, null);\n            this._drawControl(\"tl\", ctx, methodName, left, top, styleOverride);\n            this._drawControl(\"tr\", ctx, methodName, left + width, top, styleOverride);\n            this._drawControl(\"bl\", ctx, methodName, left, top + height, styleOverride);\n            this._drawControl(\"br\", ctx, methodName, left + width, top + height, styleOverride);\n            if (!this.get(\"lockUniScaling\")) {\n                this._drawControl(\"mt\", ctx, methodName, left + width / 2, top, styleOverride);\n                this._drawControl(\"mb\", ctx, methodName, left + width / 2, top + height, styleOverride);\n                this._drawControl(\"mr\", ctx, methodName, left + width, top + height / 2, styleOverride);\n                this._drawControl(\"ml\", ctx, methodName, left, top + height / 2, styleOverride);\n            }\n            if (hasRotatingPoint) {\n                this._drawControl(\"mtr\", ctx, methodName, left + width / 2, top - this.rotatingPointOffset, styleOverride);\n            }\n            ctx.restore();\n            return this;\n        },\n        _drawControl: function(control, ctx, methodName, left, top, styleOverride) {\n            styleOverride = styleOverride || {};\n            if (!this.isControlVisible(control)) {\n                return;\n            }\n            var size = this.cornerSize, stroke = !this.transparentCorners && this.cornerStrokeColor;\n            switch (styleOverride.cornerStyle || this.cornerStyle) {\n              case \"circle\":\n                ctx.beginPath();\n                ctx.arc(left + size / 2, top + size / 2, size / 2, 0, 2 * Math.PI, false);\n                ctx[methodName]();\n                if (stroke) {\n                    ctx.stroke();\n                }\n                break;\n\n              default:\n                this.transparentCorners || ctx.clearRect(left, top, size, size);\n                ctx[methodName + \"Rect\"](left, top, size, size);\n                if (stroke) {\n                    ctx.strokeRect(left, top, size, size);\n                }\n            }\n        },\n        isControlVisible: function(controlName) {\n            return this._getControlsVisibility()[controlName];\n        },\n        setControlVisible: function(controlName, visible) {\n            this._getControlsVisibility()[controlName] = visible;\n            return this;\n        },\n        setControlsVisibility: function(options) {\n            options || (options = {});\n            for (var p in options) {\n                this.setControlVisible(p, options[p]);\n            }\n            return this;\n        },\n        _getControlsVisibility: function() {\n            if (!this._controlsVisibility) {\n                this._controlsVisibility = {\n                    tl: true,\n                    tr: true,\n                    br: true,\n                    bl: true,\n                    ml: true,\n                    mt: true,\n                    mr: true,\n                    mb: true,\n                    mtr: true\n                };\n            }\n            return this._controlsVisibility;\n        },\n        onDeselect: function() {},\n        onSelect: function() {}\n    });\n})();\n\nfabric.util.object.extend(fabric.StaticCanvas.prototype, {\n    FX_DURATION: 500,\n    fxCenterObjectH: function(object, callbacks) {\n        callbacks = callbacks || {};\n        var empty = function() {}, onComplete = callbacks.onComplete || empty, onChange = callbacks.onChange || empty, _this = this;\n        fabric.util.animate({\n            startValue: object.left,\n            endValue: this.getCenter().left,\n            duration: this.FX_DURATION,\n            onChange: function(value) {\n                object.set(\"left\", value);\n                _this.requestRenderAll();\n                onChange();\n            },\n            onComplete: function() {\n                object.setCoords();\n                onComplete();\n            }\n        });\n        return this;\n    },\n    fxCenterObjectV: function(object, callbacks) {\n        callbacks = callbacks || {};\n        var empty = function() {}, onComplete = callbacks.onComplete || empty, onChange = callbacks.onChange || empty, _this = this;\n        fabric.util.animate({\n            startValue: object.top,\n            endValue: this.getCenter().top,\n            duration: this.FX_DURATION,\n            onChange: function(value) {\n                object.set(\"top\", value);\n                _this.requestRenderAll();\n                onChange();\n            },\n            onComplete: function() {\n                object.setCoords();\n                onComplete();\n            }\n        });\n        return this;\n    },\n    fxRemove: function(object, callbacks) {\n        callbacks = callbacks || {};\n        var empty = function() {}, onComplete = callbacks.onComplete || empty, onChange = callbacks.onChange || empty, _this = this;\n        fabric.util.animate({\n            startValue: object.opacity,\n            endValue: 0,\n            duration: this.FX_DURATION,\n            onChange: function(value) {\n                object.set(\"opacity\", value);\n                _this.requestRenderAll();\n                onChange();\n            },\n            onComplete: function() {\n                _this.remove(object);\n                onComplete();\n            }\n        });\n        return this;\n    }\n});\n\nfabric.util.object.extend(fabric.Object.prototype, {\n    animate: function() {\n        if (arguments[0] && typeof arguments[0] === \"object\") {\n            var propsToAnimate = [], prop, skipCallbacks;\n            for (prop in arguments[0]) {\n                propsToAnimate.push(prop);\n            }\n            for (var i = 0, len = propsToAnimate.length; i < len; i++) {\n                prop = propsToAnimate[i];\n                skipCallbacks = i !== len - 1;\n                this._animate(prop, arguments[0][prop], arguments[1], skipCallbacks);\n            }\n        } else {\n            this._animate.apply(this, arguments);\n        }\n        return this;\n    },\n    _animate: function(property, to, options, skipCallbacks) {\n        var _this = this, propPair;\n        to = to.toString();\n        if (!options) {\n            options = {};\n        } else {\n            options = fabric.util.object.clone(options);\n        }\n        if (~property.indexOf(\".\")) {\n            propPair = property.split(\".\");\n        }\n        var currentValue = propPair ? this.get(propPair[0])[propPair[1]] : this.get(property);\n        if (!(\"from\" in options)) {\n            options.from = currentValue;\n        }\n        if (~to.indexOf(\"=\")) {\n            to = currentValue + parseFloat(to.replace(\"=\", \"\"));\n        } else {\n            to = parseFloat(to);\n        }\n        fabric.util.animate({\n            startValue: options.from,\n            endValue: to,\n            byValue: options.by,\n            easing: options.easing,\n            duration: options.duration,\n            abort: options.abort && function() {\n                return options.abort.call(_this);\n            },\n            onChange: function(value, valueProgress, timeProgress) {\n                if (propPair) {\n                    _this[propPair[0]][propPair[1]] = value;\n                } else {\n                    _this.set(property, value);\n                }\n                if (skipCallbacks) {\n                    return;\n                }\n                options.onChange && options.onChange(value, valueProgress, timeProgress);\n            },\n            onComplete: function(value, valueProgress, timeProgress) {\n                if (skipCallbacks) {\n                    return;\n                }\n                _this.setCoords();\n                options.onComplete && options.onComplete(value, valueProgress, timeProgress);\n            }\n        });\n    }\n});\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, clone = fabric.util.object.clone, coordProps = {\n        x1: 1,\n        x2: 1,\n        y1: 1,\n        y2: 1\n    }, supportsLineDash = fabric.StaticCanvas.supports(\"setLineDash\");\n    if (fabric.Line) {\n        fabric.warn(\"fabric.Line is already defined\");\n        return;\n    }\n    fabric.Line = fabric.util.createClass(fabric.Object, {\n        type: \"line\",\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"x1\", \"x2\", \"y1\", \"y2\"),\n        initialize: function(points, options) {\n            if (!points) {\n                points = [ 0, 0, 0, 0 ];\n            }\n            this.callSuper(\"initialize\", options);\n            this.set(\"x1\", points[0]);\n            this.set(\"y1\", points[1]);\n            this.set(\"x2\", points[2]);\n            this.set(\"y2\", points[3]);\n            this._setWidthHeight(options);\n        },\n        _setWidthHeight: function(options) {\n            options || (options = {});\n            this.width = Math.abs(this.x2 - this.x1);\n            this.height = Math.abs(this.y2 - this.y1);\n            this.left = \"left\" in options ? options.left : this._getLeftToOriginX();\n            this.top = \"top\" in options ? options.top : this._getTopToOriginY();\n        },\n        _set: function(key, value) {\n            this.callSuper(\"_set\", key, value);\n            if (typeof coordProps[key] !== \"undefined\") {\n                this._setWidthHeight();\n            }\n            return this;\n        },\n        _getLeftToOriginX: makeEdgeToOriginGetter({\n            origin: \"originX\",\n            axis1: \"x1\",\n            axis2: \"x2\",\n            dimension: \"width\"\n        }, {\n            nearest: \"left\",\n            center: \"center\",\n            farthest: \"right\"\n        }),\n        _getTopToOriginY: makeEdgeToOriginGetter({\n            origin: \"originY\",\n            axis1: \"y1\",\n            axis2: \"y2\",\n            dimension: \"height\"\n        }, {\n            nearest: \"top\",\n            center: \"center\",\n            farthest: \"bottom\"\n        }),\n        _render: function(ctx) {\n            ctx.beginPath();\n            if (!this.strokeDashArray || this.strokeDashArray && supportsLineDash) {\n                var p = this.calcLinePoints();\n                ctx.moveTo(p.x1, p.y1);\n                ctx.lineTo(p.x2, p.y2);\n            }\n            ctx.lineWidth = this.strokeWidth;\n            var origStrokeStyle = ctx.strokeStyle;\n            ctx.strokeStyle = this.stroke || ctx.fillStyle;\n            this.stroke && this._renderStroke(ctx);\n            ctx.strokeStyle = origStrokeStyle;\n        },\n        _renderDashedStroke: function(ctx) {\n            var p = this.calcLinePoints();\n            ctx.beginPath();\n            fabric.util.drawDashedLine(ctx, p.x1, p.y1, p.x2, p.y2, this.strokeDashArray);\n            ctx.closePath();\n        },\n        _findCenterFromElement: function() {\n            return {\n                x: (this.x1 + this.x2) / 2,\n                y: (this.y1 + this.y2) / 2\n            };\n        },\n        toObject: function(propertiesToInclude) {\n            return extend(this.callSuper(\"toObject\", propertiesToInclude), this.calcLinePoints());\n        },\n        _getNonTransformedDimensions: function() {\n            var dim = this.callSuper(\"_getNonTransformedDimensions\");\n            if (this.strokeLineCap === \"butt\") {\n                if (this.width === 0) {\n                    dim.y -= this.strokeWidth;\n                }\n                if (this.height === 0) {\n                    dim.x -= this.strokeWidth;\n                }\n            }\n            return dim;\n        },\n        calcLinePoints: function() {\n            var xMult = this.x1 <= this.x2 ? -1 : 1, yMult = this.y1 <= this.y2 ? -1 : 1, x1 = xMult * this.width * .5, y1 = yMult * this.height * .5, x2 = xMult * this.width * -.5, y2 = yMult * this.height * -.5;\n            return {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2\n            };\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup(), p = this.calcLinePoints();\n            markup.push(\"<line \", this.getSvgId(), 'x1=\"', p.x1, '\" y1=\"', p.y1, '\" x2=\"', p.x2, '\" y2=\"', p.y2, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\"/>\\n');\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        }\n    });\n    fabric.Line.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\"x1 y1 x2 y2\".split(\" \"));\n    fabric.Line.fromElement = function(element, callback, options) {\n        options = options || {};\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Line.ATTRIBUTE_NAMES), points = [ parsedAttributes.x1 || 0, parsedAttributes.y1 || 0, parsedAttributes.x2 || 0, parsedAttributes.y2 || 0 ];\n        callback(new fabric.Line(points, extend(parsedAttributes, options)));\n    };\n    fabric.Line.fromObject = function(object, callback) {\n        function _callback(instance) {\n            delete instance.points;\n            callback && callback(instance);\n        }\n        var options = clone(object, true);\n        options.points = [ object.x1, object.y1, object.x2, object.y2 ];\n        fabric.Object._fromObject(\"Line\", options, _callback, \"points\");\n    };\n    function makeEdgeToOriginGetter(propertyNames, originValues) {\n        var origin = propertyNames.origin, axis1 = propertyNames.axis1, axis2 = propertyNames.axis2, dimension = propertyNames.dimension, nearest = originValues.nearest, center = originValues.center, farthest = originValues.farthest;\n        return function() {\n            switch (this.get(origin)) {\n              case nearest:\n                return Math.min(this.get(axis1), this.get(axis2));\n\n              case center:\n                return Math.min(this.get(axis1), this.get(axis2)) + .5 * this.get(dimension);\n\n              case farthest:\n                return Math.max(this.get(axis1), this.get(axis2));\n            }\n        };\n    }\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), pi = Math.PI;\n    if (fabric.Circle) {\n        fabric.warn(\"fabric.Circle is already defined.\");\n        return;\n    }\n    fabric.Circle = fabric.util.createClass(fabric.Object, {\n        type: \"circle\",\n        radius: 0,\n        startAngle: 0,\n        endAngle: pi * 2,\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"radius\", \"startAngle\", \"endAngle\"),\n        _set: function(key, value) {\n            this.callSuper(\"_set\", key, value);\n            if (key === \"radius\") {\n                this.setRadius(value);\n            }\n            return this;\n        },\n        toObject: function(propertiesToInclude) {\n            return this.callSuper(\"toObject\", [ \"radius\", \"startAngle\", \"endAngle\" ].concat(propertiesToInclude));\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup(), x = 0, y = 0, angle = (this.endAngle - this.startAngle) % (2 * pi);\n            if (angle === 0) {\n                markup.push(\"<circle \", this.getSvgId(), 'cx=\"' + x + '\" cy=\"' + y + '\" ', 'r=\"', this.radius, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), \" \", this.getSvgTransformMatrix(), '\"', this.addPaintOrder(), \"/>\\n\");\n            } else {\n                var startX = fabric.util.cos(this.startAngle) * this.radius, startY = fabric.util.sin(this.startAngle) * this.radius, endX = fabric.util.cos(this.endAngle) * this.radius, endY = fabric.util.sin(this.endAngle) * this.radius, largeFlag = angle > pi ? \"1\" : \"0\";\n                markup.push('<path d=\"M ' + startX + \" \" + startY, \" A \" + this.radius + \" \" + this.radius, \" 0 \", +largeFlag + \" 1\", \" \" + endX + \" \" + endY, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), \" \", this.getSvgTransformMatrix(), '\"', this.addPaintOrder(), '\"/>\\n');\n            }\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        },\n        _render: function(ctx) {\n            ctx.beginPath();\n            ctx.arc(0, 0, this.radius, this.startAngle, this.endAngle, false);\n            this._renderPaintInOrder(ctx);\n        },\n        getRadiusX: function() {\n            return this.get(\"radius\") * this.get(\"scaleX\");\n        },\n        getRadiusY: function() {\n            return this.get(\"radius\") * this.get(\"scaleY\");\n        },\n        setRadius: function(value) {\n            this.radius = value;\n            return this.set(\"width\", value * 2).set(\"height\", value * 2);\n        }\n    });\n    fabric.Circle.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\"cx cy r\".split(\" \"));\n    fabric.Circle.fromElement = function(element, callback) {\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Circle.ATTRIBUTE_NAMES);\n        if (!isValidRadius(parsedAttributes)) {\n            throw new Error(\"value of `r` attribute is required and can not be negative\");\n        }\n        parsedAttributes.left = (parsedAttributes.left || 0) - parsedAttributes.radius;\n        parsedAttributes.top = (parsedAttributes.top || 0) - parsedAttributes.radius;\n        callback(new fabric.Circle(parsedAttributes));\n    };\n    function isValidRadius(attributes) {\n        return \"radius\" in attributes && attributes.radius >= 0;\n    }\n    fabric.Circle.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Circle\", object, callback);\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {});\n    if (fabric.Triangle) {\n        fabric.warn(\"fabric.Triangle is already defined\");\n        return;\n    }\n    fabric.Triangle = fabric.util.createClass(fabric.Object, {\n        type: \"triangle\",\n        width: 100,\n        height: 100,\n        _render: function(ctx) {\n            var widthBy2 = this.width / 2, heightBy2 = this.height / 2;\n            ctx.beginPath();\n            ctx.moveTo(-widthBy2, heightBy2);\n            ctx.lineTo(0, -heightBy2);\n            ctx.lineTo(widthBy2, heightBy2);\n            ctx.closePath();\n            this._renderPaintInOrder(ctx);\n        },\n        _renderDashedStroke: function(ctx) {\n            var widthBy2 = this.width / 2, heightBy2 = this.height / 2;\n            ctx.beginPath();\n            fabric.util.drawDashedLine(ctx, -widthBy2, heightBy2, 0, -heightBy2, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, 0, -heightBy2, widthBy2, heightBy2, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, widthBy2, heightBy2, -widthBy2, heightBy2, this.strokeDashArray);\n            ctx.closePath();\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup(), widthBy2 = this.width / 2, heightBy2 = this.height / 2, points = [ -widthBy2 + \" \" + heightBy2, \"0 \" + -heightBy2, widthBy2 + \" \" + heightBy2 ].join(\",\");\n            markup.push(\"<polygon \", this.getSvgId(), 'points=\"', points, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), '\"', this.addPaintOrder(), \"/>\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        }\n    });\n    fabric.Triangle.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Triangle\", object, callback);\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), piBy2 = Math.PI * 2;\n    if (fabric.Ellipse) {\n        fabric.warn(\"fabric.Ellipse is already defined.\");\n        return;\n    }\n    fabric.Ellipse = fabric.util.createClass(fabric.Object, {\n        type: \"ellipse\",\n        rx: 0,\n        ry: 0,\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"rx\", \"ry\"),\n        initialize: function(options) {\n            this.callSuper(\"initialize\", options);\n            this.set(\"rx\", options && options.rx || 0);\n            this.set(\"ry\", options && options.ry || 0);\n        },\n        _set: function(key, value) {\n            this.callSuper(\"_set\", key, value);\n            switch (key) {\n              case \"rx\":\n                this.rx = value;\n                this.set(\"width\", value * 2);\n                break;\n\n              case \"ry\":\n                this.ry = value;\n                this.set(\"height\", value * 2);\n                break;\n            }\n            return this;\n        },\n        getRx: function() {\n            return this.get(\"rx\") * this.get(\"scaleX\");\n        },\n        getRy: function() {\n            return this.get(\"ry\") * this.get(\"scaleY\");\n        },\n        toObject: function(propertiesToInclude) {\n            return this.callSuper(\"toObject\", [ \"rx\", \"ry\" ].concat(propertiesToInclude));\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup();\n            markup.push(\"<ellipse \", this.getSvgId(), 'cx=\"0\" cy=\"0\" ', 'rx=\"', this.rx, '\" ry=\"', this.ry, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\"', this.addPaintOrder(), \"/>\\n\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        },\n        _render: function(ctx) {\n            ctx.beginPath();\n            ctx.save();\n            ctx.transform(1, 0, 0, this.ry / this.rx, 0, 0);\n            ctx.arc(0, 0, this.rx, 0, piBy2, false);\n            ctx.restore();\n            this._renderPaintInOrder(ctx);\n        }\n    });\n    fabric.Ellipse.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\"cx cy rx ry\".split(\" \"));\n    fabric.Ellipse.fromElement = function(element, callback) {\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Ellipse.ATTRIBUTE_NAMES);\n        parsedAttributes.left = (parsedAttributes.left || 0) - parsedAttributes.rx;\n        parsedAttributes.top = (parsedAttributes.top || 0) - parsedAttributes.ry;\n        callback(new fabric.Ellipse(parsedAttributes));\n    };\n    fabric.Ellipse.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Ellipse\", object, callback);\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend;\n    if (fabric.Rect) {\n        fabric.warn(\"fabric.Rect is already defined\");\n        return;\n    }\n    fabric.Rect = fabric.util.createClass(fabric.Object, {\n        stateProperties: fabric.Object.prototype.stateProperties.concat(\"rx\", \"ry\"),\n        type: \"rect\",\n        rx: 0,\n        ry: 0,\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"rx\", \"ry\"),\n        initialize: function(options) {\n            this.callSuper(\"initialize\", options);\n            this._initRxRy();\n        },\n        _initRxRy: function() {\n            if (this.rx && !this.ry) {\n                this.ry = this.rx;\n            } else if (this.ry && !this.rx) {\n                this.rx = this.ry;\n            }\n        },\n        _render: function(ctx) {\n            if (this.width === 1 && this.height === 1) {\n                ctx.fillRect(-.5, -.5, 1, 1);\n                return;\n            }\n            var rx = this.rx ? Math.min(this.rx, this.width / 2) : 0, ry = this.ry ? Math.min(this.ry, this.height / 2) : 0, w = this.width, h = this.height, x = -this.width / 2, y = -this.height / 2, isRounded = rx !== 0 || ry !== 0, k = 1 - .5522847498;\n            ctx.beginPath();\n            ctx.moveTo(x + rx, y);\n            ctx.lineTo(x + w - rx, y);\n            isRounded && ctx.bezierCurveTo(x + w - k * rx, y, x + w, y + k * ry, x + w, y + ry);\n            ctx.lineTo(x + w, y + h - ry);\n            isRounded && ctx.bezierCurveTo(x + w, y + h - k * ry, x + w - k * rx, y + h, x + w - rx, y + h);\n            ctx.lineTo(x + rx, y + h);\n            isRounded && ctx.bezierCurveTo(x + k * rx, y + h, x, y + h - k * ry, x, y + h - ry);\n            ctx.lineTo(x, y + ry);\n            isRounded && ctx.bezierCurveTo(x, y + k * ry, x + k * rx, y, x + rx, y);\n            ctx.closePath();\n            this._renderPaintInOrder(ctx);\n        },\n        _renderDashedStroke: function(ctx) {\n            var x = -this.width / 2, y = -this.height / 2, w = this.width, h = this.height;\n            ctx.beginPath();\n            fabric.util.drawDashedLine(ctx, x, y, x + w, y, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, x + w, y, x + w, y + h, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, x + w, y + h, x, y + h, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, x, y + h, x, y, this.strokeDashArray);\n            ctx.closePath();\n        },\n        toObject: function(propertiesToInclude) {\n            return this.callSuper(\"toObject\", [ \"rx\", \"ry\" ].concat(propertiesToInclude));\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup(), x = -this.width / 2, y = -this.height / 2;\n            markup.push(\"<rect \", this.getSvgId(), 'x=\"', x, '\" y=\"', y, '\" rx=\"', this.get(\"rx\"), '\" ry=\"', this.get(\"ry\"), '\" width=\"', this.width, '\" height=\"', this.height, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\"', this.addPaintOrder(), \"/>\\n\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        }\n    });\n    fabric.Rect.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\"x y rx ry width height\".split(\" \"));\n    fabric.Rect.fromElement = function(element, callback, options) {\n        if (!element) {\n            return callback(null);\n        }\n        options = options || {};\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Rect.ATTRIBUTE_NAMES);\n        parsedAttributes.left = parsedAttributes.left || 0;\n        parsedAttributes.top = parsedAttributes.top || 0;\n        var rect = new fabric.Rect(extend(options ? fabric.util.object.clone(options) : {}, parsedAttributes));\n        rect.visible = rect.visible && rect.width > 0 && rect.height > 0;\n        callback(rect);\n    };\n    fabric.Rect.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Rect\", object, callback);\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, min = fabric.util.array.min, max = fabric.util.array.max, toFixed = fabric.util.toFixed;\n    if (fabric.Polyline) {\n        fabric.warn(\"fabric.Polyline is already defined\");\n        return;\n    }\n    fabric.Polyline = fabric.util.createClass(fabric.Object, {\n        type: \"polyline\",\n        points: null,\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"points\"),\n        initialize: function(points, options) {\n            options = options || {};\n            this.points = points || [];\n            this.callSuper(\"initialize\", options);\n            var calcDim = this._calcDimensions();\n            if (typeof options.left === \"undefined\") {\n                this.left = calcDim.left;\n            }\n            if (typeof options.top === \"undefined\") {\n                this.top = calcDim.top;\n            }\n            this.width = calcDim.width;\n            this.height = calcDim.height;\n            this.pathOffset = {\n                x: calcDim.left + this.width / 2,\n                y: calcDim.top + this.height / 2\n            };\n        },\n        _calcDimensions: function() {\n            var points = this.points, minX = min(points, \"x\") || 0, minY = min(points, \"y\") || 0, maxX = max(points, \"x\") || 0, maxY = max(points, \"y\") || 0, width = maxX - minX, height = maxY - minY;\n            return {\n                left: minX,\n                top: minY,\n                width: width,\n                height: height\n            };\n        },\n        toObject: function(propertiesToInclude) {\n            return extend(this.callSuper(\"toObject\", propertiesToInclude), {\n                points: this.points.concat()\n            });\n        },\n        toSVG: function(reviver) {\n            var points = [], diffX = this.pathOffset.x, diffY = this.pathOffset.y, markup = this._createBaseSVGMarkup(), NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n            for (var i = 0, len = this.points.length; i < len; i++) {\n                points.push(toFixed(this.points[i].x - diffX, NUM_FRACTION_DIGITS), \",\", toFixed(this.points[i].y - diffY, NUM_FRACTION_DIGITS), \" \");\n            }\n            markup.push(\"<\", this.type, \" \", this.getSvgId(), 'points=\"', points.join(\"\"), '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), \" \", this.getSvgTransformMatrix(), '\"', this.addPaintOrder(), \"/>\\n\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        },\n        commonRender: function(ctx) {\n            var point, len = this.points.length, x = this.pathOffset.x, y = this.pathOffset.y;\n            if (!len || isNaN(this.points[len - 1].y)) {\n                return false;\n            }\n            ctx.beginPath();\n            ctx.moveTo(this.points[0].x - x, this.points[0].y - y);\n            for (var i = 0; i < len; i++) {\n                point = this.points[i];\n                ctx.lineTo(point.x - x, point.y - y);\n            }\n            return true;\n        },\n        _render: function(ctx) {\n            if (!this.commonRender(ctx)) {\n                return;\n            }\n            this._renderPaintInOrder(ctx);\n        },\n        _renderDashedStroke: function(ctx) {\n            var p1, p2;\n            ctx.beginPath();\n            for (var i = 0, len = this.points.length; i < len; i++) {\n                p1 = this.points[i];\n                p2 = this.points[i + 1] || p1;\n                fabric.util.drawDashedLine(ctx, p1.x, p1.y, p2.x, p2.y, this.strokeDashArray);\n            }\n        },\n        complexity: function() {\n            return this.get(\"points\").length;\n        }\n    });\n    fabric.Polyline.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat();\n    fabric.Polyline.fromElement = function(element, callback, options) {\n        if (!element) {\n            return callback(null);\n        }\n        options || (options = {});\n        var points = fabric.parsePointsAttribute(element.getAttribute(\"points\")), parsedAttributes = fabric.parseAttributes(element, fabric.Polyline.ATTRIBUTE_NAMES);\n        callback(new fabric.Polyline(points, fabric.util.object.extend(parsedAttributes, options)));\n    };\n    fabric.Polyline.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Polyline\", object, callback, \"points\");\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend;\n    if (fabric.Polygon) {\n        fabric.warn(\"fabric.Polygon is already defined\");\n        return;\n    }\n    fabric.Polygon = fabric.util.createClass(fabric.Polyline, {\n        type: \"polygon\",\n        _render: function(ctx) {\n            if (!this.commonRender(ctx)) {\n                return;\n            }\n            ctx.closePath();\n            this._renderPaintInOrder(ctx);\n        },\n        _renderDashedStroke: function(ctx) {\n            this.callSuper(\"_renderDashedStroke\", ctx);\n            ctx.closePath();\n        }\n    });\n    fabric.Polygon.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat();\n    fabric.Polygon.fromElement = function(element, callback, options) {\n        if (!element) {\n            return callback(null);\n        }\n        options || (options = {});\n        var points = fabric.parsePointsAttribute(element.getAttribute(\"points\")), parsedAttributes = fabric.parseAttributes(element, fabric.Polygon.ATTRIBUTE_NAMES);\n        callback(new fabric.Polygon(points, extend(parsedAttributes, options)));\n    };\n    fabric.Polygon.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Polygon\", object, callback, \"points\");\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), min = fabric.util.array.min, max = fabric.util.array.max, extend = fabric.util.object.extend, _toString = Object.prototype.toString, drawArc = fabric.util.drawArc, commandLengths = {\n        m: 2,\n        l: 2,\n        h: 1,\n        v: 1,\n        c: 6,\n        s: 4,\n        q: 4,\n        t: 2,\n        a: 7\n    }, repeatedCommands = {\n        m: \"l\",\n        M: \"L\"\n    };\n    if (fabric.Path) {\n        fabric.warn(\"fabric.Path is already defined\");\n        return;\n    }\n    fabric.Path = fabric.util.createClass(fabric.Object, {\n        type: \"path\",\n        path: null,\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"path\", \"fillRule\"),\n        stateProperties: fabric.Object.prototype.stateProperties.concat(\"path\"),\n        initialize: function(path, options) {\n            options = options || {};\n            this.callSuper(\"initialize\", options);\n            if (!path) {\n                path = [];\n            }\n            var fromArray = _toString.call(path) === \"[object Array]\";\n            this.path = fromArray ? path : path.match && path.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);\n            if (!this.path) {\n                return;\n            }\n            if (!fromArray) {\n                this.path = this._parsePath();\n            }\n            this._setPositionDimensions(options);\n        },\n        _setPositionDimensions: function(options) {\n            var calcDim = this._parseDimensions();\n            this.width = calcDim.width;\n            this.height = calcDim.height;\n            if (typeof options.left === \"undefined\") {\n                this.left = calcDim.left;\n            }\n            if (typeof options.top === \"undefined\") {\n                this.top = calcDim.top;\n            }\n            this.pathOffset = this.pathOffset || {\n                x: calcDim.left + this.width / 2,\n                y: calcDim.top + this.height / 2\n            };\n        },\n        _renderPathCommands: function(ctx) {\n            var current, previous = null, subpathStartX = 0, subpathStartY = 0, x = 0, y = 0, controlX = 0, controlY = 0, tempX, tempY, l = -this.pathOffset.x, t = -this.pathOffset.y;\n            ctx.beginPath();\n            for (var i = 0, len = this.path.length; i < len; ++i) {\n                current = this.path[i];\n                switch (current[0]) {\n                  case \"l\":\n                    x += current[1];\n                    y += current[2];\n                    ctx.lineTo(x + l, y + t);\n                    break;\n\n                  case \"L\":\n                    x = current[1];\n                    y = current[2];\n                    ctx.lineTo(x + l, y + t);\n                    break;\n\n                  case \"h\":\n                    x += current[1];\n                    ctx.lineTo(x + l, y + t);\n                    break;\n\n                  case \"H\":\n                    x = current[1];\n                    ctx.lineTo(x + l, y + t);\n                    break;\n\n                  case \"v\":\n                    y += current[1];\n                    ctx.lineTo(x + l, y + t);\n                    break;\n\n                  case \"V\":\n                    y = current[1];\n                    ctx.lineTo(x + l, y + t);\n                    break;\n\n                  case \"m\":\n                    x += current[1];\n                    y += current[2];\n                    subpathStartX = x;\n                    subpathStartY = y;\n                    ctx.moveTo(x + l, y + t);\n                    break;\n\n                  case \"M\":\n                    x = current[1];\n                    y = current[2];\n                    subpathStartX = x;\n                    subpathStartY = y;\n                    ctx.moveTo(x + l, y + t);\n                    break;\n\n                  case \"c\":\n                    tempX = x + current[5];\n                    tempY = y + current[6];\n                    controlX = x + current[3];\n                    controlY = y + current[4];\n                    ctx.bezierCurveTo(x + current[1] + l, y + current[2] + t, controlX + l, controlY + t, tempX + l, tempY + t);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"C\":\n                    x = current[5];\n                    y = current[6];\n                    controlX = current[3];\n                    controlY = current[4];\n                    ctx.bezierCurveTo(current[1] + l, current[2] + t, controlX + l, controlY + t, x + l, y + t);\n                    break;\n\n                  case \"s\":\n                    tempX = x + current[3];\n                    tempY = y + current[4];\n                    if (previous[0].match(/[CcSs]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    ctx.bezierCurveTo(controlX + l, controlY + t, x + current[1] + l, y + current[2] + t, tempX + l, tempY + t);\n                    controlX = x + current[1];\n                    controlY = y + current[2];\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"S\":\n                    tempX = current[3];\n                    tempY = current[4];\n                    if (previous[0].match(/[CcSs]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    ctx.bezierCurveTo(controlX + l, controlY + t, current[1] + l, current[2] + t, tempX + l, tempY + t);\n                    x = tempX;\n                    y = tempY;\n                    controlX = current[1];\n                    controlY = current[2];\n                    break;\n\n                  case \"q\":\n                    tempX = x + current[3];\n                    tempY = y + current[4];\n                    controlX = x + current[1];\n                    controlY = y + current[2];\n                    ctx.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"Q\":\n                    tempX = current[3];\n                    tempY = current[4];\n                    ctx.quadraticCurveTo(current[1] + l, current[2] + t, tempX + l, tempY + t);\n                    x = tempX;\n                    y = tempY;\n                    controlX = current[1];\n                    controlY = current[2];\n                    break;\n\n                  case \"t\":\n                    tempX = x + current[1];\n                    tempY = y + current[2];\n                    if (previous[0].match(/[QqTt]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    ctx.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"T\":\n                    tempX = current[1];\n                    tempY = current[2];\n                    if (previous[0].match(/[QqTt]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    ctx.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"a\":\n                    drawArc(ctx, x + l, y + t, [ current[1], current[2], current[3], current[4], current[5], current[6] + x + l, current[7] + y + t ]);\n                    x += current[6];\n                    y += current[7];\n                    break;\n\n                  case \"A\":\n                    drawArc(ctx, x + l, y + t, [ current[1], current[2], current[3], current[4], current[5], current[6] + l, current[7] + t ]);\n                    x = current[6];\n                    y = current[7];\n                    break;\n\n                  case \"z\":\n                  case \"Z\":\n                    x = subpathStartX;\n                    y = subpathStartY;\n                    ctx.closePath();\n                    break;\n                }\n                previous = current;\n            }\n        },\n        _render: function(ctx) {\n            this._renderPathCommands(ctx);\n            this._renderPaintInOrder(ctx);\n        },\n        toString: function() {\n            return \"#<fabric.Path (\" + this.complexity() + '): { \"top\": ' + this.top + ', \"left\": ' + this.left + \" }>\";\n        },\n        toObject: function(propertiesToInclude) {\n            var o = extend(this.callSuper(\"toObject\", propertiesToInclude), {\n                path: this.path.map(function(item) {\n                    return item.slice();\n                }),\n                top: this.top,\n                left: this.left\n            });\n            return o;\n        },\n        toDatalessObject: function(propertiesToInclude) {\n            var o = this.toObject([ \"sourcePath\" ].concat(propertiesToInclude));\n            if (o.sourcePath) {\n                delete o.path;\n            }\n            return o;\n        },\n        toSVG: function(reviver) {\n            var chunks = [], markup = this._createBaseSVGMarkup(), addTransform = \"\";\n            for (var i = 0, len = this.path.length; i < len; i++) {\n                chunks.push(this.path[i].join(\" \"));\n            }\n            var path = chunks.join(\" \");\n            addTransform = \" translate(\" + -this.pathOffset.x + \", \" + -this.pathOffset.y + \") \";\n            markup.push(\"<path \", this.getSvgId(), 'd=\"', path, '\" style=\"', this.getSvgStyles(), '\" transform=\"', this.getSvgTransform(), addTransform, this.getSvgTransformMatrix(), '\" stroke-linecap=\"round\" ', this.addPaintOrder(), \"/>\\n\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        },\n        complexity: function() {\n            return this.path.length;\n        },\n        _parsePath: function() {\n            var result = [], coords = [], currentPath, parsed, re = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:e[-+]?\\d+)?)/gi, match, coordsStr;\n            for (var i = 0, coordsParsed, len = this.path.length; i < len; i++) {\n                currentPath = this.path[i];\n                coordsStr = currentPath.slice(1).trim();\n                coords.length = 0;\n                while (match = re.exec(coordsStr)) {\n                    coords.push(match[0]);\n                }\n                coordsParsed = [ currentPath.charAt(0) ];\n                for (var j = 0, jlen = coords.length; j < jlen; j++) {\n                    parsed = parseFloat(coords[j]);\n                    if (!isNaN(parsed)) {\n                        coordsParsed.push(parsed);\n                    }\n                }\n                var command = coordsParsed[0], commandLength = commandLengths[command.toLowerCase()], repeatedCommand = repeatedCommands[command] || command;\n                if (coordsParsed.length - 1 > commandLength) {\n                    for (var k = 1, klen = coordsParsed.length; k < klen; k += commandLength) {\n                        result.push([ command ].concat(coordsParsed.slice(k, k + commandLength)));\n                        command = repeatedCommand;\n                    }\n                } else {\n                    result.push(coordsParsed);\n                }\n            }\n            return result;\n        },\n        _parseDimensions: function() {\n            var aX = [], aY = [], current, previous = null, subpathStartX = 0, subpathStartY = 0, x = 0, y = 0, controlX = 0, controlY = 0, tempX, tempY, bounds;\n            for (var i = 0, len = this.path.length; i < len; ++i) {\n                current = this.path[i];\n                switch (current[0]) {\n                  case \"l\":\n                    x += current[1];\n                    y += current[2];\n                    bounds = [];\n                    break;\n\n                  case \"L\":\n                    x = current[1];\n                    y = current[2];\n                    bounds = [];\n                    break;\n\n                  case \"h\":\n                    x += current[1];\n                    bounds = [];\n                    break;\n\n                  case \"H\":\n                    x = current[1];\n                    bounds = [];\n                    break;\n\n                  case \"v\":\n                    y += current[1];\n                    bounds = [];\n                    break;\n\n                  case \"V\":\n                    y = current[1];\n                    bounds = [];\n                    break;\n\n                  case \"m\":\n                    x += current[1];\n                    y += current[2];\n                    subpathStartX = x;\n                    subpathStartY = y;\n                    bounds = [];\n                    break;\n\n                  case \"M\":\n                    x = current[1];\n                    y = current[2];\n                    subpathStartX = x;\n                    subpathStartY = y;\n                    bounds = [];\n                    break;\n\n                  case \"c\":\n                    tempX = x + current[5];\n                    tempY = y + current[6];\n                    controlX = x + current[3];\n                    controlY = y + current[4];\n                    bounds = fabric.util.getBoundsOfCurve(x, y, x + current[1], y + current[2], controlX, controlY, tempX, tempY);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"C\":\n                    controlX = current[3];\n                    controlY = current[4];\n                    bounds = fabric.util.getBoundsOfCurve(x, y, current[1], current[2], controlX, controlY, current[5], current[6]);\n                    x = current[5];\n                    y = current[6];\n                    break;\n\n                  case \"s\":\n                    tempX = x + current[3];\n                    tempY = y + current[4];\n                    if (previous[0].match(/[CcSs]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    bounds = fabric.util.getBoundsOfCurve(x, y, controlX, controlY, x + current[1], y + current[2], tempX, tempY);\n                    controlX = x + current[1];\n                    controlY = y + current[2];\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"S\":\n                    tempX = current[3];\n                    tempY = current[4];\n                    if (previous[0].match(/[CcSs]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    bounds = fabric.util.getBoundsOfCurve(x, y, controlX, controlY, current[1], current[2], tempX, tempY);\n                    x = tempX;\n                    y = tempY;\n                    controlX = current[1];\n                    controlY = current[2];\n                    break;\n\n                  case \"q\":\n                    tempX = x + current[3];\n                    tempY = y + current[4];\n                    controlX = x + current[1];\n                    controlY = y + current[2];\n                    bounds = fabric.util.getBoundsOfCurve(x, y, controlX, controlY, controlX, controlY, tempX, tempY);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"Q\":\n                    controlX = current[1];\n                    controlY = current[2];\n                    bounds = fabric.util.getBoundsOfCurve(x, y, controlX, controlY, controlX, controlY, current[3], current[4]);\n                    x = current[3];\n                    y = current[4];\n                    break;\n\n                  case \"t\":\n                    tempX = x + current[1];\n                    tempY = y + current[2];\n                    if (previous[0].match(/[QqTt]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    bounds = fabric.util.getBoundsOfCurve(x, y, controlX, controlY, controlX, controlY, tempX, tempY);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"T\":\n                    tempX = current[1];\n                    tempY = current[2];\n                    if (previous[0].match(/[QqTt]/) === null) {\n                        controlX = x;\n                        controlY = y;\n                    } else {\n                        controlX = 2 * x - controlX;\n                        controlY = 2 * y - controlY;\n                    }\n                    bounds = fabric.util.getBoundsOfCurve(x, y, controlX, controlY, controlX, controlY, tempX, tempY);\n                    x = tempX;\n                    y = tempY;\n                    break;\n\n                  case \"a\":\n                    bounds = fabric.util.getBoundsOfArc(x, y, current[1], current[2], current[3], current[4], current[5], current[6] + x, current[7] + y);\n                    x += current[6];\n                    y += current[7];\n                    break;\n\n                  case \"A\":\n                    bounds = fabric.util.getBoundsOfArc(x, y, current[1], current[2], current[3], current[4], current[5], current[6], current[7]);\n                    x = current[6];\n                    y = current[7];\n                    break;\n\n                  case \"z\":\n                  case \"Z\":\n                    x = subpathStartX;\n                    y = subpathStartY;\n                    break;\n                }\n                previous = current;\n                bounds.forEach(function(point) {\n                    aX.push(point.x);\n                    aY.push(point.y);\n                });\n                aX.push(x);\n                aY.push(y);\n            }\n            var minX = min(aX) || 0, minY = min(aY) || 0, maxX = max(aX) || 0, maxY = max(aY) || 0, deltaX = maxX - minX, deltaY = maxY - minY, o = {\n                left: minX,\n                top: minY,\n                width: deltaX,\n                height: deltaY\n            };\n            return o;\n        }\n    });\n    fabric.Path.fromObject = function(object, callback) {\n        if (typeof object.sourcePath === \"string\") {\n            var pathUrl = object.sourcePath;\n            fabric.loadSVGFromURL(pathUrl, function(elements) {\n                var path = elements[0];\n                path.setOptions(object);\n                callback && callback(path);\n            });\n        } else {\n            fabric.Object._fromObject(\"Path\", object, callback, \"path\");\n        }\n    };\n    fabric.Path.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat([ \"d\" ]);\n    fabric.Path.fromElement = function(element, callback, options) {\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Path.ATTRIBUTE_NAMES);\n        callback(new fabric.Path(parsedAttributes.d, extend(parsedAttributes, options)));\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, min = fabric.util.array.min, max = fabric.util.array.max;\n    if (fabric.Group) {\n        return;\n    }\n    fabric.Group = fabric.util.createClass(fabric.Object, fabric.Collection, {\n        type: \"group\",\n        strokeWidth: 0,\n        subTargetCheck: false,\n        cacheProperties: [],\n        useSetOnGroup: false,\n        initialize: function(objects, options, isAlreadyGrouped) {\n            options = options || {};\n            this._objects = [];\n            isAlreadyGrouped && this.callSuper(\"initialize\", options);\n            this._objects = objects || [];\n            for (var i = this._objects.length; i--; ) {\n                this._objects[i].group = this;\n            }\n            if (options.originX) {\n                this.originX = options.originX;\n            }\n            if (options.originY) {\n                this.originY = options.originY;\n            }\n            if (!isAlreadyGrouped) {\n                var center = options && options.centerPoint;\n                center || this._calcBounds();\n                this._updateObjectsCoords(center);\n                delete options.centerPoint;\n                this.callSuper(\"initialize\", options);\n            } else {\n                this._updateObjectsACoords();\n            }\n            this.setCoords();\n        },\n        _updateObjectsACoords: function() {\n            var ignoreZoom = true, skipAbsolute = true;\n            for (var i = this._objects.length; i--; ) {\n                this._objects[i].setCoords(ignoreZoom, skipAbsolute);\n            }\n        },\n        _updateObjectsCoords: function(center) {\n            var center = center || this.getCenterPoint();\n            for (var i = this._objects.length; i--; ) {\n                this._updateObjectCoords(this._objects[i], center);\n            }\n        },\n        _updateObjectCoords: function(object, center) {\n            var objectLeft = object.left, objectTop = object.top, ignoreZoom = true, skipAbsolute = true;\n            object.set({\n                left: objectLeft - center.x,\n                top: objectTop - center.y\n            });\n            object.group = this;\n            object.setCoords(ignoreZoom, skipAbsolute);\n        },\n        toString: function() {\n            return \"#<fabric.Group: (\" + this.complexity() + \")>\";\n        },\n        addWithUpdate: function(object) {\n            this._restoreObjectsState();\n            fabric.util.resetObjectTransform(this);\n            if (object) {\n                this._objects.push(object);\n                object.group = this;\n                object._set(\"canvas\", this.canvas);\n            }\n            this._calcBounds();\n            this._updateObjectsCoords();\n            this.setCoords();\n            this.dirty = true;\n            return this;\n        },\n        removeWithUpdate: function(object) {\n            this._restoreObjectsState();\n            fabric.util.resetObjectTransform(this);\n            this.remove(object);\n            this._calcBounds();\n            this._updateObjectsCoords();\n            this.setCoords();\n            this.dirty = true;\n            return this;\n        },\n        _onObjectAdded: function(object) {\n            this.dirty = true;\n            object.group = this;\n            object._set(\"canvas\", this.canvas);\n        },\n        _onObjectRemoved: function(object) {\n            this.dirty = true;\n            delete object.group;\n        },\n        _set: function(key, value) {\n            var i = this._objects.length;\n            if (this.useSetOnGroup) {\n                while (i--) {\n                    this._objects[i].setOnGroup(key, value);\n                }\n            }\n            if (key === \"canvas\") {\n                i = this._objects.length;\n                while (i--) {\n                    this._objects[i]._set(key, value);\n                }\n            }\n            this.callSuper(\"_set\", key, value);\n        },\n        toObject: function(propertiesToInclude) {\n            var objsToObject = this.getObjects().map(function(obj) {\n                var originalDefaults = obj.includeDefaultValues;\n                obj.includeDefaultValues = obj.group.includeDefaultValues;\n                var _obj = obj.toObject(propertiesToInclude);\n                obj.includeDefaultValues = originalDefaults;\n                return _obj;\n            });\n            return extend(this.callSuper(\"toObject\", propertiesToInclude), {\n                objects: objsToObject\n            });\n        },\n        toDatalessObject: function(propertiesToInclude) {\n            var objsToObject, sourcePath = this.sourcePath;\n            if (sourcePath) {\n                objsToObject = sourcePath;\n            } else {\n                objsToObject = this.getObjects().map(function(obj) {\n                    var originalDefaults = obj.includeDefaultValues;\n                    obj.includeDefaultValues = obj.group.includeDefaultValues;\n                    var _obj = obj.toDatalessObject(propertiesToInclude);\n                    obj.includeDefaultValues = originalDefaults;\n                    return _obj;\n                });\n            }\n            return extend(this.callSuper(\"toDatalessObject\", propertiesToInclude), {\n                objects: objsToObject\n            });\n        },\n        render: function(ctx) {\n            this._transformDone = true;\n            this.callSuper(\"render\", ctx);\n            this._transformDone = false;\n        },\n        shouldCache: function() {\n            var ownCache = this.objectCaching && (!this.group || this.needsItsOwnCache() || !this.group.isOnACache());\n            this.ownCaching = ownCache;\n            if (ownCache) {\n                for (var i = 0, len = this._objects.length; i < len; i++) {\n                    if (this._objects[i].willDrawShadow()) {\n                        this.ownCaching = false;\n                        return false;\n                    }\n                }\n            }\n            return ownCache;\n        },\n        willDrawShadow: function() {\n            if (this.shadow) {\n                return this.callSuper(\"willDrawShadow\");\n            }\n            for (var i = 0, len = this._objects.length; i < len; i++) {\n                if (this._objects[i].willDrawShadow()) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        isOnACache: function() {\n            return this.ownCaching || this.group && this.group.isOnACache();\n        },\n        drawObject: function(ctx) {\n            for (var i = 0, len = this._objects.length; i < len; i++) {\n                this._objects[i].render(ctx);\n            }\n        },\n        isCacheDirty: function() {\n            if (this.callSuper(\"isCacheDirty\")) {\n                return true;\n            }\n            if (!this.statefullCache) {\n                return false;\n            }\n            for (var i = 0, len = this._objects.length; i < len; i++) {\n                if (this._objects[i].isCacheDirty(true)) {\n                    if (this._cacheCanvas) {\n                        var x = this.cacheWidth / this.zoomX, y = this.cacheHeight / this.zoomY;\n                        this._cacheContext.clearRect(-x / 2, -y / 2, x, y);\n                    }\n                    return true;\n                }\n            }\n            return false;\n        },\n        _restoreObjectsState: function() {\n            this._objects.forEach(this._restoreObjectState, this);\n            return this;\n        },\n        realizeTransform: function(object) {\n            var matrix = object.calcTransformMatrix(), options = fabric.util.qrDecompose(matrix), center = new fabric.Point(options.translateX, options.translateY);\n            object.flipX = false;\n            object.flipY = false;\n            object.set(\"scaleX\", options.scaleX);\n            object.set(\"scaleY\", options.scaleY);\n            object.skewX = options.skewX;\n            object.skewY = options.skewY;\n            object.angle = options.angle;\n            object.setPositionByOrigin(center, \"center\", \"center\");\n            return object;\n        },\n        _restoreObjectState: function(object) {\n            this.realizeTransform(object);\n            object.setCoords();\n            delete object.group;\n            return this;\n        },\n        destroy: function() {\n            this._objects.forEach(function(object) {\n                object.set(\"dirty\", true);\n            });\n            return this._restoreObjectsState();\n        },\n        toActiveSelection: function() {\n            if (!this.canvas) {\n                return;\n            }\n            var objects = this._objects, canvas = this.canvas;\n            this._objects = [];\n            var options = this.toObject();\n            delete options.objects;\n            var activeSelection = new fabric.ActiveSelection([]);\n            activeSelection.set(options);\n            activeSelection.type = \"activeSelection\";\n            canvas.remove(this);\n            objects.forEach(function(object) {\n                object.group = activeSelection;\n                object.dirty = true;\n                canvas.add(object);\n            });\n            activeSelection.canvas = canvas;\n            activeSelection._objects = objects;\n            canvas._activeObject = activeSelection;\n            activeSelection.setCoords();\n            return activeSelection;\n        },\n        ungroupOnCanvas: function() {\n            return this._restoreObjectsState();\n        },\n        setObjectsCoords: function() {\n            var ignoreZoom = true, skipAbsolute = true;\n            this.forEachObject(function(object) {\n                object.setCoords(ignoreZoom, skipAbsolute);\n            });\n            return this;\n        },\n        _calcBounds: function(onlyWidthHeight) {\n            var aX = [], aY = [], o, prop, props = [ \"tr\", \"br\", \"bl\", \"tl\" ], i = 0, iLen = this._objects.length, j, jLen = props.length, ignoreZoom = true;\n            for (;i < iLen; ++i) {\n                o = this._objects[i];\n                o.setCoords(ignoreZoom);\n                for (j = 0; j < jLen; j++) {\n                    prop = props[j];\n                    aX.push(o.oCoords[prop].x);\n                    aY.push(o.oCoords[prop].y);\n                }\n            }\n            this.set(this._getBounds(aX, aY, onlyWidthHeight));\n        },\n        _getBounds: function(aX, aY, onlyWidthHeight) {\n            var minXY = new fabric.Point(min(aX), min(aY)), maxXY = new fabric.Point(max(aX), max(aY)), obj = {\n                width: maxXY.x - minXY.x || 0,\n                height: maxXY.y - minXY.y || 0\n            };\n            if (!onlyWidthHeight) {\n                obj.left = minXY.x || 0;\n                obj.top = minXY.y || 0;\n                if (this.originX === \"center\") {\n                    obj.left += obj.width / 2;\n                }\n                if (this.originX === \"right\") {\n                    obj.left += obj.width;\n                }\n                if (this.originY === \"center\") {\n                    obj.top += obj.height / 2;\n                }\n                if (this.originY === \"bottom\") {\n                    obj.top += obj.height;\n                }\n            }\n            return obj;\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup();\n            markup.push(\"<g \", this.getSvgId(), 'transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\" style=\"', this.getSvgFilter(), '\">\\n');\n            for (var i = 0, len = this._objects.length; i < len; i++) {\n                markup.push(\"\\t\", this._objects[i].toSVG(reviver));\n            }\n            markup.push(\"</g>\\n\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        }\n    });\n    fabric.Group.fromObject = function(object, callback) {\n        fabric.util.enlivenObjects(object.objects, function(enlivenedObjects) {\n            var options = fabric.util.object.clone(object, true);\n            delete options.objects;\n            callback && callback(new fabric.Group(enlivenedObjects, options, true));\n        });\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {});\n    if (fabric.ActiveSelection) {\n        return;\n    }\n    fabric.ActiveSelection = fabric.util.createClass(fabric.Group, {\n        type: \"activeSelection\",\n        initialize: function(objects, options) {\n            options = options || {};\n            this._objects = objects || [];\n            for (var i = this._objects.length; i--; ) {\n                this._objects[i].group = this;\n            }\n            if (options.originX) {\n                this.originX = options.originX;\n            }\n            if (options.originY) {\n                this.originY = options.originY;\n            }\n            this._calcBounds();\n            this._updateObjectsCoords();\n            fabric.Object.prototype.initialize.call(this, options);\n            this.setCoords();\n        },\n        toGroup: function() {\n            var objects = this._objects;\n            this._objects = [];\n            var options = this.toObject();\n            var newGroup = new fabric.Group([]);\n            delete options.objects;\n            newGroup.set(options);\n            newGroup.type = \"group\";\n            objects.forEach(function(object) {\n                object.group = newGroup;\n                object.canvas.remove(object);\n            });\n            newGroup._objects = objects;\n            if (!this.canvas) {\n                return newGroup;\n            }\n            var canvas = this.canvas;\n            canvas.add(newGroup);\n            canvas._activeObject = newGroup;\n            newGroup.setCoords();\n            return newGroup;\n        },\n        onDeselect: function() {\n            this.destroy();\n            return false;\n        },\n        toString: function() {\n            return \"#<fabric.ActiveSelection: (\" + this.complexity() + \")>\";\n        },\n        _set: function(key, value) {\n            var i = this._objects.length;\n            if (key === \"canvas\") {\n                while (i--) {\n                    this._objects[i].set(key, value);\n                }\n            }\n            if (this.useSetOnGroup) {\n                while (i--) {\n                    this._objects[i].setOnGroup(key, value);\n                }\n            }\n            fabric.Object.prototype._set.call(this, key, value);\n        },\n        shouldCache: function() {\n            return false;\n        },\n        willDrawShadow: function() {\n            if (this.shadow) {\n                return this.callSuper(\"willDrawShadow\");\n            }\n            for (var i = 0, len = this._objects.length; i < len; i++) {\n                if (this._objects[i].willDrawShadow()) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        isOnACache: function() {\n            return false;\n        },\n        _renderControls: function(ctx, styleOverride, childrenOverride) {\n            ctx.save();\n            ctx.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;\n            this.callSuper(\"_renderControls\", ctx, styleOverride);\n            childrenOverride = childrenOverride || {};\n            if (typeof childrenOverride.hasControls === \"undefined\") {\n                childrenOverride.hasControls = false;\n            }\n            if (typeof childrenOverride.hasRotatingPoint === \"undefined\") {\n                childrenOverride.hasRotatingPoint = false;\n            }\n            childrenOverride.forActiveSelection = true;\n            for (var i = 0, len = this._objects.length; i < len; i++) {\n                this._objects[i]._renderControls(ctx, childrenOverride);\n            }\n            ctx.restore();\n        }\n    });\n    fabric.ActiveSelection.fromObject = function(object, callback) {\n        fabric.util.enlivenObjects(object.objects, function(enlivenedObjects) {\n            delete object.objects;\n            callback && callback(new fabric.ActiveSelection(enlivenedObjects, object, true));\n        });\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var extend = fabric.util.object.extend;\n    if (!global.fabric) {\n        global.fabric = {};\n    }\n    if (global.fabric.Image) {\n        fabric.warn(\"fabric.Image is already defined.\");\n        return;\n    }\n    fabric.Image = fabric.util.createClass(fabric.Object, {\n        type: \"image\",\n        crossOrigin: \"\",\n        strokeWidth: 0,\n        _lastScaleX: 1,\n        _lastScaleY: 1,\n        _filterScalingX: 1,\n        _filterScalingY: 1,\n        minimumScaleTrigger: .5,\n        stateProperties: fabric.Object.prototype.stateProperties.concat(\"cropX\", \"cropY\"),\n        objectCaching: false,\n        cacheKey: \"\",\n        cropX: 0,\n        cropY: 0,\n        initialize: function(element, options) {\n            options || (options = {});\n            this.filters = [];\n            this.cacheKey = \"texture\" + fabric.Object.__uid++;\n            this.callSuper(\"initialize\", options);\n            this._initElement(element, options);\n        },\n        getElement: function() {\n            return this._element;\n        },\n        setElement: function(element, options) {\n            var backend = fabric.filterBackend;\n            if (backend && backend.evictCachesForKey) {\n                backend.evictCachesForKey(this.cacheKey);\n                backend.evictCachesForKey(this.cacheKey + \"_filtered\");\n            }\n            this._element = element;\n            this._originalElement = element;\n            this._initConfig(options);\n            if (this.resizeFilter) {\n                this.applyResizeFilters();\n            }\n            if (this.filters.length !== 0) {\n                this.applyFilters();\n            }\n            return this;\n        },\n        dispose: function() {\n            var backend = fabric.filterBackend;\n            if (backend && backend.evictCachesForKey) {\n                backend.evictCachesForKey(this.cacheKey);\n                backend.evictCachesForKey(this.cacheKey + \"_filtered\");\n            }\n            this._originalElement = undefined;\n            this._element = undefined;\n            this._filteredEl = undefined;\n        },\n        setCrossOrigin: function(value) {\n            this.crossOrigin = value;\n            this._element.crossOrigin = value;\n            return this;\n        },\n        getOriginalSize: function() {\n            var element = this.getElement();\n            return {\n                width: element.width,\n                height: element.height\n            };\n        },\n        _stroke: function(ctx) {\n            if (!this.stroke || this.strokeWidth === 0) {\n                return;\n            }\n            var w = this.width / 2, h = this.height / 2;\n            ctx.beginPath();\n            ctx.moveTo(-w, -h);\n            ctx.lineTo(w, -h);\n            ctx.lineTo(w, h);\n            ctx.lineTo(-w, h);\n            ctx.lineTo(-w, -h);\n            ctx.closePath();\n        },\n        _renderDashedStroke: function(ctx) {\n            var x = -this.width / 2, y = -this.height / 2, w = this.width, h = this.height;\n            ctx.save();\n            this._setStrokeStyles(ctx, this);\n            ctx.beginPath();\n            fabric.util.drawDashedLine(ctx, x, y, x + w, y, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, x + w, y, x + w, y + h, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, x + w, y + h, x, y + h, this.strokeDashArray);\n            fabric.util.drawDashedLine(ctx, x, y + h, x, y, this.strokeDashArray);\n            ctx.closePath();\n            ctx.restore();\n        },\n        toObject: function(propertiesToInclude) {\n            var filters = [];\n            this.filters.forEach(function(filterObj) {\n                if (filterObj) {\n                    filters.push(filterObj.toObject());\n                }\n            });\n            var object = extend(this.callSuper(\"toObject\", [ \"crossOrigin\", \"cropX\", \"cropY\" ].concat(propertiesToInclude)), {\n                src: this.getSrc(),\n                filters: filters\n            });\n            if (this.resizeFilter) {\n                object.resizeFilter = this.resizeFilter.toObject();\n            }\n            return object;\n        },\n        hasCrop: function() {\n            return this.cropX || this.cropY || this.width < this._element.width || this.height < this._element.height;\n        },\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup(), x = -this.width / 2, y = -this.height / 2, clipPath = \"\";\n            if (this.hasCrop()) {\n                var clipPathId = fabric.Object.__uid++;\n                markup.push('<clipPath id=\"imageCrop_' + clipPathId + '\">\\n', '\\t<rect x=\"' + x + '\" y=\"' + y + '\" width=\"' + this.width + '\" height=\"' + this.height + '\" />\\n', \"</clipPath>\\n\");\n                clipPath = ' clip-path=\"url(#imageCrop_' + clipPathId + ')\" ';\n            }\n            markup.push('<g transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\">\\n');\n            var imageMarkup = [ \"\\t<image \", this.getSvgId(), 'xlink:href=\"', this.getSvgSrc(true), '\" x=\"', x - this.cropX, '\" y=\"', y - this.cropY, '\" style=\"', this.getSvgStyles(), '\" width=\"', this._element.width || this._element.naturalWidth, '\" height=\"', this._element.height || this._element.height, '\"', clipPath, \"></image>\\n\" ];\n            if (this.paintFirst === \"fill\") {\n                Array.prototype.push.apply(markup, imageMarkup);\n            }\n            if (this.stroke || this.strokeDashArray) {\n                var origFill = this.fill;\n                this.fill = null;\n                markup.push(\"\\t<rect \", 'x=\"', x, '\" y=\"', y, '\" width=\"', this.width, '\" height=\"', this.height, '\" style=\"', this.getSvgStyles(), '\"/>\\n');\n                this.fill = origFill;\n            }\n            if (this.paintFirst !== \"fill\") {\n                Array.prototype.push.apply(markup, imageMarkup);\n            }\n            markup.push(\"</g>\\n\");\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        },\n        getSrc: function(filtered) {\n            var element = filtered ? this._element : this._originalElement;\n            if (element) {\n                if (element.toDataURL) {\n                    return element.toDataURL();\n                }\n                return element.src;\n            } else {\n                return this.src || \"\";\n            }\n        },\n        setSrc: function(src, callback, options) {\n            fabric.util.loadImage(src, function(img) {\n                this.setElement(img, options);\n                this._setWidthHeight();\n                callback(this);\n            }, this, options && options.crossOrigin);\n            return this;\n        },\n        toString: function() {\n            return '#<fabric.Image: { src: \"' + this.getSrc() + '\" }>';\n        },\n        applyResizeFilters: function() {\n            var filter = this.resizeFilter, retinaScaling = this.canvas ? this.canvas.getRetinaScaling() : 1, minimumScale = this.minimumScaleTrigger, scaleX = this.scaleX * retinaScaling, scaleY = this.scaleY * retinaScaling, elementToFilter = this._filteredEl || this._originalElement;\n            if (this.group) {\n                this.set(\"dirty\", true);\n            }\n            if (!filter || scaleX > minimumScale && scaleY > minimumScale) {\n                this._element = elementToFilter;\n                this._filterScalingX = 1;\n                this._filterScalingY = 1;\n                return;\n            }\n            if (!fabric.filterBackend) {\n                fabric.filterBackend = fabric.initFilterBackend();\n            }\n            var canvasEl = fabric.util.createCanvasElement(), cacheKey = this._filteredEl ? this.cacheKey : this.cacheKey + \"_filtered\", sourceWidth = elementToFilter.width, sourceHeight = elementToFilter.height;\n            canvasEl.width = sourceWidth;\n            canvasEl.height = sourceHeight;\n            this._element = canvasEl;\n            filter.scaleX = scaleX;\n            filter.scaleY = scaleY;\n            fabric.filterBackend.applyFilters([ filter ], elementToFilter, sourceWidth, sourceHeight, this._element, cacheKey);\n            this._filterScalingX = canvasEl.width / this._originalElement.width;\n            this._filterScalingY = canvasEl.height / this._originalElement.height;\n        },\n        applyFilters: function(filters) {\n            filters = filters || this.filters || [];\n            filters = filters.filter(function(filter) {\n                return filter;\n            });\n            if (this.group) {\n                this.set(\"dirty\", true);\n            }\n            if (filters.length === 0) {\n                this._element = this._originalElement;\n                this._filteredEl = null;\n                this._filterScalingX = 1;\n                this._filterScalingY = 1;\n                return this;\n            }\n            var imgElement = this._originalElement, sourceWidth = imgElement.naturalWidth || imgElement.width, sourceHeight = imgElement.naturalHeight || imgElement.height;\n            if (this._element === this._originalElement) {\n                var canvasEl = fabric.util.createCanvasElement();\n                canvasEl.width = sourceWidth;\n                canvasEl.height = sourceHeight;\n                this._element = canvasEl;\n                this._filteredEl = canvasEl;\n            } else {\n                this._element.getContext(\"2d\").clearRect(0, 0, sourceWidth, sourceHeight);\n            }\n            if (!fabric.filterBackend) {\n                fabric.filterBackend = fabric.initFilterBackend();\n            }\n            fabric.filterBackend.applyFilters(filters, this._originalElement, sourceWidth, sourceHeight, this._element, this.cacheKey);\n            if (this._originalElement.width !== this._element.width || this._originalElement.height !== this._element.height) {\n                this._filterScalingX = this._element.width / this._originalElement.width;\n                this._filterScalingY = this._element.height / this._originalElement.height;\n            }\n            return this;\n        },\n        _render: function(ctx) {\n            if (this.isMoving === false && this.resizeFilter && this._needsResize()) {\n                this._lastScaleX = this.scaleX;\n                this._lastScaleY = this.scaleY;\n                this.applyResizeFilters();\n            }\n            this._stroke(ctx);\n            this._renderPaintInOrder(ctx);\n        },\n        _renderFill: function(ctx) {\n            var w = this.width, h = this.height, sW = w * this._filterScalingX, sH = h * this._filterScalingY, x = -w / 2, y = -h / 2, elementToDraw = this._element;\n            elementToDraw && ctx.drawImage(elementToDraw, this.cropX * this._filterScalingX, this.cropY * this._filterScalingY, sW, sH, x, y, w, h);\n        },\n        _needsResize: function() {\n            return this.scaleX !== this._lastScaleX || this.scaleY !== this._lastScaleY;\n        },\n        _resetWidthHeight: function() {\n            var element = this.getElement();\n            this.set(\"width\", element.width);\n            this.set(\"height\", element.height);\n        },\n        _initElement: function(element, options) {\n            this.setElement(fabric.util.getById(element), options);\n            fabric.util.addClass(this.getElement(), fabric.Image.CSS_CANVAS);\n        },\n        _initConfig: function(options) {\n            options || (options = {});\n            this.setOptions(options);\n            this._setWidthHeight(options);\n            if (this._element && this.crossOrigin) {\n                this._element.crossOrigin = this.crossOrigin;\n            }\n        },\n        _initFilters: function(filters, callback) {\n            if (filters && filters.length) {\n                fabric.util.enlivenObjects(filters, function(enlivenedObjects) {\n                    callback && callback(enlivenedObjects);\n                }, \"fabric.Image.filters\");\n            } else {\n                callback && callback();\n            }\n        },\n        _setWidthHeight: function(options) {\n            this.width = options && \"width\" in options ? options.width : this.getElement() ? this.getElement().width || 0 : 0;\n            this.height = options && \"height\" in options ? options.height : this.getElement() ? this.getElement().height || 0 : 0;\n        },\n        parsePreserveAspectRatioAttribute: function() {\n            var pAR = fabric.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio || \"\"), rWidth = this._element.width, rHeight = this._element.height, scaleX = 1, scaleY = 1, offsetLeft = 0, offsetTop = 0, cropX = 0, cropY = 0, offset, pWidth = this.width, pHeight = this.height, parsedAttributes = {\n                width: pWidth,\n                height: pHeight\n            };\n            if (pAR && (pAR.alignX !== \"none\" || pAR.alignY !== \"none\")) {\n                if (pAR.meetOrSlice === \"meet\") {\n                    scaleX = scaleY = fabric.util.findScaleToFit(this._element, parsedAttributes);\n                    offset = (pWidth - rWidth * scaleX) / 2;\n                    if (pAR.alignX === \"Min\") {\n                        offsetLeft = -offset;\n                    }\n                    if (pAR.alignX === \"Max\") {\n                        offsetLeft = offset;\n                    }\n                    offset = (pHeight - rHeight * scaleY) / 2;\n                    if (pAR.alignY === \"Min\") {\n                        offsetTop = -offset;\n                    }\n                    if (pAR.alignY === \"Max\") {\n                        offsetTop = offset;\n                    }\n                }\n                if (pAR.meetOrSlice === \"slice\") {\n                    scaleX = scaleY = fabric.util.findScaleToCover(this._element, parsedAttributes);\n                    offset = rWidth - pWidth / scaleX;\n                    if (pAR.alignX === \"Mid\") {\n                        cropX = offset / 2;\n                    }\n                    if (pAR.alignX === \"Max\") {\n                        cropX = offset;\n                    }\n                    offset = rHeight - pHeight / scaleY;\n                    if (pAR.alignY === \"Mid\") {\n                        cropY = offset / 2;\n                    }\n                    if (pAR.alignY === \"Max\") {\n                        cropY = offset;\n                    }\n                    rWidth = pWidth / scaleX;\n                    rHeight = pHeight / scaleY;\n                }\n            } else {\n                scaleX = pWidth / rWidth;\n                scaleY = pHeight / rHeight;\n            }\n            return {\n                width: rWidth,\n                height: rHeight,\n                scaleX: scaleX,\n                scaleY: scaleY,\n                offsetLeft: offsetLeft,\n                offsetTop: offsetTop,\n                cropX: cropX,\n                cropY: cropY\n            };\n        }\n    });\n    fabric.Image.CSS_CANVAS = \"canvas-img\";\n    fabric.Image.prototype.getSvgSrc = fabric.Image.prototype.getSrc;\n    fabric.Image.fromObject = function(_object, callback) {\n        var object = fabric.util.object.clone(_object);\n        fabric.util.loadImage(object.src, function(img, error) {\n            if (error) {\n                callback && callback(null, error);\n                return;\n            }\n            fabric.Image.prototype._initFilters.call(object, object.filters, function(filters) {\n                object.filters = filters || [];\n                fabric.Image.prototype._initFilters.call(object, [ object.resizeFilter ], function(resizeFilters) {\n                    object.resizeFilter = resizeFilters[0];\n                    var image = new fabric.Image(img, object);\n                    callback(image);\n                });\n            });\n        }, null, object.crossOrigin);\n    };\n    fabric.Image.fromURL = function(url, callback, imgOptions) {\n        fabric.util.loadImage(url, function(img) {\n            callback && callback(new fabric.Image(img, imgOptions));\n        }, null, imgOptions && imgOptions.crossOrigin);\n    };\n    fabric.Image.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\"x y width height preserveAspectRatio xlink:href crossOrigin\".split(\" \"));\n    fabric.Image.fromElement = function(element, callback, options) {\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Image.ATTRIBUTE_NAMES);\n        fabric.Image.fromURL(parsedAttributes[\"xlink:href\"], callback, extend(options ? fabric.util.object.clone(options) : {}, parsedAttributes));\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\nfabric.util.object.extend(fabric.Object.prototype, {\n    _getAngleValueForStraighten: function() {\n        var angle = this.angle % 360;\n        if (angle > 0) {\n            return Math.round((angle - 1) / 90) * 90;\n        }\n        return Math.round(angle / 90) * 90;\n    },\n    straighten: function() {\n        this.rotate(this._getAngleValueForStraighten());\n        return this;\n    },\n    fxStraighten: function(callbacks) {\n        callbacks = callbacks || {};\n        var empty = function() {}, onComplete = callbacks.onComplete || empty, onChange = callbacks.onChange || empty, _this = this;\n        fabric.util.animate({\n            startValue: this.get(\"angle\"),\n            endValue: this._getAngleValueForStraighten(),\n            duration: this.FX_DURATION,\n            onChange: function(value) {\n                _this.rotate(value);\n                onChange();\n            },\n            onComplete: function() {\n                _this.setCoords();\n                onComplete();\n            }\n        });\n        return this;\n    }\n});\n\nfabric.util.object.extend(fabric.StaticCanvas.prototype, {\n    straightenObject: function(object) {\n        object.straighten();\n        this.requestRenderAll();\n        return this;\n    },\n    fxStraightenObject: function(object) {\n        object.fxStraighten({\n            onChange: this.requestRenderAllBound\n        });\n        return this;\n    }\n});\n\n(function() {\n    \"use strict\";\n    function testPrecision(gl, precision) {\n        var fragmentSource = \"precision \" + precision + \" float;\\nvoid main(){}\";\n        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fragmentSource);\n        gl.compileShader(fragmentShader);\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n            return false;\n        }\n        return true;\n    }\n    fabric.isWebglSupported = function(tileSize) {\n        if (fabric.isLikelyNode) {\n            return false;\n        }\n        tileSize = tileSize || fabric.WebglFilterBackend.prototype.tileSize;\n        var canvas = document.createElement(\"canvas\");\n        var gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n        var isSupported = false;\n        if (gl) {\n            fabric.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n            isSupported = fabric.maxTextureSize >= tileSize;\n            var precisions = [ \"highp\", \"mediump\", \"lowp\" ];\n            for (var i = 0; i < 3; i++) {\n                if (testPrecision(gl, precisions[i])) {\n                    fabric.webGlPrecision = precisions[i];\n                    break;\n                }\n            }\n        }\n        this.isSupported = isSupported;\n        return isSupported;\n    };\n    fabric.WebglFilterBackend = WebglFilterBackend;\n    function WebglFilterBackend(options) {\n        if (options && options.tileSize) {\n            this.tileSize = options.tileSize;\n        }\n        this.setupGLContext(this.tileSize, this.tileSize);\n        this.captureGPUInfo();\n    }\n    WebglFilterBackend.prototype = {\n        tileSize: 2048,\n        resources: {},\n        setupGLContext: function(width, height) {\n            this.dispose();\n            this.createWebGLCanvas(width, height);\n            this.aPosition = new Float32Array([ 0, 0, 0, 1, 1, 0, 1, 1 ]);\n            this.chooseFastestCopyGLTo2DMethod(width, height);\n        },\n        chooseFastestCopyGLTo2DMethod: function(width, height) {\n            var canMeasurePerf = typeof window.performance !== \"undefined\";\n            var canUseImageData;\n            try {\n                new ImageData(1, 1);\n                canUseImageData = true;\n            } catch (e) {\n                canUseImageData = false;\n            }\n            var canUseArrayBuffer = typeof ArrayBuffer !== \"undefined\";\n            var canUseUint8Clamped = typeof Uint8ClampedArray !== \"undefined\";\n            if (!(canMeasurePerf && canUseImageData && canUseArrayBuffer && canUseUint8Clamped)) {\n                return;\n            }\n            var targetCanvas = fabric.util.createCanvasElement();\n            var imageBuffer = new ArrayBuffer(width * height * 4);\n            var testContext = {\n                imageBuffer: imageBuffer,\n                destinationWidth: width,\n                destinationHeight: height,\n                targetCanvas: targetCanvas\n            };\n            var startTime, drawImageTime, putImageDataTime;\n            targetCanvas.width = width;\n            targetCanvas.height = height;\n            startTime = window.performance.now();\n            copyGLTo2DDrawImage.call(testContext, this.gl, testContext);\n            drawImageTime = window.performance.now() - startTime;\n            startTime = window.performance.now();\n            copyGLTo2DPutImageData.call(testContext, this.gl, testContext);\n            putImageDataTime = window.performance.now() - startTime;\n            if (drawImageTime > putImageDataTime) {\n                this.imageBuffer = imageBuffer;\n                this.copyGLTo2D = copyGLTo2DPutImageData;\n            } else {\n                this.copyGLTo2D = copyGLTo2DDrawImage;\n            }\n        },\n        createWebGLCanvas: function(width, height) {\n            var canvas = fabric.util.createCanvasElement();\n            canvas.width = width;\n            canvas.height = height;\n            var glOptions = {\n                premultipliedAlpha: false\n            }, gl = canvas.getContext(\"webgl\", glOptions);\n            if (!gl) {\n                gl = canvas.getContext(\"experimental-webgl\", glOptions);\n            }\n            if (!gl) {\n                return;\n            }\n            gl.clearColor(0, 0, 0, 0);\n            this.canvas = canvas;\n            this.gl = gl;\n        },\n        applyFilters: function(filters, source, width, height, targetCanvas, cacheKey) {\n            var gl = this.gl;\n            var cachedTexture;\n            if (cacheKey) {\n                cachedTexture = this.getCachedTexture(cacheKey, source);\n            }\n            var pipelineState = {\n                originalWidth: source.width || source.originalWidth,\n                originalHeight: source.height || source.originalHeight,\n                sourceWidth: width,\n                sourceHeight: height,\n                destinationWidth: width,\n                destinationHeight: height,\n                context: gl,\n                sourceTexture: this.createTexture(gl, width, height, !cachedTexture && source),\n                targetTexture: this.createTexture(gl, width, height),\n                originalTexture: cachedTexture || this.createTexture(gl, width, height, !cachedTexture && source),\n                passes: filters.length,\n                webgl: true,\n                aPosition: this.aPosition,\n                programCache: this.programCache,\n                pass: 0,\n                filterBackend: this,\n                targetCanvas: targetCanvas\n            };\n            var tempFbo = gl.createFramebuffer();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, tempFbo);\n            filters.forEach(function(filter) {\n                filter && filter.applyTo(pipelineState);\n            });\n            resizeCanvasIfNeeded(pipelineState);\n            this.copyGLTo2D(gl, pipelineState);\n            gl.bindTexture(gl.TEXTURE_2D, null);\n            gl.deleteTexture(pipelineState.sourceTexture);\n            gl.deleteTexture(pipelineState.targetTexture);\n            gl.deleteFramebuffer(tempFbo);\n            targetCanvas.getContext(\"2d\").setTransform(1, 0, 0, 1, 0, 0);\n            return pipelineState;\n        },\n        applyFiltersDebug: function(filters, source, width, height, targetCanvas, cacheKey) {\n            var gl = this.gl;\n            var ret = this.applyFilters(filters, source, width, height, targetCanvas, cacheKey);\n            var glError = gl.getError();\n            if (glError !== gl.NO_ERROR) {\n                var errorString = this.glErrorToString(gl, glError);\n                var error = new Error(\"WebGL Error \" + errorString);\n                error.glErrorCode = glError;\n                throw error;\n            }\n            return ret;\n        },\n        glErrorToString: function(context, errorCode) {\n            if (!context) {\n                return \"Context undefined for error code: \" + errorCode;\n            } else if (typeof errorCode !== \"number\") {\n                return \"Error code is not a number\";\n            }\n            switch (errorCode) {\n              case context.NO_ERROR:\n                return \"NO_ERROR\";\n\n              case context.INVALID_ENUM:\n                return \"INVALID_ENUM\";\n\n              case context.INVALID_VALUE:\n                return \"INVALID_VALUE\";\n\n              case context.INVALID_OPERATION:\n                return \"INVALID_OPERATION\";\n\n              case context.INVALID_FRAMEBUFFER_OPERATION:\n                return \"INVALID_FRAMEBUFFER_OPERATION\";\n\n              case context.OUT_OF_MEMORY:\n                return \"OUT_OF_MEMORY\";\n\n              case context.CONTEXT_LOST_WEBGL:\n                return \"CONTEXT_LOST_WEBGL\";\n\n              default:\n                return \"UNKNOWN_ERROR\";\n            }\n        },\n        dispose: function() {\n            if (this.canvas) {\n                this.canvas = null;\n                this.gl = null;\n            }\n            this.clearWebGLCaches();\n        },\n        clearWebGLCaches: function() {\n            this.programCache = {};\n            this.textureCache = {};\n        },\n        createTexture: function(gl, width, height, textureImageSource) {\n            var texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            if (textureImageSource) {\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImageSource);\n            } else {\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n            }\n            return texture;\n        },\n        getCachedTexture: function(uniqueId, textureImageSource) {\n            if (this.textureCache[uniqueId]) {\n                return this.textureCache[uniqueId];\n            } else {\n                var texture = this.createTexture(this.gl, textureImageSource.width, textureImageSource.height, textureImageSource);\n                this.textureCache[uniqueId] = texture;\n                return texture;\n            }\n        },\n        evictCachesForKey: function(cacheKey) {\n            if (this.textureCache[cacheKey]) {\n                this.gl.deleteTexture(this.textureCache[cacheKey]);\n                delete this.textureCache[cacheKey];\n            }\n        },\n        copyGLTo2D: copyGLTo2DDrawImage,\n        captureGPUInfo: function() {\n            if (this.gpuInfo) {\n                return this.gpuInfo;\n            }\n            var gl = this.gl;\n            var ext = gl.getExtension(\"WEBGL_debug_renderer_info\");\n            var gpuInfo = {\n                renderer: \"\",\n                vendor: \"\"\n            };\n            if (ext) {\n                var renderer = gl.getParameter(ext.UNMASKED_RENDERER_WEBGL);\n                var vendor = gl.getParameter(ext.UNMASKED_VENDOR_WEBGL);\n                if (renderer) {\n                    gpuInfo.renderer = renderer.toLowerCase();\n                }\n                if (vendor) {\n                    gpuInfo.vendor = vendor.toLowerCase();\n                }\n            }\n            this.gpuInfo = gpuInfo;\n            return gpuInfo;\n        }\n    };\n})();\n\nfunction resizeCanvasIfNeeded(pipelineState) {\n    var targetCanvas = pipelineState.targetCanvas, width = targetCanvas.width, height = targetCanvas.height, dWidth = pipelineState.destinationWidth, dHeight = pipelineState.destinationHeight;\n    if (width !== dWidth || height !== dHeight) {\n        targetCanvas.width = dWidth;\n        targetCanvas.height = dHeight;\n    }\n}\n\nfunction copyGLTo2DDrawImage(gl, pipelineState) {\n    var glCanvas = gl.canvas, targetCanvas = pipelineState.targetCanvas, ctx = targetCanvas.getContext(\"2d\");\n    ctx.translate(0, targetCanvas.height);\n    ctx.scale(1, -1);\n    var sourceY = glCanvas.height - targetCanvas.height;\n    ctx.drawImage(glCanvas, 0, sourceY, targetCanvas.width, targetCanvas.height, 0, 0, targetCanvas.width, targetCanvas.height);\n}\n\nfunction copyGLTo2DPutImageData(gl, pipelineState) {\n    var targetCanvas = pipelineState.targetCanvas, ctx = targetCanvas.getContext(\"2d\"), dWidth = pipelineState.destinationWidth, dHeight = pipelineState.destinationHeight, numBytes = dWidth * dHeight * 4;\n    var u8 = new Uint8Array(this.imageBuffer, 0, numBytes);\n    var u8Clamped = new Uint8ClampedArray(this.imageBuffer, 0, numBytes);\n    gl.readPixels(0, 0, dWidth, dHeight, gl.RGBA, gl.UNSIGNED_BYTE, u8);\n    var imgData = new ImageData(u8Clamped, dWidth, dHeight);\n    ctx.putImageData(imgData, 0, 0);\n}\n\n(function() {\n    \"use strict\";\n    var noop = function() {};\n    fabric.Canvas2dFilterBackend = Canvas2dFilterBackend;\n    function Canvas2dFilterBackend() {}\n    Canvas2dFilterBackend.prototype = {\n        evictCachesForKey: noop,\n        dispose: noop,\n        clearWebGLCaches: noop,\n        resources: {},\n        applyFilters: function(filters, sourceElement, sourceWidth, sourceHeight, targetCanvas) {\n            var ctx = targetCanvas.getContext(\"2d\");\n            ctx.drawImage(sourceElement, 0, 0, sourceWidth, sourceHeight);\n            var imageData = ctx.getImageData(0, 0, sourceWidth, sourceHeight);\n            var originalImageData = ctx.getImageData(0, 0, sourceWidth, sourceHeight);\n            var pipelineState = {\n                sourceWidth: sourceWidth,\n                sourceHeight: sourceHeight,\n                imageData: imageData,\n                originalEl: sourceElement,\n                originalImageData: originalImageData,\n                canvasEl: targetCanvas,\n                ctx: ctx,\n                filterBackend: this\n            };\n            filters.forEach(function(filter) {\n                filter.applyTo(pipelineState);\n            });\n            if (pipelineState.imageData.width !== sourceWidth || pipelineState.imageData.height !== sourceHeight) {\n                targetCanvas.width = pipelineState.imageData.width;\n                targetCanvas.height = pipelineState.imageData.height;\n            }\n            ctx.putImageData(pipelineState.imageData, 0, 0);\n            return pipelineState;\n        }\n    };\n})();\n\nfabric.Image.filters = fabric.Image.filters || {};\n\nfabric.Image.filters.BaseFilter = fabric.util.createClass({\n    type: \"BaseFilter\",\n    vertexSource: \"attribute vec2 aPosition;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vTexCoord = aPosition;\\n\" + \"gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n\" + \"}\",\n    fragmentSource: \"precision highp float;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"}\",\n    initialize: function(options) {\n        if (options) {\n            this.setOptions(options);\n        }\n    },\n    setOptions: function(options) {\n        for (var prop in options) {\n            this[prop] = options[prop];\n        }\n    },\n    createProgram: function(gl, fragmentSource, vertexSource) {\n        fragmentSource = fragmentSource || this.fragmentSource;\n        vertexSource = vertexSource || this.vertexSource;\n        if (fabric.webGlPrecision !== \"highp\") {\n            fragmentSource = fragmentSource.replace(/precision highp float/g, \"precision \" + fabric.webGlPrecision + \" float\");\n        }\n        var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, vertexSource);\n        gl.compileShader(vertexShader);\n        if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n            throw new Error(\"Vertex shader compile error for \" + this.type + \": \" + gl.getShaderInfoLog(vertexShader));\n        }\n        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fragmentSource);\n        gl.compileShader(fragmentShader);\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n            throw new Error(\"Fragment shader compile error for \" + this.type + \": \" + gl.getShaderInfoLog(fragmentShader));\n        }\n        var program = gl.createProgram();\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        gl.linkProgram(program);\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n            throw new Error('Shader link error for \"${this.type}\" ' + gl.getProgramInfoLog(program));\n        }\n        var attributeLocations = this.getAttributeLocations(gl, program);\n        var uniformLocations = this.getUniformLocations(gl, program) || {};\n        uniformLocations.uStepW = gl.getUniformLocation(program, \"uStepW\");\n        uniformLocations.uStepH = gl.getUniformLocation(program, \"uStepH\");\n        return {\n            program: program,\n            attributeLocations: attributeLocations,\n            uniformLocations: uniformLocations\n        };\n    },\n    getAttributeLocations: function(gl, program) {\n        return {\n            aPosition: gl.getAttribLocation(program, \"aPosition\")\n        };\n    },\n    getUniformLocations: function() {\n        return {};\n    },\n    sendAttributeData: function(gl, attributeLocations, aPositionData) {\n        var attributeLocation = attributeLocations.aPostion;\n        var buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n        gl.enableVertexAttribArray(attributeLocation);\n        gl.vertexAttribPointer(attributeLocation, 2, gl.FLOAT, false, 0, 0);\n        gl.bufferData(gl.ARRAY_BUFFER, aPositionData, gl.STATIC_DRAW);\n    },\n    _setupFrameBuffer: function(options) {\n        var gl = options.context, width, height;\n        if (options.passes > 1) {\n            width = options.destinationWidth;\n            height = options.destinationHeight;\n            if (options.sourceWidth !== width || options.sourceHeight !== height) {\n                gl.deleteTexture(options.targetTexture);\n                options.targetTexture = options.filterBackend.createTexture(gl, width, height);\n            }\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, options.targetTexture, 0);\n        } else {\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n            gl.finish();\n        }\n    },\n    _swapTextures: function(options) {\n        options.passes--;\n        options.pass++;\n        var temp = options.targetTexture;\n        options.targetTexture = options.sourceTexture;\n        options.sourceTexture = temp;\n    },\n    isNeutralState: function() {\n        return false;\n    },\n    applyTo: function(options) {\n        if (options.webgl) {\n            if (options.passes > 1 && this.isNeutralState(options)) {\n                return;\n            }\n            this._setupFrameBuffer(options);\n            this.applyToWebGL(options);\n            this._swapTextures(options);\n        } else if (!this.isNeutralState()) {\n            this.applyTo2d(options);\n        }\n    },\n    retrieveShader: function(options) {\n        if (!options.programCache.hasOwnProperty(this.type)) {\n            options.programCache[this.type] = this.createProgram(options.context);\n        }\n        return options.programCache[this.type];\n    },\n    applyToWebGL: function(options) {\n        var gl = options.context;\n        var shader = this.retrieveShader(options);\n        if (options.pass === 0 && options.originalTexture) {\n            gl.bindTexture(gl.TEXTURE_2D, options.originalTexture);\n        } else {\n            gl.bindTexture(gl.TEXTURE_2D, options.sourceTexture);\n        }\n        gl.useProgram(shader.program);\n        this.sendAttributeData(gl, shader.attributeLocations, options.aPosition);\n        gl.uniform1f(shader.uniformLocations.uStepW, 1 / options.sourceWidth);\n        gl.uniform1f(shader.uniformLocations.uStepH, 1 / options.sourceHeight);\n        this.sendUniformData(gl, shader.uniformLocations);\n        gl.viewport(0, 0, options.destinationWidth, options.destinationHeight);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    },\n    bindAdditionalTexture: function(gl, texture, textureUnit) {\n        gl.activeTexture(textureUnit);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.activeTexture(gl.TEXTURE0);\n    },\n    unbindAdditionalTexture: function(gl, textureUnit) {\n        gl.activeTexture(textureUnit);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.activeTexture(gl.TEXTURE0);\n    },\n    getMainParameter: function() {\n        return this[this.mainParameter];\n    },\n    setMainParameter: function(value) {\n        this[this.mainParameter] = value;\n    },\n    sendUniformData: function() {},\n    createHelpLayer: function(options) {\n        if (!options.helpLayer) {\n            var helpLayer = document.createElement(\"canvas\");\n            helpLayer.width = options.sourceWidth;\n            helpLayer.height = options.sourceHeight;\n            options.helpLayer = helpLayer;\n        }\n    },\n    toObject: function() {\n        var object = {\n            type: this.type\n        }, mainP = this.mainParameter;\n        if (mainP) {\n            object[mainP] = this[mainP];\n        }\n        return object;\n    },\n    toJSON: function() {\n        return this.toObject();\n    }\n});\n\nfabric.Image.filters.BaseFilter.fromObject = function(object, callback) {\n    var filter = new fabric.Image.filters[object.type](object);\n    callback && callback(filter);\n    return filter;\n};\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.ColorMatrix = createClass(filters.BaseFilter, {\n        type: \"ColorMatrix\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"uniform mat4 uColorMatrix;\\n\" + \"uniform vec4 uConstants;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"color *= uColorMatrix;\\n\" + \"color += uConstants;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n        matrix: [ 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0 ],\n        mainParameter: \"matrix\",\n        colorsOnly: true,\n        initialize: function(options) {\n            this.callSuper(\"initialize\", options);\n            this.matrix = this.matrix.slice(0);\n        },\n        isNeutralState: function() {\n            var _class = filters.ColorMatrix;\n            for (var i = 20; i--; ) {\n                if (this.matrix[i] !== _class.prototype.matrix[i]) {\n                    return false;\n                }\n            }\n            return true;\n        },\n        applyTo2d: function(options) {\n            var imageData = options.imageData, data = imageData.data, iLen = data.length, m = this.matrix, r, g, b, a, i, colorsOnly = this.colorsOnly;\n            for (i = 0; i < iLen; i += 4) {\n                r = data[i];\n                g = data[i + 1];\n                b = data[i + 2];\n                if (colorsOnly) {\n                    data[i] = r * m[0] + g * m[1] + b * m[2] + m[4] * 255;\n                    data[i + 1] = r * m[5] + g * m[6] + b * m[7] + m[9] * 255;\n                    data[i + 2] = r * m[10] + g * m[11] + b * m[12] + m[14] * 255;\n                } else {\n                    a = data[i + 3];\n                    data[i] = r * m[0] + g * m[1] + b * m[2] + a * m[3] + m[4] * 255;\n                    data[i + 1] = r * m[5] + g * m[6] + b * m[7] + a * m[8] + m[9] * 255;\n                    data[i + 2] = r * m[10] + g * m[11] + b * m[12] + a * m[13] + m[14] * 255;\n                    data[i + 3] = r * m[15] + g * m[16] + b * m[17] + a * m[18] + m[19] * 255;\n                }\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uColorMatrix: gl.getUniformLocation(program, \"uColorMatrix\"),\n                uConstants: gl.getUniformLocation(program, \"uConstants\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            var m = this.matrix, matrix = [ m[0], m[1], m[2], m[3], m[5], m[6], m[7], m[8], m[10], m[11], m[12], m[13], m[15], m[16], m[17], m[18] ], constants = [ m[4], m[9], m[14], m[19] ];\n            gl.uniformMatrix4fv(uniformLocations.uColorMatrix, false, matrix);\n            gl.uniform4fv(uniformLocations.uConstants, constants);\n        }\n    });\n    fabric.Image.filters.ColorMatrix.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Brightness = createClass(filters.BaseFilter, {\n        type: \"Brightness\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uBrightness;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"color.rgb += uBrightness;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n        brightness: 0,\n        mainParameter: \"brightness\",\n        applyTo2d: function(options) {\n            if (this.brightness === 0) {\n                return;\n            }\n            var imageData = options.imageData, data = imageData.data, i, len = data.length, brightness = Math.round(this.brightness * 255);\n            for (i = 0; i < len; i += 4) {\n                data[i] = data[i] + brightness;\n                data[i + 1] = data[i + 1] + brightness;\n                data[i + 2] = data[i + 2] + brightness;\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uBrightness: gl.getUniformLocation(program, \"uBrightness\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1f(uniformLocations.uBrightness, this.brightness);\n        }\n    });\n    fabric.Image.filters.Brightness.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Convolute = createClass(filters.BaseFilter, {\n        type: \"Convolute\",\n        opaque: false,\n        matrix: [ 0, 0, 0, 0, 1, 0, 0, 0, 0 ],\n        fragmentSource: {\n            Convolute_3_1: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[9];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 0);\\n\" + \"for (float h = 0.0; h < 3.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 3.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\\n\" + \"color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            Convolute_3_0: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[9];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 1);\\n\" + \"for (float h = 0.0; h < 3.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 3.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\\n\" + \"color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"float alpha = texture2D(uTexture, vTexCoord).a;\\n\" + \"gl_FragColor = color;\\n\" + \"gl_FragColor.a = alpha;\\n\" + \"}\",\n            Convolute_5_1: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[25];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 0);\\n\" + \"for (float h = 0.0; h < 5.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 5.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n\" + \"color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            Convolute_5_0: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[25];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 1);\\n\" + \"for (float h = 0.0; h < 5.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 5.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n\" + \"color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"float alpha = texture2D(uTexture, vTexCoord).a;\\n\" + \"gl_FragColor = color;\\n\" + \"gl_FragColor.a = alpha;\\n\" + \"}\",\n            Convolute_7_1: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[49];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 0);\\n\" + \"for (float h = 0.0; h < 7.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 7.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n\" + \"color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            Convolute_7_0: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[49];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 1);\\n\" + \"for (float h = 0.0; h < 7.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 7.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n\" + \"color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"float alpha = texture2D(uTexture, vTexCoord).a;\\n\" + \"gl_FragColor = color;\\n\" + \"gl_FragColor.a = alpha;\\n\" + \"}\",\n            Convolute_9_1: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[81];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 0);\\n\" + \"for (float h = 0.0; h < 9.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 9.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n\" + \"color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            Convolute_9_0: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uMatrix[81];\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0, 0, 0, 1);\\n\" + \"for (float h = 0.0; h < 9.0; h+=1.0) {\\n\" + \"for (float w = 0.0; w < 9.0; w+=1.0) {\\n\" + \"vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n\" + \"color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\\n\" + \"}\\n\" + \"}\\n\" + \"float alpha = texture2D(uTexture, vTexCoord).a;\\n\" + \"gl_FragColor = color;\\n\" + \"gl_FragColor.a = alpha;\\n\" + \"}\"\n        },\n        retrieveShader: function(options) {\n            var size = Math.sqrt(this.matrix.length);\n            var cacheKey = this.type + \"_\" + size + \"_\" + (this.opaque ? 1 : 0);\n            var shaderSource = this.fragmentSource[cacheKey];\n            if (!options.programCache.hasOwnProperty(cacheKey)) {\n                options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n            }\n            return options.programCache[cacheKey];\n        },\n        applyTo2d: function(options) {\n            var imageData = options.imageData, data = imageData.data, weights = this.matrix, side = Math.round(Math.sqrt(weights.length)), halfSide = Math.floor(side / 2), sw = imageData.width, sh = imageData.height, output = options.ctx.createImageData(sw, sh), dst = output.data, alphaFac = this.opaque ? 1 : 0, r, g, b, a, dstOff, scx, scy, srcOff, wt, x, y, cx, cy;\n            for (y = 0; y < sh; y++) {\n                for (x = 0; x < sw; x++) {\n                    dstOff = (y * sw + x) * 4;\n                    r = 0;\n                    g = 0;\n                    b = 0;\n                    a = 0;\n                    for (cy = 0; cy < side; cy++) {\n                        for (cx = 0; cx < side; cx++) {\n                            scy = y + cy - halfSide;\n                            scx = x + cx - halfSide;\n                            if (scy < 0 || scy > sh || scx < 0 || scx > sw) {\n                                continue;\n                            }\n                            srcOff = (scy * sw + scx) * 4;\n                            wt = weights[cy * side + cx];\n                            r += data[srcOff] * wt;\n                            g += data[srcOff + 1] * wt;\n                            b += data[srcOff + 2] * wt;\n                            if (!alphaFac) {\n                                a += data[srcOff + 3] * wt;\n                            }\n                        }\n                    }\n                    dst[dstOff] = r;\n                    dst[dstOff + 1] = g;\n                    dst[dstOff + 2] = b;\n                    if (!alphaFac) {\n                        dst[dstOff + 3] = a;\n                    } else {\n                        dst[dstOff + 3] = data[dstOff + 3];\n                    }\n                }\n            }\n            options.imageData = output;\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uMatrix: gl.getUniformLocation(program, \"uMatrix\"),\n                uOpaque: gl.getUniformLocation(program, \"uOpaque\"),\n                uHalfSize: gl.getUniformLocation(program, \"uHalfSize\"),\n                uSize: gl.getUniformLocation(program, \"uSize\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1fv(uniformLocations.uMatrix, this.matrix);\n        },\n        toObject: function() {\n            return extend(this.callSuper(\"toObject\"), {\n                opaque: this.opaque,\n                matrix: this.matrix\n            });\n        }\n    });\n    fabric.Image.filters.Convolute.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Grayscale = createClass(filters.BaseFilter, {\n        type: \"Grayscale\",\n        fragmentSource: {\n            average: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"float average = (color.r + color.b + color.g) / 3.0;\\n\" + \"gl_FragColor = vec4(average, average, average, color.a);\\n\" + \"}\",\n            lightness: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform int uMode;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 col = texture2D(uTexture, vTexCoord);\\n\" + \"float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\\n\" + \"gl_FragColor = vec4(average, average, average, col.a);\\n\" + \"}\",\n            luminosity: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform int uMode;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 col = texture2D(uTexture, vTexCoord);\\n\" + \"float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\\n\" + \"gl_FragColor = vec4(average, average, average, col.a);\\n\" + \"}\"\n        },\n        mode: \"average\",\n        mainParameter: \"mode\",\n        applyTo2d: function(options) {\n            var imageData = options.imageData, data = imageData.data, i, len = data.length, value, mode = this.mode;\n            for (i = 0; i < len; i += 4) {\n                if (mode === \"average\") {\n                    value = (data[i] + data[i + 1] + data[i + 2]) / 3;\n                } else if (mode === \"lightness\") {\n                    value = (Math.min(data[i], data[i + 1], data[i + 2]) + Math.max(data[i], data[i + 1], data[i + 2])) / 2;\n                } else if (mode === \"luminosity\") {\n                    value = .21 * data[i] + .72 * data[i + 1] + .07 * data[i + 2];\n                }\n                data[i] = value;\n                data[i + 1] = value;\n                data[i + 2] = value;\n            }\n        },\n        retrieveShader: function(options) {\n            var cacheKey = this.type + \"_\" + this.mode;\n            if (!options.programCache.hasOwnProperty(cacheKey)) {\n                var shaderSource = this.fragmentSource[this.mode];\n                options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n            }\n            return options.programCache[cacheKey];\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uMode: gl.getUniformLocation(program, \"uMode\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            var mode = 1;\n            gl.uniform1i(uniformLocations.uMode, mode);\n        }\n    });\n    fabric.Image.filters.Grayscale.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Invert = createClass(filters.BaseFilter, {\n        type: \"Invert\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform int uInvert;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"if (uInvert == 1) {\\n\" + \"gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\\n\" + \"} else {\\n\" + \"gl_FragColor = color;\\n\" + \"}\\n\" + \"}\",\n        invert: true,\n        mainParameter: \"invert\",\n        applyTo2d: function(options) {\n            if (!this.invert) {\n                return;\n            }\n            var imageData = options.imageData, data = imageData.data, i, len = data.length;\n            for (i = 0; i < len; i += 4) {\n                data[i] = 255 - data[i];\n                data[i + 1] = 255 - data[i + 1];\n                data[i + 2] = 255 - data[i + 2];\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uInvert: gl.getUniformLocation(program, \"uInvert\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1i(uniformLocations.uInvert, this.invert);\n        }\n    });\n    fabric.Image.filters.Invert.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Noise = createClass(filters.BaseFilter, {\n        type: \"Noise\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uStepH;\\n\" + \"uniform float uNoise;\\n\" + \"uniform float uSeed;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"float rand(vec2 co, float seed, float vScale) {\\n\" + \"return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\\n\" + \"}\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n        mainParameter: \"noise\",\n        noise: 0,\n        applyTo2d: function(options) {\n            if (this.noise === 0) {\n                return;\n            }\n            var imageData = options.imageData, data = imageData.data, i, len = data.length, noise = this.noise, rand;\n            for (i = 0, len = data.length; i < len; i += 4) {\n                rand = (.5 - Math.random()) * noise;\n                data[i] += rand;\n                data[i + 1] += rand;\n                data[i + 2] += rand;\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uNoise: gl.getUniformLocation(program, \"uNoise\"),\n                uSeed: gl.getUniformLocation(program, \"uSeed\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1f(uniformLocations.uNoise, this.noise / 255);\n            gl.uniform1f(uniformLocations.uSeed, Math.random());\n        },\n        toObject: function() {\n            return extend(this.callSuper(\"toObject\"), {\n                noise: this.noise\n            });\n        }\n    });\n    fabric.Image.filters.Noise.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Pixelate = createClass(filters.BaseFilter, {\n        type: \"Pixelate\",\n        blocksize: 4,\n        mainParameter: \"blocksize\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uBlocksize;\\n\" + \"uniform float uStepW;\\n\" + \"uniform float uStepH;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"float blockW = uBlocksize * uStepW;\\n\" + \"float blockH = uBlocksize * uStepW;\\n\" + \"int posX = int(vTexCoord.x / blockW);\\n\" + \"int posY = int(vTexCoord.y / blockH);\\n\" + \"float fposX = float(posX);\\n\" + \"float fposY = float(posY);\\n\" + \"vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\\n\" + \"vec4 color = texture2D(uTexture, squareCoords);\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n        applyTo2d: function(options) {\n            if (this.blocksize === 1) {\n                return;\n            }\n            var imageData = options.imageData, data = imageData.data, iLen = imageData.height, jLen = imageData.width, index, i, j, r, g, b, a, _i, _j, _iLen, _jLen;\n            for (i = 0; i < iLen; i += this.blocksize) {\n                for (j = 0; j < jLen; j += this.blocksize) {\n                    index = i * 4 * jLen + j * 4;\n                    r = data[index];\n                    g = data[index + 1];\n                    b = data[index + 2];\n                    a = data[index + 3];\n                    _iLen = Math.min(i + this.blocksize, iLen);\n                    _jLen = Math.min(j + this.blocksize, jLen);\n                    for (_i = i; _i < _iLen; _i++) {\n                        for (_j = j; _j < _jLen; _j++) {\n                            index = _i * 4 * jLen + _j * 4;\n                            data[index] = r;\n                            data[index + 1] = g;\n                            data[index + 2] = b;\n                            data[index + 3] = a;\n                        }\n                    }\n                }\n            }\n        },\n        isNeutralState: function() {\n            return this.blocksize === 1;\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uBlocksize: gl.getUniformLocation(program, \"uBlocksize\"),\n                uStepW: gl.getUniformLocation(program, \"uStepW\"),\n                uStepH: gl.getUniformLocation(program, \"uStepH\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1f(uniformLocations.uBlocksize, this.blocksize);\n        }\n    });\n    fabric.Image.filters.Pixelate.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), extend = fabric.util.object.extend, filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.RemoveColor = createClass(filters.BaseFilter, {\n        type: \"RemoveColor\",\n        color: \"#FFFFFF\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uLow;\\n\" + \"uniform vec4 uHigh;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\\n\" + \"gl_FragColor.a = 0.0;\\n\" + \"}\\n\" + \"}\",\n        distance: .02,\n        useAlpha: false,\n        applyTo2d: function(options) {\n            var imageData = options.imageData, data = imageData.data, i, distance = this.distance * 255, r, g, b, source = new fabric.Color(this.color).getSource(), lowC = [ source[0] - distance, source[1] - distance, source[2] - distance ], highC = [ source[0] + distance, source[1] + distance, source[2] + distance ];\n            for (i = 0; i < data.length; i += 4) {\n                r = data[i];\n                g = data[i + 1];\n                b = data[i + 2];\n                if (r > lowC[0] && g > lowC[1] && b > lowC[2] && r < highC[0] && g < highC[1] && b < highC[2]) {\n                    data[i + 3] = 0;\n                }\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uLow: gl.getUniformLocation(program, \"uLow\"),\n                uHigh: gl.getUniformLocation(program, \"uHigh\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            var source = new fabric.Color(this.color).getSource(), distance = parseFloat(this.distance), lowC = [ 0 + source[0] / 255 - distance, 0 + source[1] / 255 - distance, 0 + source[2] / 255 - distance, 1 ], highC = [ source[0] / 255 + distance, source[1] / 255 + distance, source[2] / 255 + distance, 1 ];\n            gl.uniform4fv(uniformLocations.uLow, lowC);\n            gl.uniform4fv(uniformLocations.uHigh, highC);\n        },\n        toObject: function() {\n            return extend(this.callSuper(\"toObject\"), {\n                color: this.color,\n                distance: this.distance\n            });\n        }\n    });\n    fabric.Image.filters.RemoveColor.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    var matrices = {\n        Brownie: [ .5997, .34553, -.27082, 0, .186, -.0377, .86095, .15059, 0, -.1449, .24113, -.07441, .44972, 0, -.02965, 0, 0, 0, 1, 0 ],\n        Vintage: [ .62793, .32021, -.03965, 0, .03784, .02578, .64411, .03259, 0, .02926, .0466, -.08512, .52416, 0, .02023, 0, 0, 0, 1, 0 ],\n        Kodachrome: [ 1.12855, -.39673, -.03992, 0, .24991, -.16404, 1.08352, -.05498, 0, .09698, -.16786, -.56034, 1.60148, 0, .13972, 0, 0, 0, 1, 0 ],\n        Technicolor: [ 1.91252, -.85453, -.09155, 0, .04624, -.30878, 1.76589, -.10601, 0, -.27589, -.2311, -.75018, 1.84759, 0, .12137, 0, 0, 0, 1, 0 ],\n        Polaroid: [ 1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0 ],\n        Sepia: [ .393, .769, .189, 0, 0, .349, .686, .168, 0, 0, .272, .534, .131, 0, 0, 0, 0, 0, 1, 0 ],\n        BlackWhite: [ 1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 1.5, 1.5, 1.5, 0, -1, 0, 0, 0, 1, 0 ]\n    };\n    for (var key in matrices) {\n        filters[key] = createClass(filters.ColorMatrix, {\n            type: key,\n            matrix: matrices[key],\n            mainParameter: false,\n            colorsOnly: true\n        });\n        fabric.Image.filters[key].fromObject = fabric.Image.filters.BaseFilter.fromObject;\n    }\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric, filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.BlendColor = createClass(filters.BaseFilter, {\n        type: \"BlendColor\",\n        color: \"#F95C63\",\n        mode: \"multiply\",\n        alpha: 1,\n        fragmentSource: {\n            multiply: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"color.rgb *= uColor.rgb;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            screen: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"color.rgb = 1.0 - (1.0 - color.rgb) * (1.0 - uColor.rgb);\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            add: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb += uColor.rgb;\\n\" + \"}\",\n            diff: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\\n\" + \"}\",\n            subtract: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb -= uColor.rgb;\\n\" + \"}\",\n            lighten: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\\n\" + \"}\",\n            darken: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\\n\" + \"}\",\n            exclusion: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\\n\" + \"}\",\n            overlay: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"if (uColor.r < 0.5) {\\n\" + \"gl_FragColor.r *= 2.0 * uColor.r;\\n\" + \"} else {\\n\" + \"gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\\n\" + \"}\\n\" + \"if (uColor.g < 0.5) {\\n\" + \"gl_FragColor.g *= 2.0 * uColor.g;\\n\" + \"} else {\\n\" + \"gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\\n\" + \"}\\n\" + \"if (uColor.b < 0.5) {\\n\" + \"gl_FragColor.b *= 2.0 * uColor.b;\\n\" + \"} else {\\n\" + \"gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\\n\" + \"}\\n\" + \"}\",\n            tint: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"gl_FragColor = texture2D(uTexture, vTexCoord);\\n\" + \"gl_FragColor.rgb *= (1.0 - uColor.a);\\n\" + \"gl_FragColor.rgb += uColor.rgb;\\n\" + \"}\"\n        },\n        retrieveShader: function(options) {\n            var cacheKey = this.type + \"_\" + this.mode;\n            var shaderSource = this.fragmentSource[this.mode];\n            if (!options.programCache.hasOwnProperty(cacheKey)) {\n                options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n            }\n            return options.programCache[cacheKey];\n        },\n        applyTo2d: function(options) {\n            var imageData = options.imageData, data = imageData.data, iLen = data.length, tr, tg, tb, r, g, b, source, alpha1 = 1 - this.alpha;\n            source = new fabric.Color(this.color).getSource();\n            tr = source[0] * this.alpha;\n            tg = source[1] * this.alpha;\n            tb = source[2] * this.alpha;\n            for (var i = 0; i < iLen; i += 4) {\n                r = data[i];\n                g = data[i + 1];\n                b = data[i + 2];\n                switch (this.mode) {\n                  case \"multiply\":\n                    data[i] = r * tr / 255;\n                    data[i + 1] = g * tg / 255;\n                    data[i + 2] = b * tb / 255;\n                    break;\n\n                  case \"screen\":\n                    data[i] = 255 - (255 - r) * (255 - tr) / 255;\n                    data[i + 1] = 255 - (255 - g) * (255 - tg) / 255;\n                    data[i + 2] = 255 - (255 - b) * (255 - tb) / 255;\n                    break;\n\n                  case \"add\":\n                    data[i] = r + tr;\n                    data[i + 1] = g + tg;\n                    data[i + 2] = b + tb;\n                    break;\n\n                  case \"diff\":\n                  case \"difference\":\n                    data[i] = Math.abs(r - tr);\n                    data[i + 1] = Math.abs(g - tg);\n                    data[i + 2] = Math.abs(b - tb);\n                    break;\n\n                  case \"subtract\":\n                    data[i] = r - tr;\n                    data[i + 1] = g - tg;\n                    data[i + 2] = b - tb;\n                    break;\n\n                  case \"darken\":\n                    data[i] = Math.min(r, tr);\n                    data[i + 1] = Math.min(g, tg);\n                    data[i + 2] = Math.min(b, tb);\n                    break;\n\n                  case \"lighten\":\n                    data[i] = Math.max(r, tr);\n                    data[i + 1] = Math.max(g, tg);\n                    data[i + 2] = Math.max(b, tb);\n                    break;\n\n                  case \"overlay\":\n                    data[i] = tr < 128 ? 2 * r * tr / 255 : 255 - 2 * (255 - r) * (255 - tr) / 255;\n                    data[i + 1] = tg < 128 ? 2 * g * tg / 255 : 255 - 2 * (255 - g) * (255 - tg) / 255;\n                    data[i + 2] = tb < 128 ? 2 * b * tb / 255 : 255 - 2 * (255 - b) * (255 - tb) / 255;\n                    break;\n\n                  case \"exclusion\":\n                    data[i] = tr + r - 2 * tr * r / 255;\n                    data[i + 1] = tg + g - 2 * tg * g / 255;\n                    data[i + 2] = tb + b - 2 * tb * b / 255;\n                    break;\n\n                  case \"tint\":\n                    data[i] = tr + r * alpha1;\n                    data[i + 1] = tg + g * alpha1;\n                    data[i + 2] = tb + b * alpha1;\n                }\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uColor: gl.getUniformLocation(program, \"uColor\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            var source = new fabric.Color(this.color).getSource();\n            source[0] = this.alpha * source[0] / 255;\n            source[1] = this.alpha * source[1] / 255;\n            source[2] = this.alpha * source[2] / 255;\n            source[3] = this.alpha;\n            gl.uniform4fv(uniformLocations.uColor, source);\n        },\n        toObject: function() {\n            return {\n                type: this.type,\n                color: this.color,\n                mode: this.mode,\n                alpha: this.alpha\n            };\n        }\n    });\n    fabric.Image.filters.BlendColor.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric, filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.BlendImage = createClass(filters.BaseFilter, {\n        type: \"BlendImage\",\n        image: null,\n        mode: \"multiply\",\n        alpha: 1,\n        vertexSource: \"attribute vec2 aPosition;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"varying vec2 vTexCoord2;\\n\" + \"uniform mat3 uTransformMatrix;\\n\" + \"void main() {\\n\" + \"vTexCoord = aPosition;\\n\" + \"vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\\n\" + \"gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n\" + \"}\",\n        fragmentSource: {\n            multiply: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform sampler2D uImage;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"varying vec2 vTexCoord2;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"vec4 color2 = texture2D(uImage, vTexCoord2);\\n\" + \"color.rgba *= color2.rgba;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n            mask: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform sampler2D uImage;\\n\" + \"uniform vec4 uColor;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"varying vec2 vTexCoord2;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"vec4 color2 = texture2D(uImage, vTexCoord2);\\n\" + \"color.a = color2.a;\\n\" + \"gl_FragColor = color;\\n\" + \"}\"\n        },\n        retrieveShader: function(options) {\n            var cacheKey = this.type + \"_\" + this.mode;\n            var shaderSource = this.fragmentSource[this.mode];\n            if (!options.programCache.hasOwnProperty(cacheKey)) {\n                options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n            }\n            return options.programCache[cacheKey];\n        },\n        applyToWebGL: function(options) {\n            var gl = options.context, texture = this.createTexture(options.filterBackend, this.image);\n            this.bindAdditionalTexture(gl, texture, gl.TEXTURE1);\n            this.callSuper(\"applyToWebGL\", options);\n            this.unbindAdditionalTexture(gl, gl.TEXTURE1);\n        },\n        createTexture: function(backend, image) {\n            return backend.getCachedTexture(image.cacheKey, image._element);\n        },\n        calculateMatrix: function() {\n            var image = this.image, width = image._element.width, height = image._element.height;\n            return [ 1 / image.scaleX, 0, 0, 0, 1 / image.scaleY, 0, -image.left / width, -image.top / height, 1 ];\n        },\n        applyTo2d: function(options) {\n            var imageData = options.imageData, resources = options.filterBackend.resources, data = imageData.data, iLen = data.length, width = options.imageData.width, height = options.imageData.height, tr, tg, tb, ta, r, g, b, a, canvas1, context, image = this.image, blendData;\n            if (!resources.blendImage) {\n                resources.blendImage = document.createElement(\"canvas\");\n            }\n            canvas1 = resources.blendImage;\n            if (canvas1.width !== width || canvas1.height !== height) {\n                canvas1.width = width;\n                canvas1.height = height;\n            }\n            context = canvas1.getContext(\"2d\");\n            context.setTransform(image.scaleX, 0, 0, image.scaleY, image.left, image.top);\n            context.drawImage(image._element, 0, 0, width, height);\n            blendData = context.getImageData(0, 0, width, height).data;\n            for (var i = 0; i < iLen; i += 4) {\n                r = data[i];\n                g = data[i + 1];\n                b = data[i + 2];\n                a = data[i + 3];\n                tr = blendData[i];\n                tg = blendData[i + 1];\n                tb = blendData[i + 2];\n                ta = blendData[i + 3];\n                switch (this.mode) {\n                  case \"multiply\":\n                    data[i] = r * tr / 255;\n                    data[i + 1] = g * tg / 255;\n                    data[i + 2] = b * tb / 255;\n                    data[i + 3] = a * ta / 255;\n                    break;\n\n                  case \"mask\":\n                    data[i + 3] = ta;\n                    break;\n                }\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uTransformMatrix: gl.getUniformLocation(program, \"uTransformMatrix\"),\n                uImage: gl.getUniformLocation(program, \"uImage\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            var matrix = this.calculateMatrix();\n            gl.uniform1i(uniformLocations.uImage, 1);\n            gl.uniformMatrix3fv(uniformLocations.uTransformMatrix, false, matrix);\n        },\n        toObject: function() {\n            return {\n                type: this.type,\n                image: this.image && this.image.toObject(),\n                mode: this.mode,\n                alpha: this.alpha\n            };\n        }\n    });\n    fabric.Image.filters.BlendImage.fromObject = function(object, callback) {\n        fabric.Image.fromObject(object.image, function(image) {\n            var options = fabric.util.object.clone(object);\n            options.image = image;\n            callback(new fabric.Image.filters.BlendImage(options));\n        });\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), pow = Math.pow, floor = Math.floor, sqrt = Math.sqrt, abs = Math.abs, round = Math.round, sin = Math.sin, ceil = Math.ceil, filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Resize = createClass(filters.BaseFilter, {\n        type: \"Resize\",\n        resizeType: \"hermite\",\n        scaleX: 0,\n        scaleY: 0,\n        lanczosLobes: 3,\n        getUniformLocations: function(gl, program) {\n            return {\n                uDelta: gl.getUniformLocation(program, \"uDelta\"),\n                uTaps: gl.getUniformLocation(program, \"uTaps\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform2fv(uniformLocations.uDelta, this.horizontal ? [ 1 / this.width, 0 ] : [ 0, 1 / this.height ]);\n            gl.uniform1fv(uniformLocations.uTaps, this.taps);\n        },\n        retrieveShader: function(options) {\n            var filterWindow = this.getFilterWindow(), cacheKey = this.type + \"_\" + filterWindow;\n            if (!options.programCache.hasOwnProperty(cacheKey)) {\n                var fragmentShader = this.generateShader(filterWindow);\n                options.programCache[cacheKey] = this.createProgram(options.context, fragmentShader);\n            }\n            return options.programCache[cacheKey];\n        },\n        getFilterWindow: function() {\n            var scale = this.tempScale;\n            return Math.ceil(this.lanczosLobes / scale);\n        },\n        getTaps: function() {\n            var lobeFunction = this.lanczosCreate(this.lanczosLobes), scale = this.tempScale, filterWindow = this.getFilterWindow(), taps = new Array(filterWindow);\n            for (var i = 1; i <= filterWindow; i++) {\n                taps[i - 1] = lobeFunction(i * scale);\n            }\n            return taps;\n        },\n        generateShader: function(filterWindow) {\n            var offsets = new Array(filterWindow), fragmentShader = this.fragmentSourceTOP, filterWindow;\n            for (var i = 1; i <= filterWindow; i++) {\n                offsets[i - 1] = i + \".0 * uDelta\";\n            }\n            fragmentShader += \"uniform float uTaps[\" + filterWindow + \"];\\n\";\n            fragmentShader += \"void main() {\\n\";\n            fragmentShader += \"  vec4 color = texture2D(uTexture, vTexCoord);\\n\";\n            fragmentShader += \"  float sum = 1.0;\\n\";\n            offsets.forEach(function(offset, i) {\n                fragmentShader += \"  color += texture2D(uTexture, vTexCoord + \" + offset + \") * uTaps[\" + i + \"];\\n\";\n                fragmentShader += \"  color += texture2D(uTexture, vTexCoord - \" + offset + \") * uTaps[\" + i + \"];\\n\";\n                fragmentShader += \"  sum += 2.0 * uTaps[\" + i + \"];\\n\";\n            });\n            fragmentShader += \"  gl_FragColor = color / sum;\\n\";\n            fragmentShader += \"}\";\n            return fragmentShader;\n        },\n        fragmentSourceTOP: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec2 uDelta;\\n\" + \"varying vec2 vTexCoord;\\n\",\n        applyTo: function(options) {\n            if (options.webgl) {\n                if (options.passes > 1 && this.isNeutralState(options)) {\n                    return;\n                }\n                options.passes++;\n                this.width = options.sourceWidth;\n                this.horizontal = true;\n                this.dW = Math.round(this.width * this.scaleX);\n                this.dH = options.sourceHeight;\n                this.tempScale = this.dW / this.width;\n                this.taps = this.getTaps();\n                options.destinationWidth = this.dW;\n                this._setupFrameBuffer(options);\n                this.applyToWebGL(options);\n                this._swapTextures(options);\n                options.sourceWidth = options.destinationWidth;\n                this.height = options.sourceHeight;\n                this.horizontal = false;\n                this.dH = Math.round(this.height * this.scaleY);\n                this.tempScale = this.dH / this.height;\n                this.taps = this.getTaps();\n                options.destinationHeight = this.dH;\n                this._setupFrameBuffer(options);\n                this.applyToWebGL(options);\n                this._swapTextures(options);\n                options.sourceHeight = options.destinationHeight;\n            } else if (!this.isNeutralState(options)) {\n                this.applyTo2d(options);\n            }\n        },\n        isNeutralState: function(options) {\n            var scaleX = options.scaleX || this.scaleX, scaleY = options.scaleY || this.scaleY;\n            return scaleX === 1 && scaleY === 1;\n        },\n        lanczosCreate: function(lobes) {\n            return function(x) {\n                if (x >= lobes || x <= -lobes) {\n                    return 0;\n                }\n                if (x < 1.1920929e-7 && x > -1.1920929e-7) {\n                    return 1;\n                }\n                x *= Math.PI;\n                var xx = x / lobes;\n                return sin(x) / x * sin(xx) / xx;\n            };\n        },\n        applyTo2d: function(options) {\n            var imageData = options.imageData, scaleX = this.scaleX, scaleY = this.scaleY;\n            this.rcpScaleX = 1 / scaleX;\n            this.rcpScaleY = 1 / scaleY;\n            var oW = imageData.width, oH = imageData.height, dW = round(oW * scaleX), dH = round(oH * scaleY), newData;\n            if (this.resizeType === \"sliceHack\") {\n                newData = this.sliceByTwo(options, oW, oH, dW, dH);\n            } else if (this.resizeType === \"hermite\") {\n                newData = this.hermiteFastResize(options, oW, oH, dW, dH);\n            } else if (this.resizeType === \"bilinear\") {\n                newData = this.bilinearFiltering(options, oW, oH, dW, dH);\n            } else if (this.resizeType === \"lanczos\") {\n                newData = this.lanczosResize(options, oW, oH, dW, dH);\n            }\n            options.imageData = newData;\n        },\n        sliceByTwo: function(options, oW, oH, dW, dH) {\n            var imageData = options.imageData, mult = .5, doneW = false, doneH = false, stepW = oW * mult, stepH = oH * mult, resources = fabric.filterBackend.resources, tmpCanvas, ctx, sX = 0, sY = 0, dX = oW, dY = 0;\n            if (!resources.sliceByTwo) {\n                resources.sliceByTwo = document.createElement(\"canvas\");\n            }\n            tmpCanvas = resources.sliceByTwo;\n            if (tmpCanvas.width < oW * 1.5 || tmpCanvas.height < oH) {\n                tmpCanvas.width = oW * 1.5;\n                tmpCanvas.height = oH;\n            }\n            ctx = tmpCanvas.getContext(\"2d\");\n            ctx.clearRect(0, 0, oW * 1.5, oH);\n            ctx.putImageData(imageData, 0, 0);\n            dW = floor(dW);\n            dH = floor(dH);\n            while (!doneW || !doneH) {\n                oW = stepW;\n                oH = stepH;\n                if (dW < floor(stepW * mult)) {\n                    stepW = floor(stepW * mult);\n                } else {\n                    stepW = dW;\n                    doneW = true;\n                }\n                if (dH < floor(stepH * mult)) {\n                    stepH = floor(stepH * mult);\n                } else {\n                    stepH = dH;\n                    doneH = true;\n                }\n                ctx.drawImage(tmpCanvas, sX, sY, oW, oH, dX, dY, stepW, stepH);\n                sX = dX;\n                sY = dY;\n                dY += stepH;\n            }\n            return ctx.getImageData(sX, sY, dW, dH);\n        },\n        lanczosResize: function(options, oW, oH, dW, dH) {\n            function process(u) {\n                var v, i, weight, idx, a, red, green, blue, alpha, fX, fY;\n                center.x = (u + .5) * ratioX;\n                icenter.x = floor(center.x);\n                for (v = 0; v < dH; v++) {\n                    center.y = (v + .5) * ratioY;\n                    icenter.y = floor(center.y);\n                    a = 0;\n                    red = 0;\n                    green = 0;\n                    blue = 0;\n                    alpha = 0;\n                    for (i = icenter.x - range2X; i <= icenter.x + range2X; i++) {\n                        if (i < 0 || i >= oW) {\n                            continue;\n                        }\n                        fX = floor(1e3 * abs(i - center.x));\n                        if (!cacheLanc[fX]) {\n                            cacheLanc[fX] = {};\n                        }\n                        for (var j = icenter.y - range2Y; j <= icenter.y + range2Y; j++) {\n                            if (j < 0 || j >= oH) {\n                                continue;\n                            }\n                            fY = floor(1e3 * abs(j - center.y));\n                            if (!cacheLanc[fX][fY]) {\n                                cacheLanc[fX][fY] = lanczos(sqrt(pow(fX * rcpRatioX, 2) + pow(fY * rcpRatioY, 2)) / 1e3);\n                            }\n                            weight = cacheLanc[fX][fY];\n                            if (weight > 0) {\n                                idx = (j * oW + i) * 4;\n                                a += weight;\n                                red += weight * srcData[idx];\n                                green += weight * srcData[idx + 1];\n                                blue += weight * srcData[idx + 2];\n                                alpha += weight * srcData[idx + 3];\n                            }\n                        }\n                    }\n                    idx = (v * dW + u) * 4;\n                    destData[idx] = red / a;\n                    destData[idx + 1] = green / a;\n                    destData[idx + 2] = blue / a;\n                    destData[idx + 3] = alpha / a;\n                }\n                if (++u < dW) {\n                    return process(u);\n                } else {\n                    return destImg;\n                }\n            }\n            var srcData = options.imageData.data, destImg = options.ctx.createImageData(dW, dH), destData = destImg.data, lanczos = this.lanczosCreate(this.lanczosLobes), ratioX = this.rcpScaleX, ratioY = this.rcpScaleY, rcpRatioX = 2 / this.rcpScaleX, rcpRatioY = 2 / this.rcpScaleY, range2X = ceil(ratioX * this.lanczosLobes / 2), range2Y = ceil(ratioY * this.lanczosLobes / 2), cacheLanc = {}, center = {}, icenter = {};\n            return process(0);\n        },\n        bilinearFiltering: function(options, oW, oH, dW, dH) {\n            var a, b, c, d, x, y, i, j, xDiff, yDiff, chnl, color, offset = 0, origPix, ratioX = this.rcpScaleX, ratioY = this.rcpScaleY, w4 = 4 * (oW - 1), img = options.imageData, pixels = img.data, destImage = options.ctx.createImageData(dW, dH), destPixels = destImage.data;\n            for (i = 0; i < dH; i++) {\n                for (j = 0; j < dW; j++) {\n                    x = floor(ratioX * j);\n                    y = floor(ratioY * i);\n                    xDiff = ratioX * j - x;\n                    yDiff = ratioY * i - y;\n                    origPix = 4 * (y * oW + x);\n                    for (chnl = 0; chnl < 4; chnl++) {\n                        a = pixels[origPix + chnl];\n                        b = pixels[origPix + 4 + chnl];\n                        c = pixels[origPix + w4 + chnl];\n                        d = pixels[origPix + w4 + 4 + chnl];\n                        color = a * (1 - xDiff) * (1 - yDiff) + b * xDiff * (1 - yDiff) + c * yDiff * (1 - xDiff) + d * xDiff * yDiff;\n                        destPixels[offset++] = color;\n                    }\n                }\n            }\n            return destImage;\n        },\n        hermiteFastResize: function(options, oW, oH, dW, dH) {\n            var ratioW = this.rcpScaleX, ratioH = this.rcpScaleY, ratioWHalf = ceil(ratioW / 2), ratioHHalf = ceil(ratioH / 2), img = options.imageData, data = img.data, img2 = options.ctx.createImageData(dW, dH), data2 = img2.data;\n            for (var j = 0; j < dH; j++) {\n                for (var i = 0; i < dW; i++) {\n                    var x2 = (i + j * dW) * 4, weight = 0, weights = 0, weightsAlpha = 0, gxR = 0, gxG = 0, gxB = 0, gxA = 0, centerY = (j + .5) * ratioH;\n                    for (var yy = floor(j * ratioH); yy < (j + 1) * ratioH; yy++) {\n                        var dy = abs(centerY - (yy + .5)) / ratioHHalf, centerX = (i + .5) * ratioW, w0 = dy * dy;\n                        for (var xx = floor(i * ratioW); xx < (i + 1) * ratioW; xx++) {\n                            var dx = abs(centerX - (xx + .5)) / ratioWHalf, w = sqrt(w0 + dx * dx);\n                            if (w > 1 && w < -1) {\n                                continue;\n                            }\n                            weight = 2 * w * w * w - 3 * w * w + 1;\n                            if (weight > 0) {\n                                dx = 4 * (xx + yy * oW);\n                                gxA += weight * data[dx + 3];\n                                weightsAlpha += weight;\n                                if (data[dx + 3] < 255) {\n                                    weight = weight * data[dx + 3] / 250;\n                                }\n                                gxR += weight * data[dx];\n                                gxG += weight * data[dx + 1];\n                                gxB += weight * data[dx + 2];\n                                weights += weight;\n                            }\n                        }\n                    }\n                    data2[x2] = gxR / weights;\n                    data2[x2 + 1] = gxG / weights;\n                    data2[x2 + 2] = gxB / weights;\n                    data2[x2 + 3] = gxA / weightsAlpha;\n                }\n            }\n            return img2;\n        },\n        toObject: function() {\n            return {\n                type: this.type,\n                scaleX: this.scaleX,\n                scaleY: this.scaleY,\n                resizeType: this.resizeType,\n                lanczosLobes: this.lanczosLobes\n            };\n        }\n    });\n    fabric.Image.filters.Resize.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Contrast = createClass(filters.BaseFilter, {\n        type: \"Contrast\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uContrast;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\\n\" + \"color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n        contrast: 0,\n        mainParameter: \"contrast\",\n        applyTo2d: function(options) {\n            if (this.contrast === 0) {\n                return;\n            }\n            var imageData = options.imageData, i, len, data = imageData.data, len = data.length, contrast = Math.floor(this.contrast * 255), contrastF = 259 * (contrast + 255) / (255 * (259 - contrast));\n            for (i = 0; i < len; i += 4) {\n                data[i] = contrastF * (data[i] - 128) + 128;\n                data[i + 1] = contrastF * (data[i + 1] - 128) + 128;\n                data[i + 2] = contrastF * (data[i + 2] - 128) + 128;\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uContrast: gl.getUniformLocation(program, \"uContrast\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1f(uniformLocations.uContrast, this.contrast);\n        }\n    });\n    fabric.Image.filters.Contrast.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Saturation = createClass(filters.BaseFilter, {\n        type: \"Saturation\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform float uSaturation;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"float rgMax = max(color.r, color.g);\\n\" + \"float rgbMax = max(rgMax, color.b);\\n\" + \"color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\\n\" + \"color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\\n\" + \"color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\\n\" + \"gl_FragColor = color;\\n\" + \"}\",\n        saturation: 0,\n        mainParameter: \"saturation\",\n        applyTo2d: function(options) {\n            if (this.saturation === 0) {\n                return;\n            }\n            var imageData = options.imageData, data = imageData.data, len = data.length, adjust = -this.saturation, i, max;\n            for (i = 0; i < len; i += 4) {\n                max = Math.max(data[i], data[i + 1], data[i + 2]);\n                data[i] += max !== data[i] ? (max - data[i]) * adjust : 0;\n                data[i + 1] += max !== data[i + 1] ? (max - data[i + 1]) * adjust : 0;\n                data[i + 2] += max !== data[i + 2] ? (max - data[i + 2]) * adjust : 0;\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uSaturation: gl.getUniformLocation(program, \"uSaturation\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform1f(uniformLocations.uSaturation, -this.saturation);\n        }\n    });\n    fabric.Image.filters.Saturation.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Blur = createClass(filters.BaseFilter, {\n        type: \"Blur\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec2 uDelta;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"const float nSamples = 15.0;\\n\" + \"vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\\n\" + \"float random(vec3 scale) {\\n\" + \"return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\\n\" + \"}\\n\" + \"void main() {\\n\" + \"vec4 color = vec4(0.0);\\n\" + \"float total = 0.0;\\n\" + \"float offset = random(v3offset);\\n\" + \"for (float t = -nSamples; t <= nSamples; t++) {\\n\" + \"float percent = (t + offset - 0.5) / nSamples;\\n\" + \"float weight = 1.0 - abs(percent);\\n\" + \"color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\\n\" + \"total += weight;\\n\" + \"}\\n\" + \"gl_FragColor = color / total;\\n\" + \"}\",\n        blur: 0,\n        mainParameter: \"blur\",\n        applyTo: function(options) {\n            if (options.webgl) {\n                this.aspectRatio = options.sourceWidth / options.sourceHeight;\n                options.passes++;\n                this._setupFrameBuffer(options);\n                this.horizontal = true;\n                this.applyToWebGL(options);\n                this._swapTextures(options);\n                this._setupFrameBuffer(options);\n                this.horizontal = false;\n                this.applyToWebGL(options);\n                this._swapTextures(options);\n            } else {\n                this.applyTo2d(options);\n            }\n        },\n        applyTo2d: function(options) {\n            options.imageData = this.simpleBlur(options);\n        },\n        simpleBlur: function(options) {\n            var resources = options.filterBackend.resources, canvas1, canvas2, width = options.imageData.width, height = options.imageData.height;\n            if (!resources.blurLayer1) {\n                resources.blurLayer1 = document.createElement(\"canvas\");\n                resources.blurLayer2 = document.createElement(\"canvas\");\n            }\n            canvas1 = resources.blurLayer1;\n            canvas2 = resources.blurLayer2;\n            if (canvas1.width !== width || canvas1.height !== height) {\n                canvas2.width = canvas1.width = width;\n                canvas2.height = canvas1.height = height;\n            }\n            var ctx1 = canvas1.getContext(\"2d\"), ctx2 = canvas2.getContext(\"2d\"), nSamples = 15, random, percent, j, i, blur = this.blur * .06 * .5;\n            ctx1.putImageData(options.imageData, 0, 0);\n            ctx2.clearRect(0, 0, width, height);\n            for (i = -nSamples; i <= nSamples; i++) {\n                random = (Math.random() - .5) / 4;\n                percent = i / nSamples;\n                j = blur * percent * width + random;\n                ctx2.globalAlpha = 1 - Math.abs(percent);\n                ctx2.drawImage(canvas1, j, random);\n                ctx1.drawImage(canvas2, 0, 0);\n                ctx2.globalAlpha = 1;\n                ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n            }\n            for (i = -nSamples; i <= nSamples; i++) {\n                random = (Math.random() - .5) / 4;\n                percent = i / nSamples;\n                j = blur * percent * height + random;\n                ctx2.globalAlpha = 1 - Math.abs(percent);\n                ctx2.drawImage(canvas1, random, j);\n                ctx1.drawImage(canvas2, 0, 0);\n                ctx2.globalAlpha = 1;\n                ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n            }\n            options.ctx.drawImage(canvas1, 0, 0);\n            var newImageData = options.ctx.getImageData(0, 0, canvas1.width, canvas1.height);\n            ctx1.globalAlpha = 1;\n            ctx1.clearRect(0, 0, canvas1.width, canvas1.height);\n            return newImageData;\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                delta: gl.getUniformLocation(program, \"uDelta\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            var delta = this.chooseRightDelta();\n            gl.uniform2fv(uniformLocations.delta, delta);\n        },\n        chooseRightDelta: function() {\n            var blurScale = 1, delta = [ 0, 0 ], blur;\n            if (this.horizontal) {\n                if (this.aspectRatio > 1) {\n                    blurScale = 1 / this.aspectRatio;\n                }\n            } else {\n                if (this.aspectRatio < 1) {\n                    blurScale = this.aspectRatio;\n                }\n            }\n            blur = blurScale * this.blur * .12;\n            if (this.horizontal) {\n                delta[0] = blur;\n            } else {\n                delta[1] = blur;\n            }\n            return delta;\n        }\n    });\n    filters.Blur.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Gamma = createClass(filters.BaseFilter, {\n        type: \"Gamma\",\n        fragmentSource: \"precision highp float;\\n\" + \"uniform sampler2D uTexture;\\n\" + \"uniform vec3 uGamma;\\n\" + \"varying vec2 vTexCoord;\\n\" + \"void main() {\\n\" + \"vec4 color = texture2D(uTexture, vTexCoord);\\n\" + \"vec3 correction = (1.0 / uGamma);\\n\" + \"color.r = pow(color.r, correction.r);\\n\" + \"color.g = pow(color.g, correction.g);\\n\" + \"color.b = pow(color.b, correction.b);\\n\" + \"gl_FragColor = color;\\n\" + \"gl_FragColor.rgb *= color.a;\\n\" + \"}\",\n        gamma: [ 1, 1, 1 ],\n        mainParameter: \"gamma\",\n        applyTo2d: function(options) {\n            var imageData = options.imageData, data = imageData.data, gamma = this.gamma, len = data.length, rInv = 1 / gamma[0], gInv = 1 / gamma[1], bInv = 1 / gamma[2], i;\n            if (!this.rVals) {\n                this.rVals = new Uint8Array(256);\n                this.gVals = new Uint8Array(256);\n                this.bVals = new Uint8Array(256);\n            }\n            for (i = 0, len = 256; i < len; i++) {\n                this.rVals[i] = Math.pow(i / 255, rInv) * 255;\n                this.gVals[i] = Math.pow(i / 255, gInv) * 255;\n                this.bVals[i] = Math.pow(i / 255, bInv) * 255;\n            }\n            for (i = 0, len = data.length; i < len; i += 4) {\n                data[i] = this.rVals[data[i]];\n                data[i + 1] = this.gVals[data[i + 1]];\n                data[i + 2] = this.bVals[data[i + 2]];\n            }\n        },\n        getUniformLocations: function(gl, program) {\n            return {\n                uGamma: gl.getUniformLocation(program, \"uGamma\")\n            };\n        },\n        sendUniformData: function(gl, uniformLocations) {\n            gl.uniform3fv(uniformLocations.uGamma, this.gamma);\n        }\n    });\n    fabric.Image.filters.Gamma.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.Composed = createClass(filters.BaseFilter, {\n        type: \"Composed\",\n        subFilters: [],\n        initialize: function(options) {\n            this.callSuper(\"initialize\", options);\n            this.subFilters = this.subFilters.slice(0);\n        },\n        applyTo: function(options) {\n            options.passes += this.subFilters.length - 1;\n            this.subFilters.forEach(function(filter) {\n                filter.applyTo(options);\n            });\n        },\n        toObject: function() {\n            return fabric.util.object.extend(this.callSuper(\"toObject\"), {\n                subFilters: this.subFilters.map(function(filter) {\n                    return filter.toObject();\n                })\n            });\n        }\n    });\n    fabric.Image.filters.Composed.fromObject = function(object, callback) {\n        var filters = object.subFilters || [], subFilters = filters.map(function(filter) {\n            return new fabric.Image.filters[filter.type](filter);\n        }), instance = new fabric.Image.filters.Composed({\n            subFilters: subFilters\n        });\n        callback && callback(instance);\n        return instance;\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), filters = fabric.Image.filters, createClass = fabric.util.createClass;\n    filters.HueRotation = createClass(filters.ColorMatrix, {\n        type: \"HueRotation\",\n        rotation: 0,\n        mainParameter: \"rotation\",\n        calculateMatrix: function() {\n            var rad = this.rotation * Math.PI, cos = fabric.util.cos(rad), sin = fabric.util.sin(rad), aThird = 1 / 3, aThirdSqtSin = Math.sqrt(aThird) * sin, OneMinusCos = 1 - cos;\n            this.matrix = [ 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0 ];\n            this.matrix[0] = cos + OneMinusCos / 3;\n            this.matrix[1] = aThird * OneMinusCos - aThirdSqtSin;\n            this.matrix[2] = aThird * OneMinusCos + aThirdSqtSin;\n            this.matrix[5] = aThird * OneMinusCos + aThirdSqtSin;\n            this.matrix[6] = cos + aThird * OneMinusCos;\n            this.matrix[7] = aThird * OneMinusCos - aThirdSqtSin;\n            this.matrix[10] = aThird * OneMinusCos - aThirdSqtSin;\n            this.matrix[11] = aThird * OneMinusCos + aThirdSqtSin;\n            this.matrix[12] = cos + aThird * OneMinusCos;\n        },\n        applyTo: function(options) {\n            this.calculateMatrix();\n            fabric.Image.filters.BaseFilter.prototype.applyTo.call(this, options);\n        }\n    });\n    fabric.Image.filters.HueRotation.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {}), clone = fabric.util.object.clone;\n    if (fabric.Text) {\n        fabric.warn(\"fabric.Text is already defined\");\n        return;\n    }\n    fabric.Text = fabric.util.createClass(fabric.Object, {\n        _dimensionAffectingProps: [ \"fontSize\", \"fontWeight\", \"fontFamily\", \"fontStyle\", \"lineHeight\", \"text\", \"charSpacing\", \"textAlign\", \"styles\" ],\n        _reNewline: /\\r?\\n/,\n        _reSpacesAndTabs: /[ \\t\\r]/g,\n        _reSpaceAndTab: /[ \\t\\r]/,\n        _reWords: /\\S+/g,\n        type: \"text\",\n        fontSize: 40,\n        fontWeight: \"normal\",\n        fontFamily: \"Times New Roman\",\n        underline: false,\n        overline: false,\n        linethrough: false,\n        textAlign: \"left\",\n        fontStyle: \"normal\",\n        lineHeight: 1.16,\n        superscript: {\n            size: .6,\n            baseline: -.35\n        },\n        subscript: {\n            size: .6,\n            baseline: .11\n        },\n        textBackgroundColor: \"\",\n        stateProperties: fabric.Object.prototype.stateProperties.concat(\"fontFamily\", \"fontWeight\", \"fontSize\", \"text\", \"underline\", \"overline\", \"linethrough\", \"textAlign\", \"fontStyle\", \"lineHeight\", \"textBackgroundColor\", \"charSpacing\", \"styles\"),\n        cacheProperties: fabric.Object.prototype.cacheProperties.concat(\"fontFamily\", \"fontWeight\", \"fontSize\", \"text\", \"underline\", \"overline\", \"linethrough\", \"textAlign\", \"fontStyle\", \"lineHeight\", \"textBackgroundColor\", \"charSpacing\", \"styles\"),\n        stroke: null,\n        shadow: null,\n        _fontSizeFraction: .222,\n        offsets: {\n            underline: .1,\n            linethrough: -.315,\n            overline: -.88\n        },\n        _fontSizeMult: 1.13,\n        charSpacing: 0,\n        styles: null,\n        _measuringContext: null,\n        deltaY: 0,\n        _styleProperties: [ \"stroke\", \"strokeWidth\", \"fill\", \"fontFamily\", \"fontSize\", \"fontWeight\", \"fontStyle\", \"underline\", \"overline\", \"linethrough\", \"deltaY\", \"textBackgroundColor\" ],\n        __charBounds: [],\n        CACHE_FONT_SIZE: 400,\n        MIN_TEXT_WIDTH: 2,\n        initialize: function(text, options) {\n            this.styles = options ? options.styles || {} : {};\n            this.text = text;\n            this.__skipDimension = true;\n            this.callSuper(\"initialize\", options);\n            this.__skipDimension = false;\n            this.initDimensions();\n            this.setCoords();\n            this.setupState({\n                propertySet: \"_dimensionAffectingProps\"\n            });\n        },\n        getMeasuringContext: function() {\n            if (!fabric._measuringContext) {\n                fabric._measuringContext = this.canvas && this.canvas.contextCache || fabric.util.createCanvasElement().getContext(\"2d\");\n            }\n            return fabric._measuringContext;\n        },\n        _splitText: function() {\n            var newLines = this._splitTextIntoLines(this.text);\n            this.textLines = newLines.lines;\n            this._textLines = newLines.graphemeLines;\n            this._unwrappedTextLines = newLines._unwrappedLines;\n            this._text = newLines.graphemeText;\n            return newLines;\n        },\n        initDimensions: function() {\n            if (this.__skipDimension) {\n                return;\n            }\n            this._splitText();\n            this._clearCache();\n            this.width = this.calcTextWidth() || this.cursorWidth || this.MIN_TEXT_WIDTH;\n            if (this.textAlign.indexOf(\"justify\") !== -1) {\n                this.enlargeSpaces();\n            }\n            this.height = this.calcTextHeight();\n            this.saveState({\n                propertySet: \"_dimensionAffectingProps\"\n            });\n        },\n        enlargeSpaces: function() {\n            var diffSpace, currentLineWidth, numberOfSpaces, accumulatedSpace, line, charBound, spaces;\n            for (var i = 0, len = this._textLines.length; i < len; i++) {\n                if (this.textAlign !== \"justify\" && (i === len - 1 || this.isEndOfWrapping(i))) {\n                    continue;\n                }\n                accumulatedSpace = 0;\n                line = this._textLines[i];\n                currentLineWidth = this.getLineWidth(i);\n                if (currentLineWidth < this.width && (spaces = this.textLines[i].match(this._reSpacesAndTabs))) {\n                    numberOfSpaces = spaces.length;\n                    diffSpace = (this.width - currentLineWidth) / numberOfSpaces;\n                    for (var j = 0, jlen = line.length; j <= jlen; j++) {\n                        charBound = this.__charBounds[i][j];\n                        if (this._reSpaceAndTab.test(line[j])) {\n                            charBound.width += diffSpace;\n                            charBound.kernedWidth += diffSpace;\n                            charBound.left += accumulatedSpace;\n                            accumulatedSpace += diffSpace;\n                        } else {\n                            charBound.left += accumulatedSpace;\n                        }\n                    }\n                }\n            }\n        },\n        isEndOfWrapping: function(lineIndex) {\n            return lineIndex === this._textLines.length - 1;\n        },\n        toString: function() {\n            return \"#<fabric.Text (\" + this.complexity() + '): { \"text\": \"' + this.text + '\", \"fontFamily\": \"' + this.fontFamily + '\" }>';\n        },\n        _getCacheCanvasDimensions: function() {\n            var dims = this.callSuper(\"_getCacheCanvasDimensions\");\n            var fontSize = this.fontSize;\n            dims.width += fontSize * dims.zoomX;\n            dims.height += fontSize * dims.zoomY;\n            return dims;\n        },\n        _render: function(ctx) {\n            this._setTextStyles(ctx);\n            this._renderTextLinesBackground(ctx);\n            this._renderTextDecoration(ctx, \"underline\");\n            this._renderText(ctx);\n            this._renderTextDecoration(ctx, \"overline\");\n            this._renderTextDecoration(ctx, \"linethrough\");\n        },\n        _renderText: function(ctx) {\n            if (this.paintFirst === \"stroke\") {\n                this._renderTextStroke(ctx);\n                this._renderTextFill(ctx);\n            } else {\n                this._renderTextFill(ctx);\n                this._renderTextStroke(ctx);\n            }\n        },\n        _setTextStyles: function(ctx, charStyle, forMeasuring) {\n            ctx.textBaseline = \"alphabetic\";\n            ctx.font = this._getFontDeclaration(charStyle, forMeasuring);\n        },\n        calcTextWidth: function() {\n            var maxWidth = this.getLineWidth(0);\n            for (var i = 1, len = this._textLines.length; i < len; i++) {\n                var currentLineWidth = this.getLineWidth(i);\n                if (currentLineWidth > maxWidth) {\n                    maxWidth = currentLineWidth;\n                }\n            }\n            return maxWidth;\n        },\n        _renderTextLine: function(method, ctx, line, left, top, lineIndex) {\n            this._renderChars(method, ctx, line, left, top, lineIndex);\n        },\n        _renderTextLinesBackground: function(ctx) {\n            if (!this.textBackgroundColor && !this.styleHas(\"textBackgroundColor\")) {\n                return;\n            }\n            var lineTopOffset = 0, heightOfLine, lineLeftOffset, originalFill = ctx.fillStyle, line, lastColor, leftOffset = this._getLeftOffset(), topOffset = this._getTopOffset(), boxStart = 0, boxWidth = 0, charBox, currentColor;\n            for (var i = 0, len = this._textLines.length; i < len; i++) {\n                heightOfLine = this.getHeightOfLine(i);\n                if (!this.textBackgroundColor && !this.styleHas(\"textBackgroundColor\", i)) {\n                    lineTopOffset += heightOfLine;\n                    continue;\n                }\n                line = this._textLines[i];\n                lineLeftOffset = this._getLineLeftOffset(i);\n                boxWidth = 0;\n                boxStart = 0;\n                lastColor = this.getValueOfPropertyAt(i, 0, \"textBackgroundColor\");\n                for (var j = 0, jlen = line.length; j < jlen; j++) {\n                    charBox = this.__charBounds[i][j];\n                    currentColor = this.getValueOfPropertyAt(i, j, \"textBackgroundColor\");\n                    if (currentColor !== lastColor) {\n                        ctx.fillStyle = lastColor;\n                        lastColor && ctx.fillRect(leftOffset + lineLeftOffset + boxStart, topOffset + lineTopOffset, boxWidth, heightOfLine / this.lineHeight);\n                        boxStart = charBox.left;\n                        boxWidth = charBox.width;\n                        lastColor = currentColor;\n                    } else {\n                        boxWidth += charBox.kernedWidth;\n                    }\n                }\n                if (currentColor) {\n                    ctx.fillStyle = currentColor;\n                    ctx.fillRect(leftOffset + lineLeftOffset + boxStart, topOffset + lineTopOffset, boxWidth, heightOfLine / this.lineHeight);\n                }\n                lineTopOffset += heightOfLine;\n            }\n            ctx.fillStyle = originalFill;\n            this._removeShadow(ctx);\n        },\n        getFontCache: function(decl) {\n            var fontFamily = decl.fontFamily.toLowerCase();\n            if (!fabric.charWidthsCache[fontFamily]) {\n                fabric.charWidthsCache[fontFamily] = {};\n            }\n            var cache = fabric.charWidthsCache[fontFamily], cacheProp = decl.fontStyle.toLowerCase() + \"_\" + (decl.fontWeight + \"\").toLowerCase();\n            if (!cache[cacheProp]) {\n                cache[cacheProp] = {};\n            }\n            return cache[cacheProp];\n        },\n        _applyCharStyles: function(method, ctx, lineIndex, charIndex, styleDeclaration) {\n            this._setFillStyles(ctx, styleDeclaration);\n            this._setStrokeStyles(ctx, styleDeclaration);\n            ctx.font = this._getFontDeclaration(styleDeclaration);\n        },\n        _measureChar: function(_char, charStyle, previousChar, prevCharStyle) {\n            var fontCache = this.getFontCache(charStyle), fontDeclaration = this._getFontDeclaration(charStyle), previousFontDeclaration = this._getFontDeclaration(prevCharStyle), couple = previousChar + _char, stylesAreEqual = fontDeclaration === previousFontDeclaration, width, coupleWidth, previousWidth, fontMultiplier = charStyle.fontSize / this.CACHE_FONT_SIZE, kernedWidth;\n            if (previousChar && fontCache[previousChar]) {\n                previousWidth = fontCache[previousChar];\n            }\n            if (fontCache[_char]) {\n                kernedWidth = width = fontCache[_char];\n            }\n            if (stylesAreEqual && fontCache[couple]) {\n                coupleWidth = fontCache[couple];\n                kernedWidth = coupleWidth - previousWidth;\n            }\n            if (!width || !previousWidth || !coupleWidth) {\n                var ctx = this.getMeasuringContext();\n                this._setTextStyles(ctx, charStyle, true);\n            }\n            if (!width) {\n                kernedWidth = width = ctx.measureText(_char).width;\n                fontCache[_char] = width;\n            }\n            if (!previousWidth && stylesAreEqual && previousChar) {\n                previousWidth = ctx.measureText(previousChar).width;\n                fontCache[previousChar] = previousWidth;\n            }\n            if (stylesAreEqual && !coupleWidth) {\n                coupleWidth = ctx.measureText(couple).width;\n                fontCache[couple] = coupleWidth;\n                kernedWidth = coupleWidth - previousWidth;\n            }\n            return {\n                width: width * fontMultiplier,\n                kernedWidth: kernedWidth * fontMultiplier\n            };\n        },\n        getHeightOfChar: function(line, char) {\n            return this.getValueOfPropertyAt(line, char, \"fontSize\");\n        },\n        measureLine: function(lineIndex) {\n            var lineInfo = this._measureLine(lineIndex);\n            if (this.charSpacing !== 0) {\n                lineInfo.width -= this._getWidthOfCharSpacing();\n            }\n            if (lineInfo.width < 0) {\n                lineInfo.width = 0;\n            }\n            return lineInfo;\n        },\n        _measureLine: function(lineIndex) {\n            var width = 0, i, grapheme, line = this._textLines[lineIndex], prevGrapheme, graphemeInfo, numOfSpaces = 0, lineBounds = new Array(line.length);\n            this.__charBounds[lineIndex] = lineBounds;\n            for (i = 0; i < line.length; i++) {\n                grapheme = line[i];\n                graphemeInfo = this._getGraphemeBox(grapheme, lineIndex, i, prevGrapheme);\n                lineBounds[i] = graphemeInfo;\n                width += graphemeInfo.kernedWidth;\n                prevGrapheme = grapheme;\n            }\n            lineBounds[i] = {\n                left: graphemeInfo ? graphemeInfo.left + graphemeInfo.width : 0,\n                width: 0,\n                kernedWidth: 0,\n                height: this.fontSize\n            };\n            return {\n                width: width,\n                numOfSpaces: numOfSpaces\n            };\n        },\n        _getGraphemeBox: function(grapheme, lineIndex, charIndex, prevGrapheme, skipLeft) {\n            var style = this.getCompleteStyleDeclaration(lineIndex, charIndex), prevStyle = prevGrapheme ? this.getCompleteStyleDeclaration(lineIndex, charIndex - 1) : {}, info = this._measureChar(grapheme, style, prevGrapheme, prevStyle), kernedWidth = info.kernedWidth, width = info.width, charSpacing;\n            if (this.charSpacing !== 0) {\n                charSpacing = this._getWidthOfCharSpacing();\n                width += charSpacing;\n                kernedWidth += charSpacing;\n            }\n            var box = {\n                width: width,\n                left: 0,\n                height: style.fontSize,\n                kernedWidth: kernedWidth,\n                deltaY: style.deltaY\n            };\n            if (charIndex > 0 && !skipLeft) {\n                var previousBox = this.__charBounds[lineIndex][charIndex - 1];\n                box.left = previousBox.left + previousBox.width + info.kernedWidth - info.width;\n            }\n            return box;\n        },\n        getHeightOfLine: function(lineIndex) {\n            if (this.__lineHeights[lineIndex]) {\n                return this.__lineHeights[lineIndex];\n            }\n            var line = this._textLines[lineIndex], maxHeight = this.getHeightOfChar(lineIndex, 0);\n            for (var i = 1, len = line.length; i < len; i++) {\n                maxHeight = Math.max(this.getHeightOfChar(lineIndex, i), maxHeight);\n            }\n            return this.__lineHeights[lineIndex] = maxHeight * this.lineHeight * this._fontSizeMult;\n        },\n        calcTextHeight: function() {\n            var lineHeight, height = 0;\n            for (var i = 0, len = this._textLines.length; i < len; i++) {\n                lineHeight = this.getHeightOfLine(i);\n                height += i === len - 1 ? lineHeight / this.lineHeight : lineHeight;\n            }\n            return height;\n        },\n        _getLeftOffset: function() {\n            return -this.width / 2;\n        },\n        _getTopOffset: function() {\n            return -this.height / 2;\n        },\n        _renderTextCommon: function(ctx, method) {\n            ctx.save();\n            var lineHeights = 0, left = this._getLeftOffset(), top = this._getTopOffset(), offsets = this._applyPatternGradientTransform(ctx, method === \"fillText\" ? this.fill : this.stroke);\n            for (var i = 0, len = this._textLines.length; i < len; i++) {\n                var heightOfLine = this.getHeightOfLine(i), maxHeight = heightOfLine / this.lineHeight, leftOffset = this._getLineLeftOffset(i);\n                this._renderTextLine(method, ctx, this._textLines[i], left + leftOffset - offsets.offsetX, top + lineHeights + maxHeight - offsets.offsetY, i);\n                lineHeights += heightOfLine;\n            }\n            ctx.restore();\n        },\n        _renderTextFill: function(ctx) {\n            if (!this.fill && !this.styleHas(\"fill\")) {\n                return;\n            }\n            this._renderTextCommon(ctx, \"fillText\");\n        },\n        _renderTextStroke: function(ctx) {\n            if ((!this.stroke || this.strokeWidth === 0) && this.isEmptyStyles()) {\n                return;\n            }\n            if (this.shadow && !this.shadow.affectStroke) {\n                this._removeShadow(ctx);\n            }\n            ctx.save();\n            this._setLineDash(ctx, this.strokeDashArray);\n            ctx.beginPath();\n            this._renderTextCommon(ctx, \"strokeText\");\n            ctx.closePath();\n            ctx.restore();\n        },\n        _renderChars: function(method, ctx, line, left, top, lineIndex) {\n            var lineHeight = this.getHeightOfLine(lineIndex), isJustify = this.textAlign.indexOf(\"justify\") !== -1, actualStyle, nextStyle, charsToRender = \"\", charBox, boxWidth = 0, timeToRender, shortCut = !isJustify && this.charSpacing === 0 && this.isEmptyStyles(lineIndex);\n            ctx.save();\n            top -= lineHeight * this._fontSizeFraction / this.lineHeight;\n            if (shortCut) {\n                this._renderChar(method, ctx, lineIndex, 0, this.textLines[lineIndex], left, top, lineHeight);\n                ctx.restore();\n                return;\n            }\n            for (var i = 0, len = line.length - 1; i <= len; i++) {\n                timeToRender = i === len || this.charSpacing;\n                charsToRender += line[i];\n                charBox = this.__charBounds[lineIndex][i];\n                if (boxWidth === 0) {\n                    left += charBox.kernedWidth - charBox.width;\n                    boxWidth += charBox.width;\n                } else {\n                    boxWidth += charBox.kernedWidth;\n                }\n                if (isJustify && !timeToRender) {\n                    if (this._reSpaceAndTab.test(line[i])) {\n                        timeToRender = true;\n                    }\n                }\n                if (!timeToRender) {\n                    actualStyle = actualStyle || this.getCompleteStyleDeclaration(lineIndex, i);\n                    nextStyle = this.getCompleteStyleDeclaration(lineIndex, i + 1);\n                    timeToRender = this._hasStyleChanged(actualStyle, nextStyle);\n                }\n                if (timeToRender) {\n                    this._renderChar(method, ctx, lineIndex, i, charsToRender, left, top, lineHeight);\n                    charsToRender = \"\";\n                    actualStyle = nextStyle;\n                    left += boxWidth;\n                    boxWidth = 0;\n                }\n            }\n            ctx.restore();\n        },\n        _renderChar: function(method, ctx, lineIndex, charIndex, _char, left, top) {\n            var decl = this._getStyleDeclaration(lineIndex, charIndex), fullDecl = this.getCompleteStyleDeclaration(lineIndex, charIndex), shouldFill = method === \"fillText\" && fullDecl.fill, shouldStroke = method === \"strokeText\" && fullDecl.stroke && fullDecl.strokeWidth;\n            if (!shouldStroke && !shouldFill) {\n                return;\n            }\n            decl && ctx.save();\n            this._applyCharStyles(method, ctx, lineIndex, charIndex, fullDecl);\n            if (decl && decl.textBackgroundColor) {\n                this._removeShadow(ctx);\n            }\n            if (decl && decl.deltaY) {\n                top += decl.deltaY;\n            }\n            shouldFill && ctx.fillText(_char, left, top);\n            shouldStroke && ctx.strokeText(_char, left, top);\n            decl && ctx.restore();\n        },\n        setSuperscript: function(start, end) {\n            return this._setScript(start, end, this.superscript);\n        },\n        setSubscript: function(start, end) {\n            return this._setScript(start, end, this.subscript);\n        },\n        _setScript: function(start, end, schema) {\n            var loc = this.get2DCursorLocation(start, true), fontSize = this.getValueOfPropertyAt(loc.lineIndex, loc.charIndex, \"fontSize\"), dy = this.getValueOfPropertyAt(loc.lineIndex, loc.charIndex, \"deltaY\"), style = {\n                fontSize: fontSize * schema.size,\n                deltaY: dy + fontSize * schema.baseline\n            };\n            this.setSelectionStyles(style, start, end);\n            return this;\n        },\n        _hasStyleChanged: function(prevStyle, thisStyle) {\n            return prevStyle.fill !== thisStyle.fill || prevStyle.stroke !== thisStyle.stroke || prevStyle.strokeWidth !== thisStyle.strokeWidth || prevStyle.fontSize !== thisStyle.fontSize || prevStyle.fontFamily !== thisStyle.fontFamily || prevStyle.fontWeight !== thisStyle.fontWeight || prevStyle.fontStyle !== thisStyle.fontStyle || prevStyle.deltaY !== thisStyle.deltaY;\n        },\n        _hasStyleChangedForSvg: function(prevStyle, thisStyle) {\n            return this._hasStyleChanged(prevStyle, thisStyle) || prevStyle.overline !== thisStyle.overline || prevStyle.underline !== thisStyle.underline || prevStyle.linethrough !== thisStyle.linethrough;\n        },\n        _getLineLeftOffset: function(lineIndex) {\n            var lineWidth = this.getLineWidth(lineIndex);\n            if (this.textAlign === \"center\") {\n                return (this.width - lineWidth) / 2;\n            }\n            if (this.textAlign === \"right\") {\n                return this.width - lineWidth;\n            }\n            if (this.textAlign === \"justify-center\" && this.isEndOfWrapping(lineIndex)) {\n                return (this.width - lineWidth) / 2;\n            }\n            if (this.textAlign === \"justify-right\" && this.isEndOfWrapping(lineIndex)) {\n                return this.width - lineWidth;\n            }\n            return 0;\n        },\n        _clearCache: function() {\n            this.__lineWidths = [];\n            this.__lineHeights = [];\n            this.__charBounds = [];\n        },\n        _shouldClearDimensionCache: function() {\n            var shouldClear = this._forceClearCache;\n            shouldClear || (shouldClear = this.hasStateChanged(\"_dimensionAffectingProps\"));\n            if (shouldClear) {\n                this.dirty = true;\n                this._forceClearCache = false;\n            }\n            return shouldClear;\n        },\n        getLineWidth: function(lineIndex) {\n            if (this.__lineWidths[lineIndex]) {\n                return this.__lineWidths[lineIndex];\n            }\n            var width, line = this._textLines[lineIndex], lineInfo;\n            if (line === \"\") {\n                width = 0;\n            } else {\n                lineInfo = this.measureLine(lineIndex);\n                width = lineInfo.width;\n            }\n            this.__lineWidths[lineIndex] = width;\n            return width;\n        },\n        _getWidthOfCharSpacing: function() {\n            if (this.charSpacing !== 0) {\n                return this.fontSize * this.charSpacing / 1e3;\n            }\n            return 0;\n        },\n        getValueOfPropertyAt: function(lineIndex, charIndex, property) {\n            var charStyle = this._getStyleDeclaration(lineIndex, charIndex);\n            if (charStyle && typeof charStyle[property] !== \"undefined\") {\n                return charStyle[property];\n            }\n            return this[property];\n        },\n        _renderTextDecoration: function(ctx, type) {\n            if (!this[type] && !this.styleHas(type)) {\n                return;\n            }\n            var heightOfLine, size, _size, lineLeftOffset, dy, _dy, line, lastDecoration, leftOffset = this._getLeftOffset(), topOffset = this._getTopOffset(), top, boxStart, boxWidth, charBox, currentDecoration, maxHeight, currentFill, lastFill;\n            for (var i = 0, len = this._textLines.length; i < len; i++) {\n                heightOfLine = this.getHeightOfLine(i);\n                if (!this[type] && !this.styleHas(type, i)) {\n                    topOffset += heightOfLine;\n                    continue;\n                }\n                line = this._textLines[i];\n                maxHeight = heightOfLine / this.lineHeight;\n                lineLeftOffset = this._getLineLeftOffset(i);\n                boxStart = 0;\n                boxWidth = 0;\n                lastDecoration = this.getValueOfPropertyAt(i, 0, type);\n                lastFill = this.getValueOfPropertyAt(i, 0, \"fill\");\n                top = topOffset + maxHeight * (1 - this._fontSizeFraction);\n                size = this.getHeightOfChar(i, 0);\n                dy = this.getValueOfPropertyAt(i, 0, \"deltaY\");\n                for (var j = 0, jlen = line.length; j < jlen; j++) {\n                    charBox = this.__charBounds[i][j];\n                    currentDecoration = this.getValueOfPropertyAt(i, j, type);\n                    currentFill = this.getValueOfPropertyAt(i, j, \"fill\");\n                    _size = this.getHeightOfChar(i, j);\n                    _dy = this.getValueOfPropertyAt(i, j, \"deltaY\");\n                    if ((currentDecoration !== lastDecoration || currentFill !== lastFill || _size !== size || _dy !== dy) && boxWidth > 0) {\n                        ctx.fillStyle = lastFill;\n                        lastDecoration && lastFill && ctx.fillRect(leftOffset + lineLeftOffset + boxStart, top + this.offsets[type] * size + dy, boxWidth, this.fontSize / 15);\n                        boxStart = charBox.left;\n                        boxWidth = charBox.width;\n                        lastDecoration = currentDecoration;\n                        lastFill = currentFill;\n                        size = _size;\n                        dy = _dy;\n                    } else {\n                        boxWidth += charBox.kernedWidth;\n                    }\n                }\n                ctx.fillStyle = currentFill;\n                currentDecoration && currentFill && ctx.fillRect(leftOffset + lineLeftOffset + boxStart, top + this.offsets[type] * size + dy, boxWidth, this.fontSize / 15);\n                topOffset += heightOfLine;\n            }\n            this._removeShadow(ctx);\n        },\n        _getFontDeclaration: function(styleObject, forMeasuring) {\n            var style = styleObject || this;\n            var fontFamily = style.fontFamily === undefined || style.fontFamily.indexOf(\"'\") > -1 || style.fontFamily.indexOf('\"') > -1 ? style.fontFamily : '\"' + style.fontFamily + '\"';\n            return [ fabric.isLikelyNode ? style.fontWeight : style.fontStyle, fabric.isLikelyNode ? style.fontStyle : style.fontWeight, forMeasuring ? this.CACHE_FONT_SIZE + \"px\" : style.fontSize + \"px\", fontFamily ].join(\" \");\n        },\n        render: function(ctx) {\n            if (!this.visible) {\n                return;\n            }\n            if (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen()) {\n                return;\n            }\n            if (this._shouldClearDimensionCache()) {\n                this.initDimensions();\n            }\n            this.callSuper(\"render\", ctx);\n        },\n        _splitTextIntoLines: function(text) {\n            var lines = text.split(this._reNewline), newLines = new Array(lines.length), newLine = [ \"\\n\" ], newText = [];\n            for (var i = 0; i < lines.length; i++) {\n                newLines[i] = fabric.util.string.graphemeSplit(lines[i]);\n                newText = newText.concat(newLines[i], newLine);\n            }\n            newText.pop();\n            return {\n                _unwrappedLines: newLines,\n                lines: lines,\n                graphemeText: newText,\n                graphemeLines: newLines\n            };\n        },\n        toObject: function(propertiesToInclude) {\n            var additionalProperties = [ \"text\", \"fontSize\", \"fontWeight\", \"fontFamily\", \"fontStyle\", \"lineHeight\", \"underline\", \"overline\", \"linethrough\", \"textAlign\", \"textBackgroundColor\", \"charSpacing\" ].concat(propertiesToInclude);\n            var obj = this.callSuper(\"toObject\", additionalProperties);\n            obj.styles = clone(this.styles, true);\n            return obj;\n        },\n        set: function(key, value) {\n            this.callSuper(\"set\", key, value);\n            var needsDims = false;\n            if (typeof key === \"object\") {\n                for (var _key in key) {\n                    needsDims = needsDims || this._dimensionAffectingProps.indexOf(_key) !== -1;\n                }\n            } else {\n                needsDims = this._dimensionAffectingProps.indexOf(key) !== -1;\n            }\n            if (needsDims) {\n                this.initDimensions();\n                this.setCoords();\n            }\n            return this;\n        },\n        complexity: function() {\n            return 1;\n        }\n    });\n    fabric.Text.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\"x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor\".split(\" \"));\n    fabric.Text.DEFAULT_SVG_FONT_SIZE = 16;\n    fabric.Text.fromElement = function(element, callback, options) {\n        if (!element) {\n            return callback(null);\n        }\n        var parsedAttributes = fabric.parseAttributes(element, fabric.Text.ATTRIBUTE_NAMES), parsedAnchor = parsedAttributes.textAnchor || \"left\";\n        options = fabric.util.object.extend(options ? clone(options) : {}, parsedAttributes);\n        options.top = options.top || 0;\n        options.left = options.left || 0;\n        if (parsedAttributes.textDecoration) {\n            var textDecoration = parsedAttributes.textDecoration;\n            if (textDecoration.indexOf(\"underline\") !== -1) {\n                options.underline = true;\n            }\n            if (textDecoration.indexOf(\"overline\") !== -1) {\n                options.overline = true;\n            }\n            if (textDecoration.indexOf(\"line-through\") !== -1) {\n                options.linethrough = true;\n            }\n            delete options.textDecoration;\n        }\n        if (\"dx\" in parsedAttributes) {\n            options.left += parsedAttributes.dx;\n        }\n        if (\"dy\" in parsedAttributes) {\n            options.top += parsedAttributes.dy;\n        }\n        if (!(\"fontSize\" in options)) {\n            options.fontSize = fabric.Text.DEFAULT_SVG_FONT_SIZE;\n        }\n        var textContent = \"\";\n        if (!(\"textContent\" in element)) {\n            if (\"firstChild\" in element && element.firstChild !== null) {\n                if (\"data\" in element.firstChild && element.firstChild.data !== null) {\n                    textContent = element.firstChild.data;\n                }\n            }\n        } else {\n            textContent = element.textContent;\n        }\n        textContent = textContent.replace(/^\\s+|\\s+$|\\n+/g, \"\").replace(/\\s+/g, \" \");\n        var text = new fabric.Text(textContent, options), textHeightScaleFactor = text.getScaledHeight() / text.height, lineHeightDiff = (text.height + text.strokeWidth) * text.lineHeight - text.height, scaledDiff = lineHeightDiff * textHeightScaleFactor, textHeight = text.getScaledHeight() + scaledDiff, offX = 0;\n        if (parsedAnchor === \"center\") {\n            offX = text.getScaledWidth() / 2;\n        }\n        if (parsedAnchor === \"right\") {\n            offX = text.getScaledWidth();\n        }\n        text.set({\n            left: text.left - offX,\n            top: text.top - (textHeight - text.fontSize * (.18 + text._fontSizeFraction)) / text.lineHeight\n        });\n        callback(text);\n    };\n    fabric.Text.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Text\", object, callback, \"text\");\n    };\n    fabric.util.createAccessors && fabric.util.createAccessors(fabric.Text);\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function() {\n    fabric.util.object.extend(fabric.Text.prototype, {\n        isEmptyStyles: function(lineIndex) {\n            if (!this.styles) {\n                return true;\n            }\n            if (typeof lineIndex !== \"undefined\" && !this.styles[lineIndex]) {\n                return true;\n            }\n            var obj = typeof lineIndex === \"undefined\" ? this.styles : {\n                line: this.styles[lineIndex]\n            };\n            for (var p1 in obj) {\n                for (var p2 in obj[p1]) {\n                    for (var p3 in obj[p1][p2]) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        },\n        styleHas: function(property, lineIndex) {\n            if (!this.styles || !property || property === \"\") {\n                return false;\n            }\n            if (typeof lineIndex !== \"undefined\" && !this.styles[lineIndex]) {\n                return false;\n            }\n            var obj = typeof lineIndex === \"undefined\" ? this.styles : {\n                line: this.styles[lineIndex]\n            };\n            for (var p1 in obj) {\n                for (var p2 in obj[p1]) {\n                    if (typeof obj[p1][p2][property] !== \"undefined\") {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        },\n        cleanStyle: function(property) {\n            if (!this.styles || !property || property === \"\") {\n                return false;\n            }\n            var obj = this.styles, stylesCount = 0, letterCount, stylePropertyValue, allStyleObjectPropertiesMatch = true, graphemeCount = 0, styleObject;\n            for (var p1 in obj) {\n                letterCount = 0;\n                for (var p2 in obj[p1]) {\n                    var styleObject = obj[p1][p2], stylePropertyHasBeenSet = styleObject.hasOwnProperty(property);\n                    stylesCount++;\n                    if (stylePropertyHasBeenSet) {\n                        if (!stylePropertyValue) {\n                            stylePropertyValue = styleObject[property];\n                        } else if (styleObject[property] !== stylePropertyValue) {\n                            allStyleObjectPropertiesMatch = false;\n                        }\n                        if (styleObject[property] === this[property]) {\n                            delete styleObject[property];\n                        }\n                    } else {\n                        allStyleObjectPropertiesMatch = false;\n                    }\n                    if (Object.keys(styleObject).length !== 0) {\n                        letterCount++;\n                    } else {\n                        delete obj[p1][p2];\n                    }\n                }\n                if (letterCount === 0) {\n                    delete obj[p1];\n                }\n            }\n            for (var i = 0; i < this._textLines.length; i++) {\n                graphemeCount += this._textLines[i].length;\n            }\n            if (allStyleObjectPropertiesMatch && stylesCount === graphemeCount) {\n                this[property] = stylePropertyValue;\n                this.removeStyle(property);\n            }\n        },\n        removeStyle: function(property) {\n            if (!this.styles || !property || property === \"\") {\n                return;\n            }\n            var obj = this.styles, line, lineNum, charNum;\n            for (lineNum in obj) {\n                line = obj[lineNum];\n                for (charNum in line) {\n                    delete line[charNum][property];\n                    if (Object.keys(line[charNum]).length === 0) {\n                        delete line[charNum];\n                    }\n                }\n                if (Object.keys(line).length === 0) {\n                    delete obj[lineNum];\n                }\n            }\n        },\n        _extendStyles: function(index, styles) {\n            var loc = this.get2DCursorLocation(index);\n            if (!this._getLineStyle(loc.lineIndex)) {\n                this._setLineStyle(loc.lineIndex, {});\n            }\n            if (!this._getStyleDeclaration(loc.lineIndex, loc.charIndex)) {\n                this._setStyleDeclaration(loc.lineIndex, loc.charIndex, {});\n            }\n            fabric.util.object.extend(this._getStyleDeclaration(loc.lineIndex, loc.charIndex), styles);\n        },\n        get2DCursorLocation: function(selectionStart, skipWrapping) {\n            if (typeof selectionStart === \"undefined\") {\n                selectionStart = this.selectionStart;\n            }\n            var lines = skipWrapping ? this._unwrappedTextLines : this._textLines;\n            var len = lines.length;\n            for (var i = 0; i < len; i++) {\n                if (selectionStart <= lines[i].length) {\n                    return {\n                        lineIndex: i,\n                        charIndex: selectionStart\n                    };\n                }\n                selectionStart -= lines[i].length + 1;\n            }\n            return {\n                lineIndex: i - 1,\n                charIndex: lines[i - 1].length < selectionStart ? lines[i - 1].length : selectionStart\n            };\n        },\n        getSelectionStyles: function(startIndex, endIndex, complete) {\n            if (typeof startIndex === \"undefined\") {\n                startIndex = this.selectionStart || 0;\n            }\n            if (typeof endIndex === \"undefined\") {\n                endIndex = this.selectionEnd || startIndex;\n            }\n            var styles = [];\n            for (var i = startIndex; i < endIndex; i++) {\n                styles.push(this.getStyleAtPosition(i, complete));\n            }\n            return styles;\n        },\n        getStyleAtPosition: function(position, complete) {\n            var loc = this.get2DCursorLocation(position), style = complete ? this.getCompleteStyleDeclaration(loc.lineIndex, loc.charIndex) : this._getStyleDeclaration(loc.lineIndex, loc.charIndex);\n            return style || {};\n        },\n        setSelectionStyles: function(styles, startIndex, endIndex) {\n            if (typeof startIndex === \"undefined\") {\n                startIndex = this.selectionStart || 0;\n            }\n            if (typeof endIndex === \"undefined\") {\n                endIndex = this.selectionEnd || startIndex;\n            }\n            for (var i = startIndex; i < endIndex; i++) {\n                this._extendStyles(i, styles);\n            }\n            this._forceClearCache = true;\n            return this;\n        },\n        _getStyleDeclaration: function(lineIndex, charIndex) {\n            var lineStyle = this.styles && this.styles[lineIndex];\n            if (!lineStyle) {\n                return null;\n            }\n            return lineStyle[charIndex];\n        },\n        getCompleteStyleDeclaration: function(lineIndex, charIndex) {\n            var style = this._getStyleDeclaration(lineIndex, charIndex) || {}, styleObject = {}, prop;\n            for (var i = 0; i < this._styleProperties.length; i++) {\n                prop = this._styleProperties[i];\n                styleObject[prop] = typeof style[prop] === \"undefined\" ? this[prop] : style[prop];\n            }\n            return styleObject;\n        },\n        _setStyleDeclaration: function(lineIndex, charIndex, style) {\n            this.styles[lineIndex][charIndex] = style;\n        },\n        _deleteStyleDeclaration: function(lineIndex, charIndex) {\n            delete this.styles[lineIndex][charIndex];\n        },\n        _getLineStyle: function(lineIndex) {\n            return this.styles[lineIndex];\n        },\n        _setLineStyle: function(lineIndex, style) {\n            this.styles[lineIndex] = style;\n        },\n        _deleteLineStyle: function(lineIndex) {\n            delete this.styles[lineIndex];\n        }\n    });\n})();\n\n(function() {\n    function parseDecoration(object) {\n        if (object.textDecoration) {\n            object.textDecoration.indexOf(\"underline\") > -1 && (object.underline = true);\n            object.textDecoration.indexOf(\"line-through\") > -1 && (object.linethrough = true);\n            object.textDecoration.indexOf(\"overline\") > -1 && (object.overline = true);\n            delete object.textDecoration;\n        }\n    }\n    fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, {\n        type: \"i-text\",\n        selectionStart: 0,\n        selectionEnd: 0,\n        selectionColor: \"rgba(17,119,255,0.3)\",\n        isEditing: false,\n        editable: true,\n        editingBorderColor: \"rgba(102,153,255,0.25)\",\n        cursorWidth: 2,\n        cursorColor: \"#333\",\n        cursorDelay: 1e3,\n        cursorDuration: 600,\n        caching: true,\n        _reSpace: /\\s|\\n/,\n        _currentCursorOpacity: 0,\n        _selectionDirection: null,\n        _abortCursorAnimation: false,\n        __widthOfSpace: [],\n        inCompositionMode: false,\n        initialize: function(text, options) {\n            this.callSuper(\"initialize\", text, options);\n            this.initBehavior();\n        },\n        setSelectionStart: function(index) {\n            index = Math.max(index, 0);\n            this._updateAndFire(\"selectionStart\", index);\n        },\n        setSelectionEnd: function(index) {\n            index = Math.min(index, this.text.length);\n            this._updateAndFire(\"selectionEnd\", index);\n        },\n        _updateAndFire: function(property, index) {\n            if (this[property] !== index) {\n                this._fireSelectionChanged();\n                this[property] = index;\n            }\n            this._updateTextarea();\n        },\n        _fireSelectionChanged: function() {\n            this.fire(\"selection:changed\");\n            this.canvas && this.canvas.fire(\"text:selection:changed\", {\n                target: this\n            });\n        },\n        initDimensions: function() {\n            this.isEditing && this.initDelayedCursor();\n            this.clearContextTop();\n            this.callSuper(\"initDimensions\");\n        },\n        render: function(ctx) {\n            this.clearContextTop();\n            this.callSuper(\"render\", ctx);\n            this.cursorOffsetCache = {};\n            this.renderCursorOrSelection();\n        },\n        _render: function(ctx) {\n            this.callSuper(\"_render\", ctx);\n        },\n        clearContextTop: function(skipRestore) {\n            if (!this.isEditing) {\n                return;\n            }\n            if (this.canvas && this.canvas.contextTop) {\n                var ctx = this.canvas.contextTop, v = this.canvas.viewportTransform;\n                ctx.save();\n                ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n                this.transform(ctx);\n                this.transformMatrix && ctx.transform.apply(ctx, this.transformMatrix);\n                this._clearTextArea(ctx);\n                skipRestore || ctx.restore();\n            }\n        },\n        renderCursorOrSelection: function() {\n            if (!this.isEditing || !this.canvas) {\n                return;\n            }\n            var boundaries = this._getCursorBoundaries(), ctx;\n            if (this.canvas && this.canvas.contextTop) {\n                ctx = this.canvas.contextTop;\n                this.clearContextTop(true);\n            } else {\n                ctx = this.canvas.contextContainer;\n                ctx.save();\n            }\n            if (this.selectionStart === this.selectionEnd) {\n                this.renderCursor(boundaries, ctx);\n            } else {\n                this.renderSelection(boundaries, ctx);\n            }\n            ctx.restore();\n        },\n        _clearTextArea: function(ctx) {\n            var width = this.width + 4, height = this.height + 4;\n            ctx.clearRect(-width / 2, -height / 2, width, height);\n        },\n        _getCursorBoundaries: function(position) {\n            if (typeof position === \"undefined\") {\n                position = this.selectionStart;\n            }\n            var left = this._getLeftOffset(), top = this._getTopOffset(), offsets = this._getCursorBoundariesOffsets(position);\n            return {\n                left: left,\n                top: top,\n                leftOffset: offsets.left,\n                topOffset: offsets.top\n            };\n        },\n        _getCursorBoundariesOffsets: function(position) {\n            if (this.cursorOffsetCache && \"top\" in this.cursorOffsetCache) {\n                return this.cursorOffsetCache;\n            }\n            var lineLeftOffset, lineIndex = 0, charIndex = 0, topOffset = 0, leftOffset = 0, boundaries, cursorPosition = this.get2DCursorLocation(position);\n            for (var i = 0; i < cursorPosition.lineIndex; i++) {\n                topOffset += this.getHeightOfLine(i);\n            }\n            lineLeftOffset = this._getLineLeftOffset(cursorPosition.lineIndex);\n            var bound = this.__charBounds[cursorPosition.lineIndex][cursorPosition.charIndex];\n            bound && (leftOffset = bound.left);\n            if (this.charSpacing !== 0 && charIndex === this._textLines[lineIndex].length) {\n                leftOffset -= this._getWidthOfCharSpacing();\n            }\n            boundaries = {\n                top: topOffset,\n                left: lineLeftOffset + (leftOffset > 0 ? leftOffset : 0)\n            };\n            this.cursorOffsetCache = boundaries;\n            return this.cursorOffsetCache;\n        },\n        renderCursor: function(boundaries, ctx) {\n            var cursorLocation = this.get2DCursorLocation(), lineIndex = cursorLocation.lineIndex, charIndex = cursorLocation.charIndex > 0 ? cursorLocation.charIndex - 1 : 0, charHeight = this.getValueOfPropertyAt(lineIndex, charIndex, \"fontSize\"), multiplier = this.scaleX * this.canvas.getZoom(), cursorWidth = this.cursorWidth / multiplier, topOffset = boundaries.topOffset, dy = this.getValueOfPropertyAt(lineIndex, charIndex, \"deltaY\");\n            topOffset += (1 - this._fontSizeFraction) * this.getHeightOfLine(lineIndex) / this.lineHeight - charHeight * (1 - this._fontSizeFraction);\n            if (this.inCompositionMode) {\n                this.renderSelection(boundaries, ctx);\n            }\n            ctx.fillStyle = this.getValueOfPropertyAt(lineIndex, charIndex, \"fill\");\n            ctx.globalAlpha = this.__isMousedown ? 1 : this._currentCursorOpacity;\n            ctx.fillRect(boundaries.left + boundaries.leftOffset - cursorWidth / 2, topOffset + boundaries.top + dy, cursorWidth, charHeight);\n        },\n        renderSelection: function(boundaries, ctx) {\n            var selectionStart = this.inCompositionMode ? this.hiddenTextarea.selectionStart : this.selectionStart, selectionEnd = this.inCompositionMode ? this.hiddenTextarea.selectionEnd : this.selectionEnd, isJustify = this.textAlign.indexOf(\"justify\") !== -1, start = this.get2DCursorLocation(selectionStart), end = this.get2DCursorLocation(selectionEnd), startLine = start.lineIndex, endLine = end.lineIndex, startChar = start.charIndex < 0 ? 0 : start.charIndex, endChar = end.charIndex < 0 ? 0 : end.charIndex;\n            for (var i = startLine; i <= endLine; i++) {\n                var lineOffset = this._getLineLeftOffset(i) || 0, lineHeight = this.getHeightOfLine(i), realLineHeight = 0, boxStart = 0, boxEnd = 0;\n                if (i === startLine) {\n                    boxStart = this.__charBounds[startLine][startChar].left;\n                }\n                if (i >= startLine && i < endLine) {\n                    boxEnd = isJustify && !this.isEndOfWrapping(i) ? this.width : this.getLineWidth(i) || 5;\n                } else if (i === endLine) {\n                    if (endChar === 0) {\n                        boxEnd = this.__charBounds[endLine][endChar].left;\n                    } else {\n                        boxEnd = this.__charBounds[endLine][endChar - 1].left + this.__charBounds[endLine][endChar - 1].width;\n                    }\n                }\n                realLineHeight = lineHeight;\n                if (this.lineHeight < 1 || i === endLine && this.lineHeight > 1) {\n                    lineHeight /= this.lineHeight;\n                }\n                if (this.inCompositionMode) {\n                    ctx.fillStyle = this.compositionColor || \"black\";\n                    ctx.fillRect(boundaries.left + lineOffset + boxStart, boundaries.top + boundaries.topOffset + lineHeight, boxEnd - boxStart, 1);\n                } else {\n                    ctx.fillStyle = this.selectionColor;\n                    ctx.fillRect(boundaries.left + lineOffset + boxStart, boundaries.top + boundaries.topOffset, boxEnd - boxStart, lineHeight);\n                }\n                boundaries.topOffset += realLineHeight;\n            }\n        },\n        getCurrentCharFontSize: function() {\n            var cp = this._getCurrentCharIndex();\n            return this.getValueOfPropertyAt(cp.l, cp.c, \"fontSize\");\n        },\n        getCurrentCharColor: function() {\n            var cp = this._getCurrentCharIndex();\n            return this.getValueOfPropertyAt(cp.l, cp.c, \"fill\");\n        },\n        _getCurrentCharIndex: function() {\n            var cursorPosition = this.get2DCursorLocation(this.selectionStart, true), charIndex = cursorPosition.charIndex > 0 ? cursorPosition.charIndex - 1 : 0;\n            return {\n                l: cursorPosition.lineIndex,\n                c: charIndex\n            };\n        }\n    });\n    fabric.IText.fromObject = function(object, callback) {\n        parseDecoration(object);\n        if (object.styles) {\n            for (var i in object.styles) {\n                for (var j in object.styles[i]) {\n                    parseDecoration(object.styles[i][j]);\n                }\n            }\n        }\n        fabric.Object._fromObject(\"IText\", object, callback, \"text\");\n    };\n})();\n\n(function() {\n    var clone = fabric.util.object.clone;\n    fabric.util.object.extend(fabric.IText.prototype, {\n        initBehavior: function() {\n            this.initAddedHandler();\n            this.initRemovedHandler();\n            this.initCursorSelectionHandlers();\n            this.initDoubleClickSimulation();\n            this.mouseMoveHandler = this.mouseMoveHandler.bind(this);\n        },\n        onDeselect: function(options) {\n            this.isEditing && this.exitEditing();\n            this.selected = false;\n            fabric.Object.prototype.onDeselect.call(this, options);\n        },\n        initAddedHandler: function() {\n            var _this = this;\n            this.on(\"added\", function() {\n                var canvas = _this.canvas;\n                if (canvas) {\n                    if (!canvas._hasITextHandlers) {\n                        canvas._hasITextHandlers = true;\n                        _this._initCanvasHandlers(canvas);\n                    }\n                    canvas._iTextInstances = canvas._iTextInstances || [];\n                    canvas._iTextInstances.push(_this);\n                }\n            });\n        },\n        initRemovedHandler: function() {\n            var _this = this;\n            this.on(\"removed\", function() {\n                var canvas = _this.canvas;\n                if (canvas) {\n                    canvas._iTextInstances = canvas._iTextInstances || [];\n                    fabric.util.removeFromArray(canvas._iTextInstances, _this);\n                    if (canvas._iTextInstances.length === 0) {\n                        canvas._hasITextHandlers = false;\n                        _this._removeCanvasHandlers(canvas);\n                    }\n                }\n            });\n        },\n        _initCanvasHandlers: function(canvas) {\n            canvas._mouseUpITextHandler = function() {\n                if (canvas._iTextInstances) {\n                    canvas._iTextInstances.forEach(function(obj) {\n                        obj.__isMousedown = false;\n                    });\n                }\n            }.bind(this);\n            canvas.on(\"mouse:up\", canvas._mouseUpITextHandler);\n        },\n        _removeCanvasHandlers: function(canvas) {\n            canvas.off(\"mouse:up\", canvas._mouseUpITextHandler);\n        },\n        _tick: function() {\n            this._currentTickState = this._animateCursor(this, 1, this.cursorDuration, \"_onTickComplete\");\n        },\n        _animateCursor: function(obj, targetOpacity, duration, completeMethod) {\n            var tickState;\n            tickState = {\n                isAborted: false,\n                abort: function() {\n                    this.isAborted = true;\n                }\n            };\n            obj.animate(\"_currentCursorOpacity\", targetOpacity, {\n                duration: duration,\n                onComplete: function() {\n                    if (!tickState.isAborted) {\n                        obj[completeMethod]();\n                    }\n                },\n                onChange: function() {\n                    if (obj.canvas && obj.selectionStart === obj.selectionEnd) {\n                        obj.renderCursorOrSelection();\n                    }\n                },\n                abort: function() {\n                    return tickState.isAborted;\n                }\n            });\n            return tickState;\n        },\n        _onTickComplete: function() {\n            var _this = this;\n            if (this._cursorTimeout1) {\n                clearTimeout(this._cursorTimeout1);\n            }\n            this._cursorTimeout1 = setTimeout(function() {\n                _this._currentTickCompleteState = _this._animateCursor(_this, 0, this.cursorDuration / 2, \"_tick\");\n            }, 100);\n        },\n        initDelayedCursor: function(restart) {\n            var _this = this, delay = restart ? 0 : this.cursorDelay;\n            this.abortCursorAnimation();\n            this._currentCursorOpacity = 1;\n            this._cursorTimeout2 = setTimeout(function() {\n                _this._tick();\n            }, delay);\n        },\n        abortCursorAnimation: function() {\n            var shouldClear = this._currentTickState || this._currentTickCompleteState, canvas = this.canvas;\n            this._currentTickState && this._currentTickState.abort();\n            this._currentTickCompleteState && this._currentTickCompleteState.abort();\n            clearTimeout(this._cursorTimeout1);\n            clearTimeout(this._cursorTimeout2);\n            this._currentCursorOpacity = 0;\n            if (shouldClear && canvas) {\n                canvas.clearContext(canvas.contextTop || canvas.contextContainer);\n            }\n        },\n        selectAll: function() {\n            this.selectionStart = 0;\n            this.selectionEnd = this._text.length;\n            this._fireSelectionChanged();\n            this._updateTextarea();\n            return this;\n        },\n        getSelectedText: function() {\n            return this._text.slice(this.selectionStart, this.selectionEnd).join(\"\");\n        },\n        findWordBoundaryLeft: function(startFrom) {\n            var offset = 0, index = startFrom - 1;\n            if (this._reSpace.test(this._text[index])) {\n                while (this._reSpace.test(this._text[index])) {\n                    offset++;\n                    index--;\n                }\n            }\n            while (/\\S/.test(this._text[index]) && index > -1) {\n                offset++;\n                index--;\n            }\n            return startFrom - offset;\n        },\n        findWordBoundaryRight: function(startFrom) {\n            var offset = 0, index = startFrom;\n            if (this._reSpace.test(this._text[index])) {\n                while (this._reSpace.test(this._text[index])) {\n                    offset++;\n                    index++;\n                }\n            }\n            while (/\\S/.test(this._text[index]) && index < this.text.length) {\n                offset++;\n                index++;\n            }\n            return startFrom + offset;\n        },\n        findLineBoundaryLeft: function(startFrom) {\n            var offset = 0, index = startFrom - 1;\n            while (!/\\n/.test(this._text[index]) && index > -1) {\n                offset++;\n                index--;\n            }\n            return startFrom - offset;\n        },\n        findLineBoundaryRight: function(startFrom) {\n            var offset = 0, index = startFrom;\n            while (!/\\n/.test(this._text[index]) && index < this.text.length) {\n                offset++;\n                index++;\n            }\n            return startFrom + offset;\n        },\n        searchWordBoundary: function(selectionStart, direction) {\n            var index = this._reSpace.test(this.text.charAt(selectionStart)) ? selectionStart - 1 : selectionStart, _char = this.text.charAt(index), reNonWord = /[ \\n\\.,;!\\?\\-]/;\n            while (!reNonWord.test(_char) && index > 0 && index < this.text.length) {\n                index += direction;\n                _char = this.text.charAt(index);\n            }\n            if (reNonWord.test(_char) && _char !== \"\\n\") {\n                index += direction === 1 ? 0 : 1;\n            }\n            return index;\n        },\n        selectWord: function(selectionStart) {\n            selectionStart = selectionStart || this.selectionStart;\n            var newSelectionStart = this.searchWordBoundary(selectionStart, -1), newSelectionEnd = this.searchWordBoundary(selectionStart, 1);\n            this.selectionStart = newSelectionStart;\n            this.selectionEnd = newSelectionEnd;\n            this._fireSelectionChanged();\n            this._updateTextarea();\n            this.renderCursorOrSelection();\n        },\n        selectLine: function(selectionStart) {\n            selectionStart = selectionStart || this.selectionStart;\n            var newSelectionStart = this.findLineBoundaryLeft(selectionStart), newSelectionEnd = this.findLineBoundaryRight(selectionStart);\n            this.selectionStart = newSelectionStart;\n            this.selectionEnd = newSelectionEnd;\n            this._fireSelectionChanged();\n            this._updateTextarea();\n            return this;\n        },\n        enterEditing: function(e) {\n            if (this.isEditing || !this.editable) {\n                return;\n            }\n            if (this.canvas) {\n                this.canvas.calcOffset();\n                this.exitEditingOnOthers(this.canvas);\n            }\n            this.isEditing = true;\n            this.initHiddenTextarea(e);\n            this.hiddenTextarea.focus();\n            this.hiddenTextarea.value = this.text;\n            this._updateTextarea();\n            this._saveEditingProps();\n            this._setEditingProps();\n            this._textBeforeEdit = this.text;\n            this._tick();\n            this.fire(\"editing:entered\");\n            this._fireSelectionChanged();\n            if (!this.canvas) {\n                return this;\n            }\n            this.canvas.fire(\"text:editing:entered\", {\n                target: this\n            });\n            this.initMouseMoveHandler();\n            this.canvas.requestRenderAll();\n            return this;\n        },\n        exitEditingOnOthers: function(canvas) {\n            if (canvas._iTextInstances) {\n                canvas._iTextInstances.forEach(function(obj) {\n                    obj.selected = false;\n                    if (obj.isEditing) {\n                        obj.exitEditing();\n                    }\n                });\n            }\n        },\n        initMouseMoveHandler: function() {\n            this.canvas.on(\"mouse:move\", this.mouseMoveHandler);\n        },\n        mouseMoveHandler: function(options) {\n            if (!this.__isMousedown || !this.isEditing) {\n                return;\n            }\n            var newSelectionStart = this.getSelectionStartFromPointer(options.e), currentStart = this.selectionStart, currentEnd = this.selectionEnd;\n            if ((newSelectionStart !== this.__selectionStartOnMouseDown || currentStart === currentEnd) && (currentStart === newSelectionStart || currentEnd === newSelectionStart)) {\n                return;\n            }\n            if (newSelectionStart > this.__selectionStartOnMouseDown) {\n                this.selectionStart = this.__selectionStartOnMouseDown;\n                this.selectionEnd = newSelectionStart;\n            } else {\n                this.selectionStart = newSelectionStart;\n                this.selectionEnd = this.__selectionStartOnMouseDown;\n            }\n            if (this.selectionStart !== currentStart || this.selectionEnd !== currentEnd) {\n                this.restartCursorIfNeeded();\n                this._fireSelectionChanged();\n                this._updateTextarea();\n                this.renderCursorOrSelection();\n            }\n        },\n        _setEditingProps: function() {\n            this.hoverCursor = \"text\";\n            if (this.canvas) {\n                this.canvas.defaultCursor = this.canvas.moveCursor = \"text\";\n            }\n            this.borderColor = this.editingBorderColor;\n            this.hasControls = this.selectable = false;\n            this.lockMovementX = this.lockMovementY = true;\n        },\n        fromStringToGraphemeSelection: function(start, end, text) {\n            var smallerTextStart = text.slice(0, start), graphemeStart = fabric.util.string.graphemeSplit(smallerTextStart).length;\n            if (start === end) {\n                return {\n                    selectionStart: graphemeStart,\n                    selectionEnd: graphemeStart\n                };\n            }\n            var smallerTextEnd = text.slice(start, end), graphemeEnd = fabric.util.string.graphemeSplit(smallerTextEnd).length;\n            return {\n                selectionStart: graphemeStart,\n                selectionEnd: graphemeStart + graphemeEnd\n            };\n        },\n        fromGraphemeToStringSelection: function(start, end, _text) {\n            var smallerTextStart = _text.slice(0, start), graphemeStart = smallerTextStart.join(\"\").length;\n            if (start === end) {\n                return {\n                    selectionStart: graphemeStart,\n                    selectionEnd: graphemeStart\n                };\n            }\n            var smallerTextEnd = _text.slice(start, end), graphemeEnd = smallerTextEnd.join(\"\").length;\n            return {\n                selectionStart: graphemeStart,\n                selectionEnd: graphemeStart + graphemeEnd\n            };\n        },\n        _updateTextarea: function() {\n            this.cursorOffsetCache = {};\n            if (!this.hiddenTextarea) {\n                return;\n            }\n            if (!this.inCompositionMode) {\n                var newSelection = this.fromGraphemeToStringSelection(this.selectionStart, this.selectionEnd, this._text);\n                this.hiddenTextarea.selectionStart = newSelection.selectionStart;\n                this.hiddenTextarea.selectionEnd = newSelection.selectionEnd;\n            }\n            this.updateTextareaPosition();\n        },\n        updateFromTextArea: function() {\n            if (!this.hiddenTextarea) {\n                return;\n            }\n            this.cursorOffsetCache = {};\n            this.text = this.hiddenTextarea.value;\n            if (this._shouldClearDimensionCache()) {\n                this.initDimensions();\n                this.setCoords();\n            }\n            var newSelection = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd, this.hiddenTextarea.value);\n            this.selectionEnd = this.selectionStart = newSelection.selectionEnd;\n            if (!this.inCompositionMode) {\n                this.selectionStart = newSelection.selectionStart;\n            }\n            this.updateTextareaPosition();\n        },\n        updateTextareaPosition: function() {\n            if (this.selectionStart === this.selectionEnd) {\n                var style = this._calcTextareaPosition();\n                this.hiddenTextarea.style.left = style.left;\n                this.hiddenTextarea.style.top = style.top;\n            }\n        },\n        _calcTextareaPosition: function() {\n            if (!this.canvas) {\n                return {\n                    x: 1,\n                    y: 1\n                };\n            }\n            var desiredPostion = this.inCompositionMode ? this.compositionStart : this.selectionStart, boundaries = this._getCursorBoundaries(desiredPostion), cursorLocation = this.get2DCursorLocation(desiredPostion), lineIndex = cursorLocation.lineIndex, charIndex = cursorLocation.charIndex, charHeight = this.getValueOfPropertyAt(lineIndex, charIndex, \"fontSize\") * this.lineHeight, leftOffset = boundaries.leftOffset, m = this.calcTransformMatrix(), p = {\n                x: boundaries.left + leftOffset,\n                y: boundaries.top + boundaries.topOffset + charHeight\n            }, upperCanvas = this.canvas.upperCanvasEl, upperCanvasWidth = upperCanvas.width, upperCanvasHeight = upperCanvas.height, maxWidth = upperCanvasWidth - charHeight, maxHeight = upperCanvasHeight - charHeight, scaleX = upperCanvas.clientWidth / upperCanvasWidth, scaleY = upperCanvas.clientHeight / upperCanvasHeight;\n            p = fabric.util.transformPoint(p, m);\n            p = fabric.util.transformPoint(p, this.canvas.viewportTransform);\n            p.x *= scaleX;\n            p.y *= scaleY;\n            if (p.x < 0) {\n                p.x = 0;\n            }\n            if (p.x > maxWidth) {\n                p.x = maxWidth;\n            }\n            if (p.y < 0) {\n                p.y = 0;\n            }\n            if (p.y > maxHeight) {\n                p.y = maxHeight;\n            }\n            p.x += this.canvas._offset.left;\n            p.y += this.canvas._offset.top;\n            return {\n                left: p.x + \"px\",\n                top: p.y + \"px\",\n                fontSize: charHeight + \"px\",\n                charHeight: charHeight\n            };\n        },\n        _saveEditingProps: function() {\n            this._savedProps = {\n                hasControls: this.hasControls,\n                borderColor: this.borderColor,\n                lockMovementX: this.lockMovementX,\n                lockMovementY: this.lockMovementY,\n                hoverCursor: this.hoverCursor,\n                defaultCursor: this.canvas && this.canvas.defaultCursor,\n                moveCursor: this.canvas && this.canvas.moveCursor\n            };\n        },\n        _restoreEditingProps: function() {\n            if (!this._savedProps) {\n                return;\n            }\n            this.hoverCursor = this._savedProps.hoverCursor;\n            this.hasControls = this._savedProps.hasControls;\n            this.borderColor = this._savedProps.borderColor;\n            this.lockMovementX = this._savedProps.lockMovementX;\n            this.lockMovementY = this._savedProps.lockMovementY;\n            if (this.canvas) {\n                this.canvas.defaultCursor = this._savedProps.defaultCursor;\n                this.canvas.moveCursor = this._savedProps.moveCursor;\n            }\n        },\n        exitEditing: function() {\n            var isTextChanged = this._textBeforeEdit !== this.text;\n            this.selected = false;\n            this.isEditing = false;\n            this.selectable = true;\n            this.selectionEnd = this.selectionStart;\n            if (this.hiddenTextarea) {\n                this.hiddenTextarea.blur && this.hiddenTextarea.blur();\n                this.canvas && this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea);\n                this.hiddenTextarea = null;\n            }\n            this.abortCursorAnimation();\n            this._restoreEditingProps();\n            this._currentCursorOpacity = 0;\n            if (this._shouldClearDimensionCache()) {\n                this.initDimensions();\n                this.setCoords();\n            }\n            this.fire(\"editing:exited\");\n            isTextChanged && this.fire(\"modified\");\n            if (this.canvas) {\n                this.canvas.off(\"mouse:move\", this.mouseMoveHandler);\n                this.canvas.fire(\"text:editing:exited\", {\n                    target: this\n                });\n                isTextChanged && this.canvas.fire(\"object:modified\", {\n                    target: this\n                });\n            }\n            return this;\n        },\n        _removeExtraneousStyles: function() {\n            for (var prop in this.styles) {\n                if (!this._textLines[prop]) {\n                    delete this.styles[prop];\n                }\n            }\n        },\n        removeStyleFromTo: function(start, end) {\n            var cursorStart = this.get2DCursorLocation(start, true), cursorEnd = this.get2DCursorLocation(end, true), lineStart = cursorStart.lineIndex, charStart = cursorStart.charIndex, lineEnd = cursorEnd.lineIndex, charEnd = cursorEnd.charIndex, i, styleObj;\n            if (lineStart !== lineEnd) {\n                if (this.styles[lineStart]) {\n                    for (i = charStart; i < this._unwrappedTextLines[lineStart].length; i++) {\n                        delete this.styles[lineStart][i];\n                    }\n                }\n                if (this.styles[lineEnd]) {\n                    for (i = charEnd; i < this._unwrappedTextLines[lineEnd].length; i++) {\n                        styleObj = this.styles[lineEnd][i];\n                        if (styleObj) {\n                            this.styles[lineStart] || (this.styles[lineStart] = {});\n                            this.styles[lineStart][charStart + i - charEnd] = styleObj;\n                        }\n                    }\n                }\n                for (i = lineStart + 1; i <= lineEnd; i++) {\n                    delete this.styles[i];\n                }\n                this.shiftLineStyles(lineEnd, lineStart - lineEnd);\n            } else {\n                if (this.styles[lineStart]) {\n                    styleObj = this.styles[lineStart];\n                    var diff = charEnd - charStart, numericChar, _char;\n                    for (i = charStart; i < charEnd; i++) {\n                        delete styleObj[i];\n                    }\n                    for (_char in this.styles[lineStart]) {\n                        numericChar = parseInt(_char, 10);\n                        if (numericChar >= charEnd) {\n                            styleObj[numericChar - diff] = styleObj[_char];\n                            delete styleObj[_char];\n                        }\n                    }\n                }\n            }\n        },\n        shiftLineStyles: function(lineIndex, offset) {\n            var clonedStyles = clone(this.styles);\n            for (var line in this.styles) {\n                var numericLine = parseInt(line, 10);\n                if (numericLine > lineIndex) {\n                    this.styles[numericLine + offset] = clonedStyles[numericLine];\n                    if (!clonedStyles[numericLine - offset]) {\n                        delete this.styles[numericLine];\n                    }\n                }\n            }\n        },\n        restartCursorIfNeeded: function() {\n            if (!this._currentTickState || this._currentTickState.isAborted || !this._currentTickCompleteState || this._currentTickCompleteState.isAborted) {\n                this.initDelayedCursor();\n            }\n        },\n        insertNewlineStyleObject: function(lineIndex, charIndex, qty, copiedStyle) {\n            var currentCharStyle, newLineStyles = {}, somethingAdded = false;\n            qty || (qty = 1);\n            this.shiftLineStyles(lineIndex, qty);\n            if (this.styles[lineIndex]) {\n                currentCharStyle = this.styles[lineIndex][charIndex === 0 ? charIndex : charIndex - 1];\n            }\n            for (var index in this.styles[lineIndex]) {\n                var numIndex = parseInt(index, 10);\n                if (numIndex >= charIndex) {\n                    somethingAdded = true;\n                    newLineStyles[numIndex - charIndex] = this.styles[lineIndex][index];\n                    delete this.styles[lineIndex][index];\n                }\n            }\n            if (somethingAdded) {\n                this.styles[lineIndex + qty] = newLineStyles;\n            } else {\n                delete this.styles[lineIndex + qty];\n            }\n            while (qty > 1) {\n                qty--;\n                if (copiedStyle && copiedStyle[qty]) {\n                    this.styles[lineIndex + qty] = {\n                        0: clone(copiedStyle[qty])\n                    };\n                } else if (currentCharStyle) {\n                    this.styles[lineIndex + qty] = {\n                        0: clone(currentCharStyle)\n                    };\n                } else {\n                    delete this.styles[lineIndex + qty];\n                }\n            }\n            this._forceClearCache = true;\n        },\n        insertCharStyleObject: function(lineIndex, charIndex, quantity, copiedStyle) {\n            if (!this.styles) {\n                this.styles = {};\n            }\n            var currentLineStyles = this.styles[lineIndex], currentLineStylesCloned = currentLineStyles ? clone(currentLineStyles) : {};\n            quantity || (quantity = 1);\n            for (var index in currentLineStylesCloned) {\n                var numericIndex = parseInt(index, 10);\n                if (numericIndex >= charIndex) {\n                    currentLineStyles[numericIndex + quantity] = currentLineStylesCloned[numericIndex];\n                    if (!currentLineStylesCloned[numericIndex - quantity]) {\n                        delete currentLineStyles[numericIndex];\n                    }\n                }\n            }\n            this._forceClearCache = true;\n            if (copiedStyle) {\n                while (quantity--) {\n                    if (!Object.keys(copiedStyle[quantity]).length) {\n                        continue;\n                    }\n                    if (!this.styles[lineIndex]) {\n                        this.styles[lineIndex] = {};\n                    }\n                    this.styles[lineIndex][charIndex + quantity] = clone(copiedStyle[quantity]);\n                }\n                return;\n            }\n            if (!currentLineStyles) {\n                return;\n            }\n            var newStyle = currentLineStyles[charIndex ? charIndex - 1 : 1];\n            while (newStyle && quantity--) {\n                this.styles[lineIndex][charIndex + quantity] = clone(newStyle);\n            }\n        },\n        insertNewStyleBlock: function(insertedText, start, copiedStyle) {\n            var cursorLoc = this.get2DCursorLocation(start, true), addedLines = [ 0 ], linesLenght = 0;\n            for (var i = 0; i < insertedText.length; i++) {\n                if (insertedText[i] === \"\\n\") {\n                    linesLenght++;\n                    addedLines[linesLenght] = 0;\n                } else {\n                    addedLines[linesLenght]++;\n                }\n            }\n            if (addedLines[0] > 0) {\n                this.insertCharStyleObject(cursorLoc.lineIndex, cursorLoc.charIndex, addedLines[0], copiedStyle);\n                copiedStyle = copiedStyle && copiedStyle.slice(addedLines[0] + 1);\n            }\n            linesLenght && this.insertNewlineStyleObject(cursorLoc.lineIndex, cursorLoc.charIndex + addedLines[0], linesLenght);\n            for (var i = 1; i < linesLenght; i++) {\n                if (addedLines[i] > 0) {\n                    this.insertCharStyleObject(cursorLoc.lineIndex + i, 0, addedLines[i], copiedStyle);\n                } else if (copiedStyle) {\n                    this.styles[cursorLoc.lineIndex + i][0] = copiedStyle[0];\n                }\n                copiedStyle = copiedStyle && copiedStyle.slice(addedLines[i] + 1);\n            }\n            if (addedLines[i] > 0) {\n                this.insertCharStyleObject(cursorLoc.lineIndex + i, 0, addedLines[i], copiedStyle);\n            }\n        },\n        setSelectionStartEndWithShift: function(start, end, newSelection) {\n            if (newSelection <= start) {\n                if (end === start) {\n                    this._selectionDirection = \"left\";\n                } else if (this._selectionDirection === \"right\") {\n                    this._selectionDirection = \"left\";\n                    this.selectionEnd = start;\n                }\n                this.selectionStart = newSelection;\n            } else if (newSelection > start && newSelection < end) {\n                if (this._selectionDirection === \"right\") {\n                    this.selectionEnd = newSelection;\n                } else {\n                    this.selectionStart = newSelection;\n                }\n            } else {\n                if (end === start) {\n                    this._selectionDirection = \"right\";\n                } else if (this._selectionDirection === \"left\") {\n                    this._selectionDirection = \"right\";\n                    this.selectionStart = end;\n                }\n                this.selectionEnd = newSelection;\n            }\n        },\n        setSelectionInBoundaries: function() {\n            var length = this.text.length;\n            if (this.selectionStart > length) {\n                this.selectionStart = length;\n            } else if (this.selectionStart < 0) {\n                this.selectionStart = 0;\n            }\n            if (this.selectionEnd > length) {\n                this.selectionEnd = length;\n            } else if (this.selectionEnd < 0) {\n                this.selectionEnd = 0;\n            }\n        }\n    });\n})();\n\nfabric.util.object.extend(fabric.IText.prototype, {\n    initDoubleClickSimulation: function() {\n        this.__lastClickTime = +new Date();\n        this.__lastLastClickTime = +new Date();\n        this.__lastPointer = {};\n        this.on(\"mousedown\", this.onMouseDown.bind(this));\n    },\n    onMouseDown: function(options) {\n        if (!this.canvas) {\n            return;\n        }\n        this.__newClickTime = +new Date();\n        var newPointer = this.canvas.getPointer(options.e);\n        if (this.isTripleClick(newPointer)) {\n            this.fire(\"tripleclick\", options);\n            this._stopEvent(options.e);\n        }\n        this.__lastLastClickTime = this.__lastClickTime;\n        this.__lastClickTime = this.__newClickTime;\n        this.__lastPointer = newPointer;\n        this.__lastIsEditing = this.isEditing;\n        this.__lastSelected = this.selected;\n    },\n    isTripleClick: function(newPointer) {\n        return this.__newClickTime - this.__lastClickTime < 500 && this.__lastClickTime - this.__lastLastClickTime < 500 && this.__lastPointer.x === newPointer.x && this.__lastPointer.y === newPointer.y;\n    },\n    _stopEvent: function(e) {\n        e.preventDefault && e.preventDefault();\n        e.stopPropagation && e.stopPropagation();\n    },\n    initCursorSelectionHandlers: function() {\n        this.initMousedownHandler();\n        this.initMouseupHandler();\n        this.initClicks();\n    },\n    initClicks: function() {\n        this.on(\"mousedblclick\", function(options) {\n            this.selectWord(this.getSelectionStartFromPointer(options.e));\n        });\n        this.on(\"tripleclick\", function(options) {\n            this.selectLine(this.getSelectionStartFromPointer(options.e));\n        });\n    },\n    _mouseDownHandler: function(options) {\n        if (!this.canvas || !this.editable || options.e.button && options.e.button !== 1) {\n            return;\n        }\n        var pointer = this.canvas.getPointer(options.e);\n        this.__mousedownX = pointer.x;\n        this.__mousedownY = pointer.y;\n        this.__isMousedown = true;\n        if (this.selected) {\n            this.setCursorByClick(options.e);\n        }\n        if (this.isEditing) {\n            this.__selectionStartOnMouseDown = this.selectionStart;\n            if (this.selectionStart === this.selectionEnd) {\n                this.abortCursorAnimation();\n            }\n            this.renderCursorOrSelection();\n        }\n    },\n    initMousedownHandler: function() {\n        this.on(\"mousedown\", this._mouseDownHandler);\n    },\n    _isObjectMoved: function(e) {\n        var pointer = this.canvas.getPointer(e);\n        return this.__mousedownX !== pointer.x || this.__mousedownY !== pointer.y;\n    },\n    initMouseupHandler: function() {\n        this.on(\"mouseup\", this.mouseUpHandler);\n    },\n    mouseUpHandler: function(options) {\n        this.__isMousedown = false;\n        if (!this.editable || this._isObjectMoved(options.e) || options.e.button && options.e.button !== 1) {\n            return;\n        }\n        if (this.__lastSelected && !this.__corner) {\n            this.enterEditing(options.e);\n            if (this.selectionStart === this.selectionEnd) {\n                this.initDelayedCursor(true);\n            } else {\n                this.renderCursorOrSelection();\n            }\n        }\n        this.selected = true;\n    },\n    setCursorByClick: function(e) {\n        var newSelection = this.getSelectionStartFromPointer(e), start = this.selectionStart, end = this.selectionEnd;\n        if (e.shiftKey) {\n            this.setSelectionStartEndWithShift(start, end, newSelection);\n        } else {\n            this.selectionStart = newSelection;\n            this.selectionEnd = newSelection;\n        }\n        if (this.isEditing) {\n            this._fireSelectionChanged();\n            this._updateTextarea();\n        }\n    },\n    getSelectionStartFromPointer: function(e) {\n        var mouseOffset = this.getLocalPointer(e), prevWidth = 0, width = 0, height = 0, charIndex = 0, lineIndex = 0, lineLeftOffset, line;\n        for (var i = 0, len = this._textLines.length; i < len; i++) {\n            if (height <= mouseOffset.y) {\n                height += this.getHeightOfLine(i) * this.scaleY;\n                lineIndex = i;\n                if (i > 0) {\n                    charIndex += this._textLines[i - 1].length + 1;\n                }\n            } else {\n                break;\n            }\n        }\n        lineLeftOffset = this._getLineLeftOffset(lineIndex);\n        width = lineLeftOffset * this.scaleX;\n        line = this._textLines[lineIndex];\n        for (var j = 0, jlen = line.length; j < jlen; j++) {\n            prevWidth = width;\n            width += this.__charBounds[lineIndex][j].kernedWidth * this.scaleX;\n            if (width <= mouseOffset.x) {\n                charIndex++;\n            } else {\n                break;\n            }\n        }\n        return this._getNewSelectionStartFromOffset(mouseOffset, prevWidth, width, charIndex, jlen);\n    },\n    _getNewSelectionStartFromOffset: function(mouseOffset, prevWidth, width, index, jlen) {\n        var distanceBtwLastCharAndCursor = mouseOffset.x - prevWidth, distanceBtwNextCharAndCursor = width - mouseOffset.x, offset = distanceBtwNextCharAndCursor > distanceBtwLastCharAndCursor || distanceBtwNextCharAndCursor < 0 ? 0 : 1, newSelectionStart = index + offset;\n        if (this.flipX) {\n            newSelectionStart = jlen - newSelectionStart;\n        }\n        if (newSelectionStart > this._text.length) {\n            newSelectionStart = this._text.length;\n        }\n        return newSelectionStart;\n    }\n});\n\nfabric.util.object.extend(fabric.IText.prototype, {\n    initHiddenTextarea: function() {\n        this.hiddenTextarea = fabric.document.createElement(\"textarea\");\n        this.hiddenTextarea.setAttribute(\"autocapitalize\", \"off\");\n        this.hiddenTextarea.setAttribute(\"autocorrect\", \"off\");\n        this.hiddenTextarea.setAttribute(\"autocomplete\", \"off\");\n        this.hiddenTextarea.setAttribute(\"spellcheck\", \"false\");\n        this.hiddenTextarea.setAttribute(\"data-fabric-hiddentextarea\", \"\");\n        this.hiddenTextarea.setAttribute(\"wrap\", \"off\");\n        var style = this._calcTextareaPosition();\n        this.hiddenTextarea.style.cssText = \"position: absolute; top: \" + style.top + \"; left: \" + style.left + \"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px;\" + \" line-height: 1px; paddingtop: \" + style.fontSize + \";\";\n        fabric.document.body.appendChild(this.hiddenTextarea);\n        fabric.util.addListener(this.hiddenTextarea, \"keydown\", this.onKeyDown.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"keyup\", this.onKeyUp.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"input\", this.onInput.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"copy\", this.copy.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"cut\", this.copy.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"paste\", this.paste.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"compositionstart\", this.onCompositionStart.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"compositionupdate\", this.onCompositionUpdate.bind(this));\n        fabric.util.addListener(this.hiddenTextarea, \"compositionend\", this.onCompositionEnd.bind(this));\n        if (!this._clickHandlerInitialized && this.canvas) {\n            fabric.util.addListener(this.canvas.upperCanvasEl, \"click\", this.onClick.bind(this));\n            this._clickHandlerInitialized = true;\n        }\n    },\n    keysMap: {\n        9: \"exitEditing\",\n        27: \"exitEditing\",\n        33: \"moveCursorUp\",\n        34: \"moveCursorDown\",\n        35: \"moveCursorRight\",\n        36: \"moveCursorLeft\",\n        37: \"moveCursorLeft\",\n        38: \"moveCursorUp\",\n        39: \"moveCursorRight\",\n        40: \"moveCursorDown\"\n    },\n    ctrlKeysMapUp: {\n        67: \"copy\",\n        88: \"cut\"\n    },\n    ctrlKeysMapDown: {\n        65: \"selectAll\"\n    },\n    onClick: function() {\n        this.hiddenTextarea && this.hiddenTextarea.focus();\n    },\n    onKeyDown: function(e) {\n        if (!this.isEditing || this.inCompositionMode) {\n            return;\n        }\n        if (e.keyCode in this.keysMap) {\n            this[this.keysMap[e.keyCode]](e);\n        } else if (e.keyCode in this.ctrlKeysMapDown && (e.ctrlKey || e.metaKey)) {\n            this[this.ctrlKeysMapDown[e.keyCode]](e);\n        } else {\n            return;\n        }\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        if (e.keyCode >= 33 && e.keyCode <= 40) {\n            this.clearContextTop();\n            this.renderCursorOrSelection();\n        } else {\n            this.canvas && this.canvas.requestRenderAll();\n        }\n    },\n    onKeyUp: function(e) {\n        if (!this.isEditing || this._copyDone || this.inCompositionMode) {\n            this._copyDone = false;\n            return;\n        }\n        if (e.keyCode in this.ctrlKeysMapUp && (e.ctrlKey || e.metaKey)) {\n            this[this.ctrlKeysMapUp[e.keyCode]](e);\n        } else {\n            return;\n        }\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        this.canvas && this.canvas.requestRenderAll();\n    },\n    onInput: function(e) {\n        var fromPaste = this.fromPaste;\n        this.fromPaste = false;\n        e && e.stopPropagation();\n        if (!this.isEditing) {\n            return;\n        }\n        var nextText = this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText, charCount = this._text.length, nextCharCount = nextText.length, removedText, insertedText, charDiff = nextCharCount - charCount;\n        if (this.hiddenTextarea.value === \"\") {\n            this.styles = {};\n            this.updateFromTextArea();\n            this.fire(\"changed\");\n            if (this.canvas) {\n                this.canvas.fire(\"text:changed\", {\n                    target: this\n                });\n                this.canvas.requestRenderAll();\n            }\n            return;\n        }\n        var textareaSelection = this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd, this.hiddenTextarea.value);\n        var backDelete = this.selectionStart > textareaSelection.selectionStart;\n        if (this.selectionStart !== this.selectionEnd) {\n            removedText = this._text.slice(this.selectionStart, this.selectionEnd);\n            charDiff += this.selectionEnd - this.selectionStart;\n        } else if (nextCharCount < charCount) {\n            if (backDelete) {\n                removedText = this._text.slice(this.selectionEnd + charDiff, this.selectionEnd);\n            } else {\n                removedText = this._text.slice(this.selectionStart, this.selectionStart - charDiff);\n            }\n        }\n        insertedText = nextText.slice(textareaSelection.selectionEnd - charDiff, textareaSelection.selectionEnd);\n        if (removedText && removedText.length) {\n            if (this.selectionStart !== this.selectionEnd) {\n                this.removeStyleFromTo(this.selectionStart, this.selectionEnd);\n            } else if (backDelete) {\n                this.removeStyleFromTo(this.selectionEnd - removedText.length, this.selectionEnd);\n            } else {\n                this.removeStyleFromTo(this.selectionEnd, this.selectionEnd + removedText.length);\n            }\n        }\n        if (insertedText.length) {\n            if (fromPaste && insertedText.join(\"\") === fabric.copiedText) {\n                this.insertNewStyleBlock(insertedText, this.selectionStart, fabric.copiedTextStyle);\n            } else {\n                this.insertNewStyleBlock(insertedText, this.selectionStart);\n            }\n        }\n        this.updateFromTextArea();\n        this.fire(\"changed\");\n        if (this.canvas) {\n            this.canvas.fire(\"text:changed\", {\n                target: this\n            });\n            this.canvas.requestRenderAll();\n        }\n    },\n    onCompositionStart: function() {\n        this.inCompositionMode = true;\n    },\n    onCompositionEnd: function() {\n        this.inCompositionMode = false;\n    },\n    onCompositionUpdate: function(e) {\n        this.compositionStart = e.target.selectionStart;\n        this.compositionEnd = e.target.selectionEnd;\n        this.updateTextareaPosition();\n    },\n    copy: function() {\n        if (this.selectionStart === this.selectionEnd) {\n            return;\n        }\n        fabric.copiedText = this.getSelectedText();\n        fabric.copiedTextStyle = this.getSelectionStyles(this.selectionStart, this.selectionEnd, true);\n        this._copyDone = true;\n    },\n    paste: function() {\n        this.fromPaste = true;\n    },\n    _getClipboardData: function(e) {\n        return e && e.clipboardData || fabric.window.clipboardData;\n    },\n    _getWidthBeforeCursor: function(lineIndex, charIndex) {\n        var widthBeforeCursor = this._getLineLeftOffset(lineIndex), bound;\n        if (charIndex > 0) {\n            bound = this.__charBounds[lineIndex][charIndex - 1];\n            widthBeforeCursor += bound.left + bound.width;\n        }\n        return widthBeforeCursor;\n    },\n    getDownCursorOffset: function(e, isRight) {\n        var selectionProp = this._getSelectionForOffset(e, isRight), cursorLocation = this.get2DCursorLocation(selectionProp), lineIndex = cursorLocation.lineIndex;\n        if (lineIndex === this._textLines.length - 1 || e.metaKey || e.keyCode === 34) {\n            return this._text.length - selectionProp;\n        }\n        var charIndex = cursorLocation.charIndex, widthBeforeCursor = this._getWidthBeforeCursor(lineIndex, charIndex), indexOnOtherLine = this._getIndexOnLine(lineIndex + 1, widthBeforeCursor), textAfterCursor = this._textLines[lineIndex].slice(charIndex);\n        return textAfterCursor.length + indexOnOtherLine + 2;\n    },\n    _getSelectionForOffset: function(e, isRight) {\n        if (e.shiftKey && this.selectionStart !== this.selectionEnd && isRight) {\n            return this.selectionEnd;\n        } else {\n            return this.selectionStart;\n        }\n    },\n    getUpCursorOffset: function(e, isRight) {\n        var selectionProp = this._getSelectionForOffset(e, isRight), cursorLocation = this.get2DCursorLocation(selectionProp), lineIndex = cursorLocation.lineIndex;\n        if (lineIndex === 0 || e.metaKey || e.keyCode === 33) {\n            return -selectionProp;\n        }\n        var charIndex = cursorLocation.charIndex, widthBeforeCursor = this._getWidthBeforeCursor(lineIndex, charIndex), indexOnOtherLine = this._getIndexOnLine(lineIndex - 1, widthBeforeCursor), textBeforeCursor = this._textLines[lineIndex].slice(0, charIndex);\n        return -this._textLines[lineIndex - 1].length + indexOnOtherLine - textBeforeCursor.length;\n    },\n    _getIndexOnLine: function(lineIndex, width) {\n        var line = this._textLines[lineIndex], lineLeftOffset = this._getLineLeftOffset(lineIndex), widthOfCharsOnLine = lineLeftOffset, indexOnLine = 0, charWidth, foundMatch;\n        for (var j = 0, jlen = line.length; j < jlen; j++) {\n            charWidth = this.__charBounds[lineIndex][j].width;\n            widthOfCharsOnLine += charWidth;\n            if (widthOfCharsOnLine > width) {\n                foundMatch = true;\n                var leftEdge = widthOfCharsOnLine - charWidth, rightEdge = widthOfCharsOnLine, offsetFromLeftEdge = Math.abs(leftEdge - width), offsetFromRightEdge = Math.abs(rightEdge - width);\n                indexOnLine = offsetFromRightEdge < offsetFromLeftEdge ? j : j - 1;\n                break;\n            }\n        }\n        if (!foundMatch) {\n            indexOnLine = line.length - 1;\n        }\n        return indexOnLine;\n    },\n    moveCursorDown: function(e) {\n        if (this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length) {\n            return;\n        }\n        this._moveCursorUpOrDown(\"Down\", e);\n    },\n    moveCursorUp: function(e) {\n        if (this.selectionStart === 0 && this.selectionEnd === 0) {\n            return;\n        }\n        this._moveCursorUpOrDown(\"Up\", e);\n    },\n    _moveCursorUpOrDown: function(direction, e) {\n        var action = \"get\" + direction + \"CursorOffset\", offset = this[action](e, this._selectionDirection === \"right\");\n        if (e.shiftKey) {\n            this.moveCursorWithShift(offset);\n        } else {\n            this.moveCursorWithoutShift(offset);\n        }\n        if (offset !== 0) {\n            this.setSelectionInBoundaries();\n            this.abortCursorAnimation();\n            this._currentCursorOpacity = 1;\n            this.initDelayedCursor();\n            this._fireSelectionChanged();\n            this._updateTextarea();\n        }\n    },\n    moveCursorWithShift: function(offset) {\n        var newSelection = this._selectionDirection === \"left\" ? this.selectionStart + offset : this.selectionEnd + offset;\n        this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, newSelection);\n        return offset !== 0;\n    },\n    moveCursorWithoutShift: function(offset) {\n        if (offset < 0) {\n            this.selectionStart += offset;\n            this.selectionEnd = this.selectionStart;\n        } else {\n            this.selectionEnd += offset;\n            this.selectionStart = this.selectionEnd;\n        }\n        return offset !== 0;\n    },\n    moveCursorLeft: function(e) {\n        if (this.selectionStart === 0 && this.selectionEnd === 0) {\n            return;\n        }\n        this._moveCursorLeftOrRight(\"Left\", e);\n    },\n    _move: function(e, prop, direction) {\n        var newValue;\n        if (e.altKey) {\n            newValue = this[\"findWordBoundary\" + direction](this[prop]);\n        } else if (e.metaKey || e.keyCode === 35 || e.keyCode === 36) {\n            newValue = this[\"findLineBoundary\" + direction](this[prop]);\n        } else {\n            this[prop] += direction === \"Left\" ? -1 : 1;\n            return true;\n        }\n        if (typeof newValue !== undefined && this[prop] !== newValue) {\n            this[prop] = newValue;\n            return true;\n        }\n    },\n    _moveLeft: function(e, prop) {\n        return this._move(e, prop, \"Left\");\n    },\n    _moveRight: function(e, prop) {\n        return this._move(e, prop, \"Right\");\n    },\n    moveCursorLeftWithoutShift: function(e) {\n        var change = true;\n        this._selectionDirection = \"left\";\n        if (this.selectionEnd === this.selectionStart && this.selectionStart !== 0) {\n            change = this._moveLeft(e, \"selectionStart\");\n        }\n        this.selectionEnd = this.selectionStart;\n        return change;\n    },\n    moveCursorLeftWithShift: function(e) {\n        if (this._selectionDirection === \"right\" && this.selectionStart !== this.selectionEnd) {\n            return this._moveLeft(e, \"selectionEnd\");\n        } else if (this.selectionStart !== 0) {\n            this._selectionDirection = \"left\";\n            return this._moveLeft(e, \"selectionStart\");\n        }\n    },\n    moveCursorRight: function(e) {\n        if (this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length) {\n            return;\n        }\n        this._moveCursorLeftOrRight(\"Right\", e);\n    },\n    _moveCursorLeftOrRight: function(direction, e) {\n        var actionName = \"moveCursor\" + direction + \"With\";\n        this._currentCursorOpacity = 1;\n        if (e.shiftKey) {\n            actionName += \"Shift\";\n        } else {\n            actionName += \"outShift\";\n        }\n        if (this[actionName](e)) {\n            this.abortCursorAnimation();\n            this.initDelayedCursor();\n            this._fireSelectionChanged();\n            this._updateTextarea();\n        }\n    },\n    moveCursorRightWithShift: function(e) {\n        if (this._selectionDirection === \"left\" && this.selectionStart !== this.selectionEnd) {\n            return this._moveRight(e, \"selectionStart\");\n        } else if (this.selectionEnd !== this._text.length) {\n            this._selectionDirection = \"right\";\n            return this._moveRight(e, \"selectionEnd\");\n        }\n    },\n    moveCursorRightWithoutShift: function(e) {\n        var changed = true;\n        this._selectionDirection = \"right\";\n        if (this.selectionStart === this.selectionEnd) {\n            changed = this._moveRight(e, \"selectionStart\");\n            this.selectionEnd = this.selectionStart;\n        } else {\n            this.selectionStart = this.selectionEnd;\n        }\n        return changed;\n    },\n    removeChars: function(start, end) {\n        if (typeof end === \"undefined\") {\n            end = start + 1;\n        }\n        this.removeStyleFromTo(start, end);\n        this._text.splice(start, end - start);\n        this.text = this._text.join(\"\");\n        this.set(\"dirty\", true);\n        if (this._shouldClearDimensionCache()) {\n            this.initDimensions();\n            this.setCoords();\n        }\n        this._removeExtraneousStyles();\n    },\n    insertChars: function(text, style, start, end) {\n        if (typeof end === \"undefined\") {\n            end = start;\n        }\n        if (end > start) {\n            this.removeStyleFromTo(start, end);\n        }\n        var graphemes = fabric.util.string.graphemeSplit(text);\n        this.insertNewStyleBlock(graphemes, start, style);\n        this._text = [].concat(this._text.slice(0, start), graphemes, this._text.slice(end));\n        this.text = this._text.join(\"\");\n        this.set(\"dirty\", true);\n        if (this._shouldClearDimensionCache()) {\n            this.initDimensions();\n            this.setCoords();\n        }\n        this._removeExtraneousStyles();\n    }\n});\n\n(function() {\n    var toFixed = fabric.util.toFixed, multipleSpacesRegex = /  +/g;\n    fabric.util.object.extend(fabric.Text.prototype, {\n        toSVG: function(reviver) {\n            var markup = this._createBaseSVGMarkup(), offsets = this._getSVGLeftTopOffsets(), textAndBg = this._getSVGTextAndBg(offsets.textTop, offsets.textLeft);\n            this._wrapSVGTextAndBg(markup, textAndBg);\n            return reviver ? reviver(markup.join(\"\")) : markup.join(\"\");\n        },\n        _getSVGLeftTopOffsets: function() {\n            return {\n                textLeft: -this.width / 2,\n                textTop: -this.height / 2,\n                lineTop: this.getHeightOfLine(0)\n            };\n        },\n        _wrapSVGTextAndBg: function(markup, textAndBg) {\n            var noShadow = true, filter = this.getSvgFilter(), style = filter === \"\" ? \"\" : ' style=\"' + filter + '\"', textDecoration = this.getSvgTextDecoration(this);\n            markup.push(\"\\t<g \", this.getSvgId(), 'transform=\"', this.getSvgTransform(), this.getSvgTransformMatrix(), '\"', style, \">\\n\", textAndBg.textBgRects.join(\"\"), '\\t\\t<text xml:space=\"preserve\" ', this.fontFamily ? 'font-family=\"' + this.fontFamily.replace(/\"/g, \"'\") + '\" ' : \"\", this.fontSize ? 'font-size=\"' + this.fontSize + '\" ' : \"\", this.fontStyle ? 'font-style=\"' + this.fontStyle + '\" ' : \"\", this.fontWeight ? 'font-weight=\"' + this.fontWeight + '\" ' : \"\", textDecoration ? 'text-decoration=\"' + textDecoration + '\" ' : \"\", 'style=\"', this.getSvgStyles(noShadow), '\"', this.addPaintOrder(), \" >\", textAndBg.textSpans.join(\"\"), \"</text>\\n\", \"\\t</g>\\n\");\n        },\n        _getSVGTextAndBg: function(textTopOffset, textLeftOffset) {\n            var textSpans = [], textBgRects = [], height = textTopOffset, lineOffset;\n            this._setSVGBg(textBgRects);\n            for (var i = 0, len = this._textLines.length; i < len; i++) {\n                lineOffset = this._getLineLeftOffset(i);\n                if (this.textBackgroundColor || this.styleHas(\"textBackgroundColor\", i)) {\n                    this._setSVGTextLineBg(textBgRects, i, textLeftOffset + lineOffset, height);\n                }\n                this._setSVGTextLineText(textSpans, i, textLeftOffset + lineOffset, height);\n                height += this.getHeightOfLine(i);\n            }\n            return {\n                textSpans: textSpans,\n                textBgRects: textBgRects\n            };\n        },\n        _createTextCharSpan: function(_char, styleDecl, left, top) {\n            var shouldUseWhitespace = _char !== _char.trim() || _char.match(multipleSpacesRegex), styleProps = this.getSvgSpanStyles(styleDecl, shouldUseWhitespace), fillStyles = styleProps ? 'style=\"' + styleProps + '\"' : \"\", dy = styleDecl.deltaY, dySpan = \"\", NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n            if (dy) {\n                dySpan = ' dy=\"' + toFixed(dy, NUM_FRACTION_DIGITS) + '\" ';\n            }\n            return [ '<tspan x=\"', toFixed(left, NUM_FRACTION_DIGITS), '\" y=\"', toFixed(top, NUM_FRACTION_DIGITS), '\" ', dySpan, fillStyles, \">\", fabric.util.string.escapeXml(_char), \"</tspan>\" ].join(\"\");\n        },\n        _setSVGTextLineText: function(textSpans, lineIndex, textLeftOffset, textTopOffset) {\n            var lineHeight = this.getHeightOfLine(lineIndex), isJustify = this.textAlign.indexOf(\"justify\") !== -1, actualStyle, nextStyle, charsToRender = \"\", charBox, style, boxWidth = 0, line = this._textLines[lineIndex], timeToRender;\n            textTopOffset += lineHeight * (1 - this._fontSizeFraction) / this.lineHeight;\n            for (var i = 0, len = line.length - 1; i <= len; i++) {\n                timeToRender = i === len || this.charSpacing;\n                charsToRender += line[i];\n                charBox = this.__charBounds[lineIndex][i];\n                if (boxWidth === 0) {\n                    textLeftOffset += charBox.kernedWidth - charBox.width;\n                    boxWidth += charBox.width;\n                } else {\n                    boxWidth += charBox.kernedWidth;\n                }\n                if (isJustify && !timeToRender) {\n                    if (this._reSpaceAndTab.test(line[i])) {\n                        timeToRender = true;\n                    }\n                }\n                if (!timeToRender) {\n                    actualStyle = actualStyle || this.getCompleteStyleDeclaration(lineIndex, i);\n                    nextStyle = this.getCompleteStyleDeclaration(lineIndex, i + 1);\n                    timeToRender = this._hasStyleChangedForSvg(actualStyle, nextStyle);\n                }\n                if (timeToRender) {\n                    style = this._getStyleDeclaration(lineIndex, i) || {};\n                    textSpans.push(this._createTextCharSpan(charsToRender, style, textLeftOffset, textTopOffset));\n                    charsToRender = \"\";\n                    actualStyle = nextStyle;\n                    textLeftOffset += boxWidth;\n                    boxWidth = 0;\n                }\n            }\n        },\n        _pushTextBgRect: function(textBgRects, color, left, top, width, height) {\n            var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n            textBgRects.push(\"\\t\\t<rect \", this._getFillAttributes(color), ' x=\"', toFixed(left, NUM_FRACTION_DIGITS), '\" y=\"', toFixed(top, NUM_FRACTION_DIGITS), '\" width=\"', toFixed(width, NUM_FRACTION_DIGITS), '\" height=\"', toFixed(height, NUM_FRACTION_DIGITS), '\"></rect>\\n');\n        },\n        _setSVGTextLineBg: function(textBgRects, i, leftOffset, textTopOffset) {\n            var line = this._textLines[i], heightOfLine = this.getHeightOfLine(i) / this.lineHeight, boxWidth = 0, boxStart = 0, charBox, currentColor, lastColor = this.getValueOfPropertyAt(i, 0, \"textBackgroundColor\");\n            for (var j = 0, jlen = line.length; j < jlen; j++) {\n                charBox = this.__charBounds[i][j];\n                currentColor = this.getValueOfPropertyAt(i, j, \"textBackgroundColor\");\n                if (currentColor !== lastColor) {\n                    lastColor && this._pushTextBgRect(textBgRects, lastColor, leftOffset + boxStart, textTopOffset, boxWidth, heightOfLine);\n                    boxStart = charBox.left;\n                    boxWidth = charBox.width;\n                    lastColor = currentColor;\n                } else {\n                    boxWidth += charBox.kernedWidth;\n                }\n            }\n            currentColor && this._pushTextBgRect(textBgRects, currentColor, leftOffset + boxStart, textTopOffset, boxWidth, heightOfLine);\n        },\n        _getFillAttributes: function(value) {\n            var fillColor = value && typeof value === \"string\" ? new fabric.Color(value) : \"\";\n            if (!fillColor || !fillColor.getSource() || fillColor.getAlpha() === 1) {\n                return 'fill=\"' + value + '\"';\n            }\n            return 'opacity=\"' + fillColor.getAlpha() + '\" fill=\"' + fillColor.setAlpha(1).toRgb() + '\"';\n        },\n        _getSVGLineTopOffset: function(lineIndex) {\n            var lineTopOffset = 0, lastHeight = 0;\n            for (var j = 0; j < lineIndex; j++) {\n                lineTopOffset += this.getHeightOfLine(j);\n            }\n            lastHeight = this.getHeightOfLine(j);\n            return {\n                lineTop: lineTopOffset,\n                offset: (this._fontSizeMult - this._fontSizeFraction) * lastHeight / (this.lineHeight * this._fontSizeMult)\n            };\n        },\n        getSvgStyles: function(skipShadow) {\n            var svgStyle = fabric.Object.prototype.getSvgStyles.call(this, skipShadow);\n            return svgStyle + \" white-space: pre;\";\n        }\n    });\n})();\n\n(function(global) {\n    \"use strict\";\n    var fabric = global.fabric || (global.fabric = {});\n    fabric.Textbox = fabric.util.createClass(fabric.IText, fabric.Observable, {\n        type: \"textbox\",\n        minWidth: 20,\n        dynamicMinWidth: 2,\n        __cachedLines: null,\n        lockScalingFlip: true,\n        noScaleCache: false,\n        _dimensionAffectingProps: fabric.Text.prototype._dimensionAffectingProps.concat(\"width\"),\n        initDimensions: function() {\n            if (this.__skipDimension) {\n                return;\n            }\n            this.isEditing && this.initDelayedCursor();\n            this.clearContextTop();\n            this._clearCache();\n            this.dynamicMinWidth = 0;\n            this._styleMap = this._generateStyleMap(this._splitText());\n            if (this.dynamicMinWidth > this.width) {\n                this._set(\"width\", this.dynamicMinWidth);\n            }\n            if (this.textAlign.indexOf(\"justify\") !== -1) {\n                this.enlargeSpaces();\n            }\n            this.height = this.calcTextHeight();\n            this.saveState({\n                propertySet: \"_dimensionAffectingProps\"\n            });\n        },\n        _generateStyleMap: function(textInfo) {\n            var realLineCount = 0, realLineCharCount = 0, charCount = 0, map = {};\n            for (var i = 0; i < textInfo.graphemeLines.length; i++) {\n                if (textInfo.graphemeText[charCount] === \"\\n\" && i > 0) {\n                    realLineCharCount = 0;\n                    charCount++;\n                    realLineCount++;\n                } else if (this._reSpaceAndTab.test(textInfo.graphemeText[charCount]) && i > 0) {\n                    realLineCharCount++;\n                    charCount++;\n                }\n                map[i] = {\n                    line: realLineCount,\n                    offset: realLineCharCount\n                };\n                charCount += textInfo.graphemeLines[i].length;\n                realLineCharCount += textInfo.graphemeLines[i].length;\n            }\n            return map;\n        },\n        styleHas: function(property, lineIndex) {\n            if (this._styleMap && !this.isWrapping) {\n                var map = this._styleMap[lineIndex];\n                if (map) {\n                    lineIndex = map.line;\n                }\n            }\n            return fabric.Text.prototype.styleHas.call(this, property, lineIndex);\n        },\n        isEmptyStyles: function(lineIndex) {\n            var offset = 0, nextLineIndex = lineIndex + 1, nextOffset, obj, shouldLimit = false;\n            var map = this._styleMap[lineIndex];\n            var mapNextLine = this._styleMap[lineIndex + 1];\n            if (map) {\n                lineIndex = map.line;\n                offset = map.offset;\n            }\n            if (mapNextLine) {\n                nextLineIndex = mapNextLine.line;\n                shouldLimit = nextLineIndex === lineIndex;\n                nextOffset = mapNextLine.offset;\n            }\n            obj = typeof lineIndex === \"undefined\" ? this.styles : {\n                line: this.styles[lineIndex]\n            };\n            for (var p1 in obj) {\n                for (var p2 in obj[p1]) {\n                    if (p2 >= offset && (!shouldLimit || p2 < nextOffset)) {\n                        for (var p3 in obj[p1][p2]) {\n                            return false;\n                        }\n                    }\n                }\n            }\n            return true;\n        },\n        _getStyleDeclaration: function(lineIndex, charIndex) {\n            if (this._styleMap && !this.isWrapping) {\n                var map = this._styleMap[lineIndex];\n                if (!map) {\n                    return null;\n                }\n                lineIndex = map.line;\n                charIndex = map.offset + charIndex;\n            }\n            return this.callSuper(\"_getStyleDeclaration\", lineIndex, charIndex);\n        },\n        _setStyleDeclaration: function(lineIndex, charIndex, style) {\n            var map = this._styleMap[lineIndex];\n            lineIndex = map.line;\n            charIndex = map.offset + charIndex;\n            this.styles[lineIndex][charIndex] = style;\n        },\n        _deleteStyleDeclaration: function(lineIndex, charIndex) {\n            var map = this._styleMap[lineIndex];\n            lineIndex = map.line;\n            charIndex = map.offset + charIndex;\n            delete this.styles[lineIndex][charIndex];\n        },\n        _getLineStyle: function(lineIndex) {\n            var map = this._styleMap[lineIndex];\n            return this.styles[map.line];\n        },\n        _setLineStyle: function(lineIndex, style) {\n            var map = this._styleMap[lineIndex];\n            this.styles[map.line] = style;\n        },\n        _deleteLineStyle: function(lineIndex) {\n            var map = this._styleMap[lineIndex];\n            delete this.styles[map.line];\n        },\n        _wrapText: function(lines, desiredWidth) {\n            var wrapped = [], i;\n            this.isWrapping = true;\n            for (i = 0; i < lines.length; i++) {\n                wrapped = wrapped.concat(this._wrapLine(lines[i], i, desiredWidth));\n            }\n            this.isWrapping = false;\n            return wrapped;\n        },\n        _measureWord: function(word, lineIndex, charOffset) {\n            var width = 0, prevGrapheme, skipLeft = true;\n            charOffset = charOffset || 0;\n            for (var i = 0, len = word.length; i < len; i++) {\n                var box = this._getGraphemeBox(word[i], lineIndex, i + charOffset, prevGrapheme, skipLeft);\n                width += box.kernedWidth;\n                prevGrapheme = word[i];\n            }\n            return width;\n        },\n        _wrapLine: function(_line, lineIndex, desiredWidth, reservedSpace) {\n            var lineWidth = 0, graphemeLines = [], line = [], words = _line.split(this._reSpaceAndTab), word = \"\", offset = 0, infix = \" \", wordWidth = 0, infixWidth = 0, largestWordWidth = 0, lineJustStarted = true, additionalSpace = this._getWidthOfCharSpacing(), reservedSpace = reservedSpace || 0;\n            desiredWidth -= reservedSpace;\n            for (var i = 0; i < words.length; i++) {\n                word = fabric.util.string.graphemeSplit(words[i]);\n                wordWidth = this._measureWord(word, lineIndex, offset);\n                offset += word.length;\n                lineWidth += infixWidth + wordWidth - additionalSpace;\n                if (lineWidth >= desiredWidth && !lineJustStarted) {\n                    graphemeLines.push(line);\n                    line = [];\n                    lineWidth = wordWidth;\n                    lineJustStarted = true;\n                } else {\n                    lineWidth += additionalSpace;\n                }\n                if (!lineJustStarted) {\n                    line.push(infix);\n                }\n                line = line.concat(word);\n                infixWidth = this._measureWord([ infix ], lineIndex, offset);\n                offset++;\n                lineJustStarted = false;\n                if (wordWidth > largestWordWidth) {\n                    largestWordWidth = wordWidth;\n                }\n            }\n            i && graphemeLines.push(line);\n            if (largestWordWidth + reservedSpace > this.dynamicMinWidth) {\n                this.dynamicMinWidth = largestWordWidth - additionalSpace + reservedSpace;\n            }\n            return graphemeLines;\n        },\n        isEndOfWrapping: function(lineIndex) {\n            if (!this._styleMap[lineIndex + 1]) {\n                return true;\n            }\n            if (this._styleMap[lineIndex + 1].line !== this._styleMap[lineIndex].line) {\n                return true;\n            }\n            return false;\n        },\n        _splitTextIntoLines: function(text) {\n            var newText = fabric.Text.prototype._splitTextIntoLines.call(this, text), graphemeLines = this._wrapText(newText.lines, this.width), lines = new Array(graphemeLines.length);\n            for (var i = 0; i < graphemeLines.length; i++) {\n                lines[i] = graphemeLines[i].join(\"\");\n            }\n            newText.lines = lines;\n            newText.graphemeLines = graphemeLines;\n            return newText;\n        },\n        getMinWidth: function() {\n            return Math.max(this.minWidth, this.dynamicMinWidth);\n        },\n        toObject: function(propertiesToInclude) {\n            return this.callSuper(\"toObject\", [ \"minWidth\" ].concat(propertiesToInclude));\n        }\n    });\n    fabric.Textbox.fromObject = function(object, callback) {\n        return fabric.Object._fromObject(\"Textbox\", object, callback, \"text\");\n    };\n})(typeof exports !== \"undefined\" ? exports : this);\n\n(function() {\n    var setObjectScaleOverridden = fabric.Canvas.prototype._setObjectScale;\n    fabric.Canvas.prototype._setObjectScale = function(localMouse, transform, lockScalingX, lockScalingY, by, lockScalingFlip, _dim) {\n        var t = transform.target;\n        if (by === \"x\" && t instanceof fabric.Textbox) {\n            var tw = t._getTransformedDimensions().x;\n            var w = t.width * (localMouse.x / tw);\n            if (w >= t.getMinWidth()) {\n                t.set(\"width\", w);\n                return true;\n            }\n        } else {\n            return setObjectScaleOverridden.call(fabric.Canvas.prototype, localMouse, transform, lockScalingX, lockScalingY, by, lockScalingFlip, _dim);\n        }\n    };\n    fabric.util.object.extend(fabric.Textbox.prototype, {\n        _removeExtraneousStyles: function() {\n            for (var prop in this._styleMap) {\n                if (!this._textLines[prop]) {\n                    delete this.styles[this._styleMap[prop].line];\n                }\n            }\n        }\n    });\n})();","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./animate.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./animate.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./animate.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./main.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./main.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./main.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// removed by extract-text-webpack-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":""}