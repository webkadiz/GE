{"version":3,"sources":["webpack:///src/js/components/color/fill.vue","webpack:///./src/js/components/color/fill.vue?3cc3","webpack:///./src/js/components/color/fill.vue?8eb3","webpack:///./src/js/components/color/fill.vue?b586","webpack:///./src/js/components/color/fill.vue?fdc7","webpack:///./src/js/components/color/fill.vue?66b0","webpack:///./src/js/components/color/fill.vue","webpack:///./src/js/components/color/fill.vue?7071","webpack:///./src/js/components/color/fill.vue?f138","webpack:///./src/js/components/color/fill.vue?1749"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AASA;;;;;;;UAEA;AACA;mBACA;uBACA;yEACA;SACA;8CACA;AACA;oBACA,6BAEA;YACA;;uBAEA;YACA;iBACA;mBACA;iBACA;kBACA;kBACA;mBACA;2BACA;8BACA;yBACA;6BACA;6BACA;uBACA;wBACA;iCACA;0BACA;uBACA;;gBAEA;wBACA;gBACA;0BAEA;AALA;AAQA;AA3BA;;;oBA6BA;gBAIA;;;;;wBAEA;+GACA;gHACA;aAEA;;6BACA;uDACA;8FAEA;;oDACA,yCACA,yCAEA;;sFACA;8DACA;AACA;AACA;2BACA;8BACA,2CACA,oDAEA;sDACA;oCACA;oDACA;0DACA;gCACA;4FACA;oEACA;AACA;AACA;AACA;AACA;AAIA;AArCA;AANA;;8EA6CA;;iEAEA;;mEAEA;;;oCAGA;;;mCAIA;AAHA;;eAIA;uBACA;2BAEA;;gDACA;kDAEA;;uBACA;yBACA;AAGA;AAlBA;;;AAoBA;iBAEA;AAHA;AAIA;AAlHA,E;;;;;;;;;;;ACVA;AACA;;;AAGA;AACA,sDAAuD,8CAA8C,GAAG;;AAExG;;;;;;;;;;;;ACPA;AACA;;;AAGA;AACA,uDAAwD,kBAAkB,GAAG,iDAAiD,uBAAuB,mBAAmB,sBAAsB,GAAG,iDAAiD,oBAAoB,qBAAqB,sBAAsB,gCAAgC,4BAA4B,yBAAyB,iCAAiC,mCAAmC,2BAA2B,yBAAyB,kCAAkC,gCAAgC,+CAA+C,qBAAqB,sBAAsB,GAAG,uDAAuD,8BAA8B,oDAAoD,iCAAiC,4BAA4B,kCAAkC,uBAAuB,GAAG;;AAE/5B;;;;;;;;;;;;;;;ACPA;AAAA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA,cAAc,eAAe;AAC7B,iBAAiB;AACjB,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,Y;;;;;;;;;;;ACVA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,Y;;;;;;;;;;;;;;;;;;;ACVkC;AAClC;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,uBAiBA;AACA;AACA,gF;;;;;;;;;;;;;;;;ACxC+K,yOAAoB,C;;;;;;;;;;;;;;;;ACA0L,iZAAoB,C;;;;;;;;;;;;;;;;ACA5C,yXAAoB,C","file":"js/13.build.js","sourcesContent":["<template>\n\t<div class=\"wrapper\">\n\t\t<input :value=\"computeValue\" ref=\"colorpicker\" type=\"text\">\n\t</div>\n</template>\n\n<script>\nimport Icon from '../icon';\n\nexport default {\n  props: ['setting'],\n  computed: {\n\t\tcomputeValue() {\n      setTimeout(() =>\t{\n\t\t\t  $(this.$refs.colorpicker).spectrum('set', this.$refs.colorpicker.value )\n      }, 0)\n\t\t\treturn this.getCanvasProp(this.setting, 'global')\n\t\t},\n    ...Vuex.mapState([\"canvas\"]),\n    ...Vuex.mapGetters([\"getCanvasProp\"])\n\t},\n  mounted() {\n    $(this.$refs.colorpicker).spectrum({\n      preferredFormat: \"name\",\n      flat: true,\n      showInput: true,\n      showInitial: true,\n      showAlpha: true,\n      chooseText: \"Применить\",\n      cancelText: \"Отменить\",\n      showPalette: true,\n      clickoutFiresChange: false,\n      hideAfterPaletteSelect: true,\n      togglePaletteOnly: true,\n      togglePaletteMoreText: \"развернуть\",\n      togglePaletteLessText: \"свернуть\",\n      localStorageKey: \"color-fill-stroke\",\n      maxSelectionSize: 10,\n      palette: this.$store.state.palette,\n      containerClassName: 'fill-tools__colorpicker',\n      change: color => {\n        this.$store.commit({\n          type: \"propUpdate\",\n          setting: this.setting,\n          tool: \"global\",\n          newValue: color.toRgbString()\n        })      \n      }\n    });\n\n    let Palette = Vue.extend({\n      components: {Icon},\n      template: `<div class=\"color-picker-icon-wrapper\">\n                  <div @click=\"newColor\" class=\"color-picker-icon\"><Icon icon=\"file\"></Icon></div>\n                  <div @click=\"deleteColor\" class=\"color-picker-icon\"><Icon icon=\"delete\"></Icon></div>\n                 </div>`,\n      methods: {\n        newColor: () => {\n          let colors = Array.from(this.$el.querySelectorAll('.sp-palette-row-selection > span'), function(el) { \n            if(el.dataset.color === $(this.$refs.colorpicker).spectrum(\"get\").toRgbString()) return el.dataset.color\n          }, this)\n\n          if(colors.length) {\n            let color = colors.find(color => color !== undefined);\n            color = color || this.$el.querySelector('.sp-palette-row-selection span').dataset.color;\n           \n            this.$store.state.palette.last.length < 10 \n              ? this.$store.state.palette.last.push(color)\n              : this.$store.state.palette.push([color])\n\n            $(this.$refs.colorpicker).spectrum(\"option\", \"palette\", this.$store.state.palette);\n            setLocalStorageField('palette',  this.$store.state.palette)\n          }\n        },\n        deleteColor: () => {\n          let currentColors = [\n            $(this.$refs.colorpicker).spectrum(\"get\").toName(),\n            $(this.$refs.colorpicker).spectrum(\"get\").toRgbString()\n          ]\n          this.$store.state.palette.forEach(colors => {\n            colors.forEach(color => {\n              currentColors.forEach(currentColor => {\n                if(currentColor === color.toLowerCase()) {\n                  colors.remove(color)\n                  $(this.$refs.colorpicker).spectrum(\"option\", \"palette\", this.$store.state.palette);\n                  setLocalStorageField('palette',  this.$store.state.palette)\n                }\n              })\n            })\n          });\n        }\n      }\n    })\n    \n    $(\".sp-palette-button-container\", this.$el).append(new Palette().$mount().$el)\n\n    this.psPalette = new PerfectScrollbar(this.$el.querySelector(\".sp-palette\"))\n    \n    this.psContainer = new PerfectScrollbar(this.$el.querySelector(\".sp-container\"))\n\n    Interact(\".sp-palette\", this.$el).resizable({\n      edges: { right: true, bottom: true, },\n\n      restrictSize: {\n        min: { width: 160, height: 160 }\n      },\n\n      inertia: true,\n      onmove: event => {\n        let target = event.target;\n\n        target.style.width = event.rect.width + \"px\";\n        target.style.height = event.rect.height + \"px\";\n\n        this.psPalette.update();\n        this.psContainer.update();\n      }\n    });\n    \n    new Sortable(this.$el.querySelector('.sp-palette'),{\n     // draggable: '.sp-thumb-el',\n     animation: 150\n    })\n  }\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import 'config-style'\n\n.wrapper\n  +bt()\n  \n\n</style>\n\n<style lang=\"sass\">\n\n@import 'config-style'\n\n.color-picker-icon-wrapper\n  display: flex\n  .color-picker-icon\n    margin-left: 5px\n    padding: 5px\n    cursor: pointer\n    +btn-char-spacing-effect(16px, 16px)\n\n</style>\n\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.wrapper[data-v-0ca3eadb] {\\n  border-top: 1px solid var(--border-color);\\n}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.color-picker-icon-wrapper {\\n  display: flex;\\n}\\n.color-picker-icon-wrapper .color-picker-icon {\\n    margin-left: 5px;\\n    padding: 5px;\\n    cursor: pointer;\\n}\\n.color-picker-icon-wrapper .color-picker-icon {\\n      width: 16px;\\n      height: 16px;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      overflow: hidden;\\n      color: var(--text-color);\\n      text-transform: capitalize;\\n      border-radius: 3px;\\n      font-size: 0.9em;\\n      transition: .35s ease-out;\\n      background: transparent;\\n      text-shadow: 0 1px 0 var(--text-color);\\n      border: none;\\n      outline: none;\\n}\\n.color-picker-icon-wrapper .color-picker-icon:hover {\\n        letter-spacing: 2px;\\n        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);\\n        transition-delay: 0.1s;\\n        font-weight: bold;\\n        background: transparent;\\n        border: none;\\n}\\n\", \"\"]);\n\n// exports\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrapper\" }, [\n    _c(\"input\", {\n      ref: \"colorpicker\",\n      attrs: { type: \"text\" },\n      domProps: { value: _vm.computeValue }\n    })\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=0&id=0ca3eadb&lang=sass&scoped=true\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"761970a4\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=0&id=0ca3eadb&lang=sass&scoped=true\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=0&id=0ca3eadb&lang=sass&scoped=true\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=1&lang=sass\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"f9fdab1a\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=1&lang=sass\", function() {\n     var newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=1&lang=sass\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./fill.vue?vue&type=template&id=0ca3eadb&scoped=true\"\nimport script from \"./fill.vue?vue&type=script&lang=js\"\nexport * from \"./fill.vue?vue&type=script&lang=js\"\nimport style0 from \"./fill.vue?vue&type=style&index=0&id=0ca3eadb&lang=sass&scoped=true\"\nimport style1 from \"./fill.vue?vue&type=style&index=1&lang=sass\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ca3eadb\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/webkadiz/Projects/current/GE/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0ca3eadb', component.options)\n    } else {\n      api.reload('0ca3eadb', component.options)\n    }\n    module.hot.accept(\"./fill.vue?vue&type=template&id=0ca3eadb&scoped=true\", function () {\n      api.rerender('0ca3eadb', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/js/components/color/fill.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=script&lang=js\"","import mod from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=0&id=0ca3eadb&lang=sass&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=0&id=0ca3eadb&lang=sass&scoped=true\"","import mod from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=1&lang=sass\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/lib/loader.js??ref--2-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fill.vue?vue&type=style&index=1&lang=sass\""],"sourceRoot":""}